"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ he),\n/* harmony export */   Compression: () => (/* binding */ de),\n/* harmony export */   DisplaySurveyType: () => (/* binding */ Uo),\n/* harmony export */   PostHog: () => (/* binding */ Fa),\n/* harmony export */   SurveyEventName: () => (/* binding */ Lo),\n/* harmony export */   SurveyEventProperties: () => (/* binding */ No),\n/* harmony export */   SurveyPosition: () => (/* binding */ Oo),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Do),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Ao),\n/* harmony export */   SurveySchedule: () => (/* binding */ jo),\n/* harmony export */   SurveyType: () => (/* binding */ Fo),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ Mo),\n/* harmony export */   \"default\": () => (/* binding */ Da),\n/* harmony export */   posthog: () => (/* binding */ Da),\n/* harmony export */   severityLevels: () => (/* binding */ ve)\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.268.6\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function y(t,i){return-1!==t.indexOf(i)}var b=function(t){return t.trim()},w=function(t){return t.replace(/^\\$/,\"\")};var S=Array.isArray,k=Object.prototype,x=k.hasOwnProperty,E=k.toString,P=S||function(t){return\"[object Array]\"===E.call(t)},R=t=>\"function\"==typeof t,I=t=>t===Object(t)&&!P(t),T=t=>{if(I(t)){for(var i in t)if(x.call(t,i))return!1;return!0}return!1},C=t=>void 0===t,M=t=>\"[object String]\"==E.call(t),O=t=>M(t)&&0===t.trim().length,F=t=>null===t,A=t=>C(t)||F(t),D=t=>\"[object Number]\"==E.call(t),j=t=>\"[object Boolean]\"===E.call(t),L=t=>t instanceof FormData,N=t=>y(m,t);function U(t){return null===t||\"object\"!=typeof t}function z(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function q(t){return!C(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var B=[!0,\"true\",1,\"1\",\"yes\"],H=t=>y(B,t),W=[!1,\"false\",0,\"0\",\"no\"];function G(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),D(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),G(s||e,i,e,r))}class V{constructor(t){this.t=t,this.i={},this.o=()=>{Object.keys(this.i).forEach((t=>{var i=this.h(t)+this.m;i>=this.S?delete this.i[t]:this.k(t,i)}))},this.h=t=>this.i[String(t)],this.k=(t,i)=>{this.i[String(t)]=i},this.consumeRateLimit=t=>{var i,e,r=null!==(i=this.h(t))&&void 0!==i?i:this.S;if(0===(r=Math.max(r-1,0)))return!0;this.k(t,r);var s=0===r;return s&&(null==(e=this.$)||e.call(this,t)),s},this.$=this.t.$,this.S=G(this.t.bucketSize,0,100,this.t.P),this.m=G(this.t.refillRate,0,this.S,this.t.P),this.R=G(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval((()=>{this.o()}),this.R)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var J,K,Y,X=t=>t instanceof Error;function Q(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Y&&e.length===K||(K=e.length,Y=e.reduce(((e,r)=>{J||(J={});var s=J[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,J[r]=[l,u];break}}return e}),{})),Y}}var Z=\"?\";function tt(t,i,e,r){var s={platform:\"web:javascript\",filename:t,function:\"<anonymous>\"===i?Z:i,in_app:!0};return C(e)||(s.lineno=e),C(r)||(s.colno=r),s}var it=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:Z,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},et=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,rt=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,st=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,nt=t=>{var i=et.exec(t);if(i){var[,e,r,s]=i;return tt(e,Z,+r,+s)}var n=rt.exec(t);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){var o=st.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}var[a,l]=it(n[1]||Z,n[2]);return tt(l,a,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},ot=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,at=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,lt=t=>{var i=ot.exec(t);if(i){if(i[3]&&i[3].indexOf(\" > eval\")>-1){var e=at.exec(i[3]);e&&(i[1]=i[1]||\"eval\",i[3]=e[1],i[4]=e[2],i[5]=\"\")}var r=i[3],s=i[1]||Z;return[s,r]=it(s,r),tt(r,s,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}},ut=/\\(error: (.*)\\)/,ht=50;function dt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t,e){void 0===e&&(e=0);for(var r=[],s=t.split(\"\\n\"),n=e;n<s.length;n++){var o=s[n];if(!(o.length>1024)){var a=ut.test(o)?o.replace(ut,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of i){var u=l(a);if(u){r.push(u);break}}if(r.length>=ht)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,ht).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||Z});var e}))}(r)}}class vt{constructor(t,i,e){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===e&&(e=[]),this.coercers=t,this.modifiers=e,this.stackParser=dt(...i)}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&P(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:Q(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}class ct{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=M(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return z(t,\"DOMException\")}isDOMError(t){return z(t,\"DOMError\")}}class ft{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class pt{constructor(){}match(t){return z(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var gt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class _t{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(gt);return r&&(i=r[1],e=r[2]),[i,e]}}var mt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function yt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class bt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return q(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+yt(t)}isSeverityLevel(t){return M(t)&&!O(t)&&mt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(X(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class wt{match(t){return q(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+yt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class St{match(t){return U(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class kt{match(t){return z(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return U(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(U(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var $t=i=>{var e={T:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!C(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(i,...n)}},info:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{e.error(\"You must initialize PostHog before calling \"+t)},createLogger:t=>$t(i+\" \"+t)};return e},xt=$t(\"[PostHog.js]\"),Et=xt.createLogger,Pt=Et(\"[ExternalScriptsLoader]\"),Rt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return Pt.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Rt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Rt(t,r,e)};var It={};function Tt(t,i,e){if(P(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===It)return}function Ct(t,i,e){if(!A(t)){if(P(t))return Tt(t,i,e);if(L(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===It)return}else for(var s in t)if(x.call(t,s)&&i.call(e,t[s],s)===It)return}}var Mt=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Tt(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},Ot=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Tt(e,(function(i){Tt(i,(function(i){t.push(i)}))})),t};function Ft(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var At=function(t){try{return t()}catch(t){return}},Dt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){xt.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),xt.critical(t)}}},jt=function(t){var i={};return Ct(t,(function(t,e){(M(t)&&t.length>0||D(t))&&(i[e]=t)})),i};function Lt(t,i){return e=t,r=t=>M(t)&&!F(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),P(i)?(n=[],Tt(i,(i=>{n.push(t(i))}))):(n={},Ct(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var Nt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ut(t){var i=null==t?void 0:t.hostname;if(!M(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of Nt)if(e===r)return!1;return!0}function zt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function qt(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Bt=\"$people_distinct_id\",Ht=\"__alias\",Wt=\"__timers\",Gt=\"$autocapture_disabled_server_side\",Vt=\"$heatmaps_enabled_server_side\",Jt=\"$exception_capture_enabled_server_side\",Kt=\"$error_tracking_suppression_rules\",Yt=\"$error_tracking_capture_extension_exceptions\",Xt=\"$web_vitals_enabled_server_side\",Qt=\"$dead_clicks_enabled_server_side\",Zt=\"$web_vitals_allowed_metrics\",ti=\"$session_recording_remote_config\",ii=\"$session_recording_enabled_server_side\",ei=\"$console_log_recording_enabled_server_side\",ri=\"$session_recording_network_payload_capture\",si=\"$session_recording_masking\",ni=\"$session_recording_canvas_recording\",oi=\"$replay_sample_rate\",ai=\"$replay_minimum_duration\",li=\"$replay_script_config\",ui=\"$sesid\",hi=\"$session_is_sampled\",di=\"$session_recording_url_trigger_activated_session\",vi=\"$session_recording_event_trigger_activated_session\",ci=\"$enabled_feature_flags\",fi=\"$early_access_features\",pi=\"$feature_flag_details\",gi=\"$stored_person_properties\",_i=\"$stored_group_properties\",mi=\"$surveys\",yi=\"$surveys_activated\",bi=\"$flag_call_reported\",wi=\"$user_state\",Si=\"$client_session_props\",ki=\"$capture_rate_limit\",$i=\"$initial_campaign_params\",xi=\"$initial_referrer_info\",Ei=\"$initial_person_info\",Pi=\"$epp\",Ri=\"__POSTHOG_TOOLBAR__\",Ii=\"$posthog_cookieless\",Ti=[Bt,Ht,\"__cmpns\",Wt,ii,Vt,ui,ci,Kt,wi,fi,pi,_i,gi,mi,bi,Si,ki,$i,xi,Pi,Ei];function Ci(t){return t instanceof Element&&(t.id===Ri||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Mi(t){return!!t&&1===t.nodeType}function Oi(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function Fi(t){return!!t&&3===t.nodeType}function Ai(t){return!!t&&11===t.nodeType}function Di(t){return t?b(t).split(/\\s+/):[]}function ji(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Li(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return Di(i)}function Ni(t){return A(t)?null:b(t).split(/(\\s+)/).filter((t=>re(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Ui(t){var i=\"\";return Ki(t)&&!Yi(t)&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;Fi(t)&&t.textContent&&(i+=null!==(e=Ni(t.textContent))&&void 0!==e?e:\"\")})),b(i)}function zi(t){return C(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var qi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Bi(t,i){if(C(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Hi(t){var i=t.parentNode;return!(!i||!Mi(i))&&i}var Wi=[\".ph-no-rageclick\",\".ph-no-capture\"];var Gi=t=>!t||Oi(t,\"html\")||!Mi(t),Vi=(i,e)=>{if(!t||Gi(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!Oi(n,\"body\");)if(Ai(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Hi(n);if(!o)break;if(e||qi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Ji(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||Gi(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!ji(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&ji(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Vi(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(C(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Bi(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(qi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function Ki(t){for(var i=t;i.parentNode&&!Oi(i,\"body\");i=i.parentNode){var e=Li(i);if(y(e,\"ph-sensitive\")||y(e,\"ph-no-capture\"))return!1}if(y(Li(t),\"ph-include\"))return!0;var r=t.type||\"\";if(M(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(M(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Yi(t){return!!(Oi(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||Oi(t,\"select\")||Oi(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var Xi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Qi=new RegExp(\"^(?:\"+Xi+\")$\"),Zi=new RegExp(Xi),te=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",ie=new RegExp(\"^(\"+te+\")$\"),ee=new RegExp(\"(\"+te+\")\");function re(t,i){if(void 0===i&&(i=!0),A(t))return!1;if(M(t)){if(t=b(t),(i?Qi:Zi).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?ie:ee).test(t))return!1}return!0}function se(t){var i=Ui(t);return re(i=(i+\" \"+ne(t)).trim())?i:\"\"}function ne(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Ui(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+ne(t)).trim())}catch(t){xt.error(\"[AutoCapture]\",t)}})),i}function oe(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Ft(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[ae(i.toString())]=ae(e.toString())})),r+=\":\",r+=Ft(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:le(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Ft(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function ae(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function le(t){var i=t.attr__class;return i?P(i)?i:Di(i):void 0}class ue{constructor(){this.clicks=[]}isRageClick(t,i,e){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<30&&e-r.timestamp<1e3){if(this.clicks.push({x:t,y:i,timestamp:e}),3===this.clicks.length)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var he=\"$copy_autocapture\",de=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),ve=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],ce=[\"localhost\",\"127.0.0.1\"],fe=t=>{var i=null==o?void 0:o.createElement(\"a\");return C(i)?null:(i.href=t,i)},pe=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Ct(t,(function(t,i){C(t)||C(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},ge=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!P(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){xt.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},_e=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");P(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},me=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},ye=Et(\"[AutoCapture]\");function be(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function we(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Mi(i));return i}function Se(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};qi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=be(1024,se(t)):n.$el_text=be(1024,Ui(t)));var o=Li(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Ct(t.attributes,(function(e){var s;if((!Yi(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&re(e.value)&&(s=e.name,!M(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=Di(o).join(\" \")),n[\"attr__\"+e.name]=be(1024,o)}}));for(var a=1,l=1,u=t;u=we(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function ke(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!Oi(d,\"body\");)Ai(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Ct(h,(t=>{var i=Ki(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&re(p)&&p),y(Li(t),\"ph-no-capture\")&&(g=!0),c.push(Se(t,o,a,l));var e=function(t){if(!Ki(t))return{};var i={};return Ct(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&re(r)&&(i[e]=r)}})),i}(t);Mt(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=se(i):c[0].$el_text=Ui(i)),p){var _,m;c[0].attr__href=p;var b=null==(_=fe(p))?void 0:_.host,w=null==t||null==(m=t.location)?void 0:m.host;b&&w&&b!==w&&(v=p)}return{props:Mt({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:oe(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class $e{constructor(t){this.C=!1,this.M=null,this.rageclicks=new ue,this.O=!1,this.instance=t,this.F=null}get A(){var t,i,e=I(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}D(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.j(i)}catch(t){ye.error(\"Failed to capture event\",t)}};if(qt(o,\"submit\",i,{capture:!0}),qt(o,\"change\",i,{capture:!0}),qt(o,\"click\",i,{capture:!0}),this.A.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.j(i,he)};qt(o,\"copy\",e,{capture:!0}),qt(o,\"cut\",e,{capture:!0})}}}else ye.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.O=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Gt]:!!t.autocapture_opt_out}),this.M=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.F=t}getElementSelectors(t){var i,e=[];return null==(i=this.F)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Gt],r=this.M;if(F(r)&&!j(e)&&!this.instance.L())return!1;var s=null!==(i=this.M)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}j(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=zi(i);if(Fi(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,(new Date).getTime())&&function(i,e){if(!t||Gi(i))return!1;var r,s;if(!1===(r=j(e)?!!e&&Wi:null!==(s=null==e?void 0:e.css_selector_ignorelist)&&void 0!==s?s:Wi))return!1;var{targetElementList:n}=Vi(i,!1);return!Bi(n,r)}(s,this.instance.config.rageclick)&&this.j(i,\"$rageclick\");var n=e===he;if(s&&Ji(s,i,this.A,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=ke(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===he){var u,h=Ni(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return R(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return D(t)&&isFinite(t)&&Math.floor(t)===t});var xe=\"0123456789abcdef\";class Ee{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new Ee(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+xe.charAt(this.bytes[i]>>>4)+xe.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new Ee(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class Pe{constructor(){this.N=0,this.U=0,this.q=new Te}generate(){var t=this.generateOrAbort();if(C(t)){this.N=0;var i=this.generateOrAbort();if(C(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.N)this.N=t,this.B();else{if(!(t+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Ee.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var Re,Ie=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!C(t.crypto)&&crypto.getRandomValues&&(Ie=t=>crypto.getRandomValues(t));class Te{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(Ie(this.H),this.W=0),this.H[this.W++]}}var Ce=()=>Me().toString(),Me=()=>(Re||(Re=new Pe)).generate(),Oe=\"\";var Fe=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function Ae(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Oe)return Oe;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+Ce();!Oe&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Oe=n)}return Oe}(t);if(!e){var r=(t=>{var i=t.match(Fe);return i?i[0]:\"\"})(t);r!==e&&xt.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var De={G:()=>!!o,V:function(t){xt.error(\"cookieStore error: \"+t)},J:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},K:function(t){var i;try{i=JSON.parse(De.J(t))||{}}catch(t){}return i},Y:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=Ae(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&xt.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},X:function(t,i){if(null!=o&&o.cookie)try{De.Y(t,\"\",-1,i)}catch(t){return}}},je=null,Le={G:function(){if(!F(je))return je;var i=!0;if(C(t))i=!1;else try{var e=\"__mplssupport__\";Le.Y(e,\"xyz\"),'\"xyz\"'!==Le.J(e)&&(i=!1),Le.X(e)}catch(t){i=!1}return i||xt.error(\"localStorage unsupported; falling back to cookie store\"),je=i,i},V:function(t){xt.error(\"localStorage error: \"+t)},J:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Le.V(t)}return null},K:function(t){try{return JSON.parse(Le.J(t))||{}}catch(t){}return null},Y:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Le.V(t)}},X:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Le.V(t)}}},Ne=[\"distinct_id\",ui,hi,Pi,Ei],Ue=g({},Le,{K:function(t){try{var i={};try{i=De.K(t)||{}}catch(t){}var e=Mt(i,JSON.parse(Le.J(t)||\"{}\"));return Le.Y(t,e),e}catch(t){}return null},Y:function(t,i,e,r,s,n){try{Le.Y(t,i,void 0,void 0,n);var o={};Ne.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&De.Y(t,o,e,r,s,n)}catch(t){Le.V(t)}},X:function(i,e){try{null==t||t.localStorage.removeItem(i),De.X(i,e)}catch(t){Le.V(t)}}}),ze={},qe={G:function(){return!0},V:function(t){xt.error(\"memoryStorage error: \"+t)},J:function(t){return ze[t]||null},K:function(t){return ze[t]||null},Y:function(t,i){ze[t]=i},X:function(t){delete ze[t]}},Be=null,He={G:function(){if(!F(Be))return Be;if(Be=!0,C(t))Be=!1;else try{var i=\"__support__\";He.Y(i,\"xyz\"),'\"xyz\"'!==He.J(i)&&(Be=!1),He.X(i)}catch(t){Be=!1}return Be},V:function(t){xt.error(\"sessionStorage error: \",t)},J:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){He.V(t)}return null},K:function(t){try{return JSON.parse(He.J(t))||null}catch(t){}return null},Y:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){He.V(t)}},X:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){He.V(t)}}},We=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class Ge{constructor(t){this._instance=t}get A(){return this._instance.config}get consent(){return this.Z()?We.DENIED:this.tt}isOptedOut(){return\"always\"===this.A.cookieless_mode||(this.consent===We.DENIED||this.consent===We.PENDING&&(this.A.opt_out_capturing_by_default||\"on_reject\"===this.A.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===We.DENIED}optInOut(t){this.it.Y(this.et,t?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get tt(){var t=this.it.J(this.et);return H(t)?We.GRANTED:y(W,t)?We.DENIED:We.PENDING}get it(){if(!this.rt){var t=this.A.opt_out_capturing_persistence_type;this.rt=\"localStorage\"===t?Le:De;var i=\"localStorage\"===t?De:Le;i.J(this.et)&&(this.rt.J(this.et)||this.optInOut(H(i.J(this.et))),i.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!zt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>H(t)))}}var Ve=Et(\"[Dead Clicks]\"),Je=()=>!0,Ke=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(Qt)),r=t.instance.config.capture_dead_clicks;return j(r)?r:e};class Ye{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[Qt]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt((()=>{this.ot()}))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?Ve.error(\"failed to load script\",i):t()}))}ot(){var t;if(o){if(!this.st&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=I(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.st=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.st.start(o),Ve.info(\"starting...\")}}else Ve.error(\"`document` not found. Cannot start.\")}stop(){this.st&&(this.st.stop(),this.st=void 0,Ve.info(\"stopping...\"))}}var Xe=Et(\"[ExceptionAutocapture]\");class Qe{constructor(i){var e,r,s;this.lt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=e(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=r(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=s(this.captureException.bind(this)))}catch(t){Xe.error(\"failed to start\",t),this.vt()}}},this._instance=i,this.ct=!(null==(e=this._instance.persistence)||!e.props[Jt]),this.A=this.ft(),this.gt=new V({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,P:Xe}),this.startIfEnabled()}ft(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return I(t)?i=g({},i,t):(C(t)?this.ct:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Xe.info(\"enabled\"),this.nt(this.lt))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return Xe.error(\"failed to load script\",i);t()}))}vt(){var t,i,e;null==(t=this.ut)||t.call(this),this.ut=void 0,null==(i=this.ht)||i.call(this),this.ht=void 0,null==(e=this.dt)||e.call(this),this.dt=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ct=!!i||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Jt]:this.ct}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.gt.consumeRateLimit(r)?Xe.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function Ze(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return R(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class tr{constructor(i){var e;this._instance=i,this._t=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(xt.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,xt.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||Ze(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||Ze(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"replaceState\")})),this.wt()}}bt(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this._t=r}catch(t){xt.error(\"Error capturing \"+i+\" pageview\",t)}}wt(){if(!this.yt){var i=()=>{this.bt(\"popstate\")};qt(t,\"popstate\",i),this.yt=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}function ir(t){var i,e;return(null==(i=JSON.stringify(t,(e=[],function(t,i){if(I(i)){for(;e.length>0&&e[e.length-1]!==this;)e.pop();return e.includes(i)?\"[Circular]\":(e.push(i),i)}return i})))?void 0:i.length)||0}function er(t,i){if(void 0===i&&(i=6606028.8),t.size>=i&&t.data.length>1){var e=Math.floor(t.data.length/2),r=t.data.slice(0,e),s=t.data.slice(e);return[er({size:ir(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),er({size:ir(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap((t=>t))}return[t]}var rr=(t=>(t[t.DomContentLoaded=0]=\"DomContentLoaded\",t[t.Load=1]=\"Load\",t[t.FullSnapshot=2]=\"FullSnapshot\",t[t.IncrementalSnapshot=3]=\"IncrementalSnapshot\",t[t.Meta=4]=\"Meta\",t[t.Custom=5]=\"Custom\",t[t.Plugin=6]=\"Plugin\",t))(rr||{}),sr=(t=>(t[t.Mutation=0]=\"Mutation\",t[t.MouseMove=1]=\"MouseMove\",t[t.MouseInteraction=2]=\"MouseInteraction\",t[t.Scroll=3]=\"Scroll\",t[t.ViewportResize=4]=\"ViewportResize\",t[t.Input=5]=\"Input\",t[t.TouchMove=6]=\"TouchMove\",t[t.MediaInteraction=7]=\"MediaInteraction\",t[t.StyleSheetRule=8]=\"StyleSheetRule\",t[t.CanvasMutation=9]=\"CanvasMutation\",t[t.Font=10]=\"Font\",t[t.Log=11]=\"Log\",t[t.Drag=12]=\"Drag\",t[t.StyleDeclaration=13]=\"StyleDeclaration\",t[t.Selection=14]=\"Selection\",t[t.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",t[t.CustomElement=16]=\"CustomElement\",t))(sr||{}),nr=\"[SessionRecording]\",or=\"redacted\",ar={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\",\"bam.nr-data.net\"]},lr=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],ur=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],hr=[\"/s/\",\"/e/\",\"/i/\"];function dr(t,i,e,r){if(A(t))return t;var s=(null==i?void 0:i[\"content-length\"])||function(t){return new Blob([t]).size}(t);return M(s)&&(s=parseInt(s)),s>e?nr+\" \"+r+\" body too large to record (\"+s+\" bytes)\":t}function vr(t,i){if(A(t))return t;var e=t;return re(e,!1)||(e=nr+\" \"+i+\" body \"+or),Ct(ur,(t=>{var r,s;null!=(r=e)&&r.length&&-1!==(null==(s=e)?void 0:s.indexOf(t))&&(e=nr+\" \"+i+\" body \"+or+\" as might contain: \"+t)})),e}var cr=(t,i)=>{var e,r,s,n={payloadSizeLimitBytes:ar.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ar.performanceEntryTypeToObserve],payloadHostDenyList:[...i.payloadHostDenyList||[],...ar.payloadHostDenyList]},o=!1!==t.session_recording.recordHeaders&&i.recordHeaders,a=!1!==t.session_recording.recordBody&&i.recordBody,l=!1!==t.capture_performance&&i.recordPerformance,u=(e=n,s=Math.min(1e6,null!==(r=e.payloadSizeLimitBytes)&&void 0!==r?r:1e6),t=>(null!=t&&t.requestBody&&(t.requestBody=dr(t.requestBody,t.requestHeaders,s,\"Request\")),null!=t&&t.responseBody&&(t.responseBody=dr(t.responseBody,t.responseHeaders,s,\"Response\")),t)),h=i=>{return u(((t,i)=>{var e,r=fe(t.name),s=0===i.indexOf(\"http\")?null==(e=fe(i))?void 0:e.pathname:i;\"/\"===s&&(s=\"\");var n=null==r?void 0:r.pathname.replace(s||\"\",\"\");if(!(r&&n&&hr.some((t=>0===n.indexOf(t)))))return t})((r=(e=i).requestHeaders,A(r)||Ct(Object.keys(null!=r?r:{}),(t=>{lr.includes(t.toLowerCase())&&(r[t]=or)})),e),t.api_host));var e,r},d=R(t.session_recording.maskNetworkRequestFn);return d&&R(t.session_recording.maskCapturedNetworkRequestFn)&&xt.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(t.session_recording.maskCapturedNetworkRequestFn=i=>{var e=t.session_recording.maskNetworkRequestFn({url:i.name});return g({},i,{name:null==e?void 0:e.url})}),n.maskRequestFn=R(t.session_recording.maskCapturedNetworkRequestFn)?i=>{var e,r=h(i);return r&&null!==(e=null==t.session_recording.maskCapturedNetworkRequestFn?void 0:t.session_recording.maskCapturedNetworkRequestFn(r))&&void 0!==e?e:void 0}:t=>function(t){if(!C(t))return t.requestBody=vr(t.requestBody,\"Request\"),t.responseBody=vr(t.responseBody,\"Response\"),t}(h(t)),g({},ar,n,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class fr{constructor(t,i){var e,r;void 0===i&&(i={}),this.St={},this.kt=t=>{if(!this.St[t]){var i,e;this.St[t]=!0;var r=this.$t(t);null==(i=(e=this.t).onBlockedNode)||i.call(e,t,r)}},this.xt=t=>{var i=this.$t(t);if(\"svg\"!==(null==i?void 0:i.nodeName)&&i instanceof Element){var e=i.closest(\"svg\");if(e)return[this._rrweb.mirror.getId(e),e]}return[t,i]},this.$t=t=>this._rrweb.mirror.getNode(t),this.Et=t=>{var i,e,r,s,n,o,a,l;return(null!==(i=null==(e=t.removes)?void 0:e.length)&&void 0!==i?i:0)+(null!==(r=null==(s=t.attributes)?void 0:s.length)&&void 0!==r?r:0)+(null!==(n=null==(o=t.texts)?void 0:o.length)&&void 0!==n?n:0)+(null!==(a=null==(l=t.adds)?void 0:l.length)&&void 0!==a?a:0)},this.throttleMutations=t=>{if(3!==t.type||0!==t.data.source)return t;var i=t.data,e=this.Et(i);i.attributes&&(i.attributes=i.attributes.filter((t=>{var[i]=this.xt(t.id);return!this.gt.consumeRateLimit(i)&&t})));var r=this.Et(i);return 0!==r||e===r?t:void 0},this._rrweb=t,this.t=i,this.gt=new V({bucketSize:null!==(e=this.t.bucketSize)&&void 0!==e?e:100,refillRate:null!==(r=this.t.refillRate)&&void 0!==r?r:10,refillInterval:1e3,$:this.kt,P:xt})}}var pr=Uint8Array,gr=Uint16Array,_r=Uint32Array,mr=new pr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yr=new pr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),br=new pr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=function(t,i){for(var e=new gr(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new _r(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Sr=wr(mr,2),kr=Sr[0],$r=Sr[1];kr[28]=258,$r[258]=28;for(var xr=wr(yr,0)[1],Er=new gr(32768),Pr=0;Pr<32768;++Pr){var Rr=(43690&Pr)>>>1|(21845&Pr)<<1;Rr=(61680&(Rr=(52428&Rr)>>>2|(13107&Rr)<<2))>>>4|(3855&Rr)<<4,Er[Pr]=((65280&Rr)>>>8|(255&Rr)<<8)>>>1}var Ir=function(t,i,e){for(var r=t.length,s=0,n=new gr(i);s<r;++s)++n[t[s]-1];var o,a=new gr(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new gr(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Er[d]>>>l]=u}else for(o=new gr(r),s=0;s<r;++s)o[s]=Er[a[t[s]-1]++]>>>15-t[s];return o},Tr=new pr(288);for(Pr=0;Pr<144;++Pr)Tr[Pr]=8;for(Pr=144;Pr<256;++Pr)Tr[Pr]=9;for(Pr=256;Pr<280;++Pr)Tr[Pr]=7;for(Pr=280;Pr<288;++Pr)Tr[Pr]=8;var Cr=new pr(32);for(Pr=0;Pr<32;++Pr)Cr[Pr]=5;var Mr=Ir(Tr,9,0),Or=Ir(Cr,5,0),Fr=function(t){return(t/8>>0)+(7&t&&1)},Ar=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof gr?gr:t instanceof _r?_r:pr)(e-i);return r.set(t.subarray(i,e)),r},Dr=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},jr=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Lr=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new pr(0),0];if(1==s){var o=new pr(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new gr(v+1),f=Nr(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new pr(c),f]},Nr=function(t,i,e){return-1==t.s?Math.max(Nr(t.l,i,e+1),Nr(t.r,i,e+1)):i[t.s]=e},Ur=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new gr(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},zr=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},qr=function(t,i,e){var r=e.length,s=Fr(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Br=function(t,i,e,r,s,n,o,a,l,u,h){Dr(i,h++,e),++s[256];for(var d=Lr(s,15),v=d[0],c=d[1],f=Lr(n,15),p=f[0],g=f[1],_=Ur(v),m=_[0],y=_[1],b=Ur(p),w=b[0],S=b[1],k=new gr(19),x=0;x<m.length;++x)k[31&m[x]]++;for(x=0;x<w.length;++x)k[31&w[x]]++;for(var E=Lr(k,7),P=E[0],R=E[1],I=19;I>4&&!P[br[I-1]];--I);var T,C,M,O,F=u+5<<3,A=zr(s,Tr)+zr(n,Cr)+o,D=zr(s,v)+zr(n,p)+o+14+3*I+zr(k,P)+(2*k[16]+3*k[17]+7*k[18]);if(F<=A&&F<=D)return qr(i,h,t.subarray(l,l+u));if(Dr(i,h,1+(D<A)),h+=2,D<A){T=Ir(v,c,0),C=v,M=Ir(p,g,0),O=p;var j=Ir(P,R,0);Dr(i,h,y-257),Dr(i,h+5,S-1),Dr(i,h+10,I-4),h+=14;for(x=0;x<I;++x)Dr(i,h+3*x,P[br[x]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(x=0;x<U.length;++x){var z=31&U[x];Dr(i,h,j[z]),h+=P[z],z>15&&(Dr(i,h,U[x]>>>5&127),h+=U[x]>>>12)}}}else T=Mr,C=Tr,M=Or,O=Cr;for(x=0;x<a;++x)if(r[x]>255){z=r[x]>>>18&31;jr(i,h,T[z+257]),h+=C[z+257],z>7&&(Dr(i,h,r[x]>>>23&31),h+=mr[z]);var q=31&r[x];jr(i,h,M[q]),h+=O[q],q>3&&(jr(i,h,r[x]>>>5&8191),h+=yr[q])}else jr(i,h,T[r[x]]),h+=C[r[x]];return jr(i,h,T[256]),h+C[256]},Hr=new _r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wr=function(){for(var t=new _r(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),Gr=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=Wr[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}},Vr=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new pr(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=qr(l,u,t.subarray(h,d)):(l[h]=n,u=qr(l,u,t.subarray(h,o)))}else{for(var v=Hr[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new gr(32768),_=new gr(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new _r(25e3),S=new gr(288),k=new gr(32),x=0,E=0,P=(h=0,0),R=0,I=0;h<o;++h){var T=b(h),C=32767&h,M=_[T];if(g[C]=M,_[T]=C,R<=h){var O=o-h;if((x>7e3||P>24576)&&O>423){u=Br(t,l,0,w,S,k,E,P,I,h-I,u),P=x=E=0,I=h;for(var F=0;F<286;++F)S[F]=0;for(F=0;F<30;++F)k[F]=0}var A=2,D=0,j=f,L=C-M&32767;if(O>2&&T==b(h-L))for(var N=Math.min(c,O)-1,U=Math.min(32767,h),z=Math.min(258,O);L<=U&&--j&&C!=M;){if(t[h+A]==t[h+A-L]){for(var q=0;q<z&&t[h+q]==t[h+q-L];++q);if(q>A){if(A=q,D=L,q>N)break;var B=Math.min(L,q-2),H=0;for(F=0;F<B;++F){var W=h-L+F+32768&32767,G=W-g[W]+32768&32767;G>H&&(H=G,M=W)}}}L+=(C=M)-(M=g[C])+32768&32767}if(D){w[P++]=268435456|$r[A]<<18|xr[D];var V=31&$r[A],J=31&xr[D];E+=mr[V]+yr[J],++S[257+V],++k[J],R=h+A,++x}else w[P++]=t[h],++S[t[h]]}}u=Br(t,l,n,w,S,k,E,P,I,h-I,u)}return Ar(a,0,r+Fr(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},Jr=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8},Kr=function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&Jr(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}},Yr=function(t){return 10+(t.filename&&t.filename.length+1||0)};function Xr(t,i){void 0===i&&(i={});var e=Gr(),r=t.length;e.p(t);var s=Vr(t,i,Yr(i),8),n=s.length;return Kr(s,i),Jr(s,n-8,e.d()),Jr(s,n-4,r),s}function Qr(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new pr(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new pr(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Ar(r,0,s)}function Zr(t,i){return function(t){for(var i=0,e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return Math.abs(i)}(t)%100<G(100*i,0,100,xt)}var ts=\"disabled\",is=\"sampled\",es=\"active\",rs=\"buffering\",ss=\"paused\",ns=\"trigger\",os=ns+\"_activated\",as=ns+\"_pending\",ls=ns+\"_\"+ts;function us(t,i){return i.some((i=>\"regex\"===i.matching&&new RegExp(i.url).test(t)))}class hs{constructor(t){this.Pt=t}triggerStatus(t){var i=this.Pt.map((i=>i.triggerStatus(t)));return i.includes(os)?os:i.includes(as)?as:ls}stop(){this.Pt.forEach((t=>t.stop()))}}class ds{constructor(t){this.Pt=t}triggerStatus(t){var i=new Set;for(var e of this.Pt)i.add(e.triggerStatus(t));switch(i.delete(ls),i.size){case 0:return ls;case 1:return Array.from(i)[0];default:return as}}stop(){this.Pt.forEach((t=>t.stop()))}}class vs{triggerStatus(){return as}stop(){}}var cs=t=>\"sessionRecording\"in t;class fs{constructor(t){this.Rt=[],this.It=[],this.urlBlocked=!1,this._instance=t}onConfig(t){var i,e;this.Rt=(cs(t)?null==(i=t.sessionRecording)?void 0:i.urlTriggers:null==t?void 0:t.urlTriggers)||[],this.It=(cs(t)?null==(e=t.sessionRecording)?void 0:e.urlBlocklist:null==t?void 0:t.urlBlocklist)||[]}onRemoteConfig(t){this.onConfig(t)}Tt(t){var i;return 0===this.Rt.length?ls:(null==(i=this._instance)?void 0:i.get_property(di))===t?os:as}triggerStatus(t){var i=this.Tt(t),e=i===os?os:i===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:e}),e}checkUrlTriggerConditions(i,e,r){if(void 0!==t&&t.location.href){var s=t.location.href,n=this.urlBlocked,o=us(s,this.It);n&&o||(o&&!n?i():!o&&n&&e(),us(s,this.Rt)&&r(\"url\"))}}stop(){}}class ps{constructor(t){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=t}triggerStatus(){var t=as;return A(this.linkedFlag)&&(t=ls),this.linkedFlagSeen&&(t=os),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:t}),t}onConfig(t,i){var e;if(this.linkedFlag=(cs(t)?null==(e=t.sessionRecording)?void 0:e.linkedFlag:null==t?void 0:t.linkedFlag)||null,!A(this.linkedFlag)&&!this.linkedFlagSeen){var r=M(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=M(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags(((t,e)=>{var n=!1;if(I(e)&&r in e){var o=e[r];n=j(o)?!0===o:s?o===s:!!o}this.linkedFlagSeen=n,n&&i(r,s)}))}}onRemoteConfig(t,i){this.onConfig(t,i)}stop(){this.Ct()}}class gs{constructor(t){this.Mt=[],this._instance=t}onConfig(t){var i;this.Mt=(cs(t)?null==(i=t.sessionRecording)?void 0:i.eventTriggers:null==t?void 0:t.eventTriggers)||[]}onRemoteConfig(t){this.onConfig(t)}Ot(t){var i;return 0===this.Mt.length?ls:(null==(i=this._instance)?void 0:i.get_property(vi))===t?os:as}triggerStatus(t){var i=this.Ot(t),e=i===os?os:i===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:e}),e}stop(){}}function _s(t){return t.isRecordingEnabled?rs:ts}function ms(t){if(!t.receivedFlags)return rs;if(!t.isRecordingEnabled)return ts;if(t.urlTriggerMatching.urlBlocked)return ss;var i=!0===t.isSampled,e=new hs([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return i?is:e===os?es:e===as?rs:!1===t.isSampled?ts:es}function ys(t){if(!t.receivedFlags)return rs;if(!t.isRecordingEnabled)return ts;if(t.urlTriggerMatching.urlBlocked)return ss;var i=new ds([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),e=i!==ls,r=j(t.isSampled);return e&&i===as?rs:e&&i===ls||r&&!t.isSampled?ts:!0===t.isSampled?is:es}var bs=\"[SessionRecording]\",ws=Et(bs);function Ss(){var t;return null==v||null==(t=v.__PosthogExtensions__)||null==(t=t.rrweb)?void 0:t.record}var ks=3e5,$s=[sr.MouseMove,sr.MouseInteraction,sr.Scroll,sr.ViewportResize,sr.Input,sr.TouchMove,sr.MediaInteraction,sr.Drag],xs=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Es(t){return function(t,i){for(var e=\"\",r=0;r<t.length;){var s=t[r++];e+=String.fromCharCode(s)}return e}(Xr(Qr(JSON.stringify(t))))}function Ps(t){return t.type===rr.Custom&&\"sessionIdle\"===t.data.tag}class Rs{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(bs+\" must be started with a valid sessionManager.\");return this._instance.sessionManager}get Lt(){var t,i;return this.Nt.triggerStatus(this.sessionId)===as?6e4:null!==(t=null==(i=this._instance.config.session_recording)?void 0:i.full_snapshot_interval_millis)&&void 0!==t?t:ks}get Ut(){var t=this._instance.get_property(hi);return j(t)?t:null}get zt(){var t,i,e=null==(t=this.H)?void 0:t.data[(null==(i=this.H)?void 0:i.data.length)-1],{sessionStartTimestamp:r}=this.jt.checkAndGetSessionAndWindowId(!0);return e?e.timestamp-r:null}get qt(){var i=!!this._instance.get_property(ii),e=!this._instance.config.disable_session_recording;return t&&i&&e}get Bt(){var t=!!this._instance.get_property(ei),i=this._instance.config.enable_recording_console_log;return null!=i?i:t}get Ht(){var t,i,e,r,s,n,o=this._instance.config.session_recording.captureCanvas,a=this._instance.get_property(ni),l=null!==(t=null!==(i=null==o?void 0:o.recordCanvas)&&void 0!==i?i:null==a?void 0:a.enabled)&&void 0!==t&&t,u=null!==(e=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==e?e:4,h=null!==(s=null!==(n=null==o?void 0:o.canvasQuality)&&void 0!==n?n:null==a?void 0:a.quality)&&void 0!==s?s:.4;if(\"string\"==typeof h){var d=parseFloat(h);h=isNaN(d)?.4:d}return{enabled:l,fps:G(u,0,12,ws.createLogger(\"canvas recording fps\"),4),quality:G(h,0,1,ws.createLogger(\"canvas recording quality\"),.4)}}get Wt(){var t,i,e=this._instance.get_property(ri),r={recordHeaders:null==(t=this._instance.config.session_recording)?void 0:t.recordHeaders,recordBody:null==(i=this._instance.config.session_recording)?void 0:i.recordBody},s=(null==r?void 0:r.recordHeaders)||(null==e?void 0:e.recordHeaders),n=(null==r?void 0:r.recordBody)||(null==e?void 0:e.recordBody),o=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,a=!!(j(o)?o:null==e?void 0:e.capturePerformance);return s||n||a?{recordHeaders:s,recordBody:n,recordPerformance:a}:void 0}get Gt(){var t,i,e,r,s,n,o=this._instance.get_property(si),a={maskAllInputs:null==(t=this._instance.config.session_recording)?void 0:t.maskAllInputs,maskTextSelector:null==(i=this._instance.config.session_recording)?void 0:i.maskTextSelector,blockSelector:null==(e=this._instance.config.session_recording)?void 0:e.blockSelector},l=null!==(r=null==a?void 0:a.maskAllInputs)&&void 0!==r?r:null==o?void 0:o.maskAllInputs,u=null!==(s=null==a?void 0:a.maskTextSelector)&&void 0!==s?s:null==o?void 0:o.maskTextSelector,h=null!==(n=null==a?void 0:a.blockSelector)&&void 0!==n?n:null==o?void 0:o.blockSelector;return C(l)&&C(u)&&C(h)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:h}}get Vt(){var t=this._instance.get_property(oi);return D(t)?t:null}get Jt(){var t=this._instance.get_property(ai);return D(t)?t:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.Ut,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):rs}constructor(t){if(this.Yt=_s,this.Kt=!1,this.ti=[],this.ii=\"unknown\",this.ei=Date.now(),this.Nt=new vs,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.tryAddCustomEvent(\"browser offline\",{})},this.di=()=>{this.tryAddCustomEvent(\"browser online\",{})},this.vi=()=>{if(null!=o&&o.visibilityState){var t=\"window \"+o.visibilityState;this.tryAddCustomEvent(t,{})}},this._instance=t,this.Dt=!1,this.ci=\"/s/\",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw ws.error(\"started without valid sessionManager\"),new Error(bs+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(bs+' cannot be used with cookieless_mode=\"always\"');this.Zt=new ps(this._instance),this.Xt=new fs(this._instance),this.Qt=new gs(this._instance);var{sessionId:i,windowId:e}=this.jt.checkAndGetSessionAndWindowId();this.Ft=i,this.pi=e,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&ws.warn(\"session_idle_threshold_ms (\"+this.At+\") is greater than the session timeout (\"+this.jt.sessionTimeoutMs+\"). Session will never be detected as idle\")}startIfEnabledOrStop(i){this.qt?(this.mi(i),qt(t,\"beforeunload\",this.li),qt(t,\"offline\",this.hi),qt(t,\"online\",this.di),qt(t,\"visibilitychange\",this.vi),this.yi(),this.bi(),A(this.ri)&&(this.ri=this._instance.on(\"eventCaptured\",(t=>{try{if(\"$pageview\"===t.event){var i=null!=t&&t.properties.$current_url?this.wi(null==t?void 0:t.properties.$current_url):\"\";if(!i)return;this.tryAddCustomEvent(\"$pageview\",{href:i})}}catch(t){ws.error(\"Could not add $pageview to rrweb session\",t)}}))),this.si||(this.si=this.jt.onSessionId(((t,i,e)=>{var r,s;e&&(this.tryAddCustomEvent(\"$session_id_change\",{sessionId:t,windowId:i,changeReason:e}),null==(r=this._instance)||null==(r=r.persistence)||r.unregister(vi),null==(s=this._instance)||null==(s=s.persistence)||s.unregister(di))})))):this.stopRecording()}stopRecording(){var i,e,r,s;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,null==t||t.removeEventListener(\"beforeunload\",this.li),null==t||t.removeEventListener(\"offline\",this.hi),null==t||t.removeEventListener(\"online\",this.di),null==t||t.removeEventListener(\"visibilitychange\",this.vi),this.gi(),clearInterval(this.Si),null==(i=this.ri)||i.call(this),this.ri=void 0,null==(e=this.ai)||e.call(this),this.ai=void 0,null==(r=this.si)||r.call(this),this.si=void 0,null==(s=this.oi)||s.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),ws.info(\"stopped\"))}ki(){var t;null==(t=this._instance.persistence)||t.unregister(hi)}$i(t){var i,e=this.Ft!==t,r=this.Vt;if(D(r)){var s=this.Ut,n=e||!j(s),o=n?Zr(t,r):s;n&&(o?this.xi(is):ws.warn(\"Sample rate (\"+r+\") has determined that this sessionId (\"+t+\") will not be sent to the server.\"),this.tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null==(i=this._instance.persistence)||i.register({[hi]:o})}else this.ki()}onRemoteConfig(t){var i,e,r,s;(this.tryAddCustomEvent(\"$remote_config_received\",t),this.Ei(t),null!=(i=t.sessionRecording)&&i.endpoint)&&(this.ci=null==(s=t.sessionRecording)?void 0:s.endpoint);this.yi(),\"any\"===(null==(e=t.sessionRecording)?void 0:e.triggerMatchType)?(this.Yt=ms,this.Nt=new hs([this.Qt,this.Xt])):(this.Yt=ys,this.Nt=new ds([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(r=t.sessionRecording)?void 0:r.triggerMatchType}),this.Xt.onConfig(t),this.Qt.onConfig(t),this.Zt.onConfig(t,((t,i)=>{this.xi(\"linked_flag_matched\",{flag:t,variant:i})})),this.Kt=!0,this.startIfEnabledOrStop()}yi(){D(this.Vt)&&A(this.oi)&&(this.oi=this.jt.onSessionId((t=>{this.$i(t)})))}Ei(t){if(this._instance.persistence){var i,e=this._instance.persistence,r=()=>{var i,r,s,n,o,a,l,u,h,d=null==(i=t.sessionRecording)?void 0:i.sampleRate,v=A(d)?null:parseFloat(d);A(v)&&this.ki();var c=null==(r=t.sessionRecording)?void 0:r.minimumDurationMilliseconds;e.register({[ii]:!!t.sessionRecording,[ei]:null==(s=t.sessionRecording)?void 0:s.consoleLogRecordingEnabled,[ri]:g({capturePerformance:t.capturePerformance},null==(n=t.sessionRecording)?void 0:n.networkPayloadCapture),[si]:null==(o=t.sessionRecording)?void 0:o.masking,[ni]:{enabled:null==(a=t.sessionRecording)?void 0:a.recordCanvas,fps:null==(l=t.sessionRecording)?void 0:l.canvasFps,quality:null==(u=t.sessionRecording)?void 0:u.canvasQuality},[oi]:v,[ai]:C(c)?null:c,[li]:null==(h=t.sessionRecording)?void 0:h.scriptConfig})};r(),null==(i=this.ni)||i.call(this),this.ni=this.jt.onSessionId(r)}}log(t,i){var e;void 0===i&&(i=\"log\"),null==(e=this._instance.sessionRecording)||e.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}mi(t){if(!C(Object.assign)&&!C(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var i;if(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),Ss())this.Pi();else null==(i=v.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,this.Ri,(t=>{if(t)return ws.error(\"could not load recorder\",t);this.Pi()}));ws.info(\"starting\"),this.status===es&&this.xi(t||\"recording_initialized\")}}get Ri(){var t;return(null==(t=this._instance)||null==(t=t.persistence)||null==(t=t.get_property(li))?void 0:t.script)||\"recorder\"}Ii(t){var i;return 3===t.type&&-1!==$s.indexOf(null==(i=t.data)?void 0:i.source)}Ti(t){var i=this.Ii(t);i||this.ii||t.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:t.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var e=!1;if(i&&(this.ei=t.timestamp,this.ii)){var r=\"unknown\"===this.ii;this.ii=!1,r||(this.tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:t.type}),e=!0)}if(!this.ii){var{windowId:s,sessionId:n}=this.jt.checkAndGetSessionAndWindowId(!i,t.timestamp),o=this.Ft!==n,a=this.pi!==s;this.pi=s,this.Ft=n,o||a?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):e&&this.Ci()}}Mi(t){try{return t.rrwebMethod(),!0}catch(i){return this.ti.length<10?this.ti.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ws.warn(\"could not emit queued rrweb event.\",i,t),!1}}tryAddCustomEvent(t,i){return this.Mi(xs((()=>Ss().addCustomEvent(t,i))))}Oi(){return this.Mi(xs((()=>Ss().takeFullSnapshot())))}Pi(){var t,i,e,r,s={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},n=this._instance.config.session_recording;for(var[o,a]of Object.entries(n||{}))o in s&&(\"maskInputOptions\"===o?s.maskInputOptions=g({password:!0},a):s[o]=a);(this.Ht&&this.Ht.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ht.fps},s.dataURLOptions={type:\"image/webp\",quality:this.Ht.quality}),this.Gt)&&(s.maskAllInputs=null===(i=this.Gt.maskAllInputs)||void 0===i||i,s.maskTextSelector=null!==(e=this.Gt.maskTextSelector)&&void 0!==e?e:void 0,s.blockSelector=null!==(r=this.Gt.blockSelector)&&void 0!==r?r:void 0);var l=Ss();if(l){this.Fi=null!==(t=this.Fi)&&void 0!==t?t:new fr(l,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(t,i)=>{var e=\"Too many mutations on node '\"+t+\"'. Rate limiting. This could be due to SVG animations or something similar\";ws.info(e,{node:i}),this.log(bs+\" \"+e,\"warn\")}});var u=this.Ai();this.fi=l(g({emit:t=>{this.onRRwebEmit(t)},plugins:u},s)),this.ei=Date.now(),this.ii=j(this.ii)?this.ii:\"unknown\",this.tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:s,activePlugins:u.map((t=>null==t?void 0:t.name))}),this.tryAddCustomEvent(\"$posthog_config\",{config:this._instance.config})}else ws.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}Ci(){if(this.Si&&clearInterval(this.Si),!0!==this.ii){var t=this.Lt;t&&(this.Si=setInterval((()=>{this.Oi()}),t))}}Ai(){var t,i,e=[],r=null==(t=v.__PosthogExtensions__)||null==(t=t.rrwebPlugins)?void 0:t.getRecordConsolePlugin;r&&this.Bt&&e.push(r());var s=null==(i=v.__PosthogExtensions__)||null==(i=i.rrwebPlugins)?void 0:i.getRecordNetworkPlugin;this.Wt&&R(s)&&(!ce.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(s(cr(this._instance.config,this.Wt))):ws.info(\"NetworkCapture not started because we are on localhost.\"));return e}onRRwebEmit(t){var i;if(this.Di(),t&&I(t)){if(t.type===rr.Meta){var e=this.wi(t.data.href);if(this.ji=e,!e)return;t.data.href=e}else this.Li();if(this.Xt.checkUrlTriggerConditions((()=>this.Ni()),(()=>this.Ui()),(t=>this.zi(t))),!this.Xt.urlBlocked||(r=t).type===rr.Custom&&\"recording paused\"===r.data.tag){var r;t.type===rr.FullSnapshot&&this.Ci(),t.type===rr.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===as&&this.gi();var s=this.Fi?this.Fi.throttleMutations(t):t;if(s){var n=function(t){var i=t;if(i&&I(i)&&6===i.type&&I(i.data)&&\"rrweb/console@1\"===i.data.plugin){i.data.payload.payload.length>10&&(i.data.payload.payload=i.data.payload.payload.slice(0,10),i.data.payload.payload.push(\"...[truncated]\"));for(var e=[],r=0;r<i.data.payload.payload.length;r++)i.data.payload.payload[r]&&i.data.payload.payload[r].length>2e3?e.push(i.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):e.push(i.data.payload.payload[r]);return i.data.payload.payload=e,t}return t}(s);if(this.Ti(n),!0!==this.ii||Ps(n)){if(Ps(n)){var o=n.data.payload;if(o){var a=o.lastActivityTimestamp,l=o.threshold;n.timestamp=a+l}}var u=null===(i=this._instance.config.session_recording.compress_events)||void 0===i||i?function(t){if(ir(t)<1024)return t;try{if(t.type===rr.FullSnapshot)return g({},t,{data:Es(t.data),cv:\"2024-10\"});if(t.type===rr.IncrementalSnapshot&&t.data.source===sr.Mutation)return g({},t,{cv:\"2024-10\",data:g({},t.data,{texts:Es(t.data.texts),attributes:Es(t.data.attributes),removes:Es(t.data.removes),adds:Es(t.data.adds)})});if(t.type===rr.IncrementalSnapshot&&t.data.source===sr.StyleSheetRule)return g({},t,{cv:\"2024-10\",data:g({},t.data,{adds:t.data.adds?Es(t.data.adds):void 0,removes:t.data.removes?Es(t.data.removes):void 0})})}catch(t){ws.error(\"could not compress event - will use uncompressed event\",t)}return t}(n):n,h={$snapshot_bytes:ir(u),$snapshot_data:u,$session_id:this.Ft,$window_id:this.pi};this.status!==ts?this.qi(h):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&t){var i=this.wi(t.location.href);this.ji!==i&&(this.tryAddCustomEvent(\"$url_changed\",{href:i}),this.ji=i)}}Di(){if(this.ti.length){var t=[...this.ti];this.ti=[],t.forEach((t=>{Date.now()-t.enqueuedAt<=2e3&&this.Mi(t)}))}}wi(t){var i=this._instance.config.session_recording;if(i.maskNetworkRequestFn){var e,r={url:t};return null==(e=r=i.maskNetworkRequestFn(r))?void 0:e.url}return t}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}ui(){this.Bi&&(clearTimeout(this.Bi),this.Bi=void 0);var t=this.Jt,i=this.zt,e=D(i)&&i>=0,r=D(t)&&e&&i<t;if(this.status===rs||this.status===ss||this.status===ts||r)return this.Bi=setTimeout((()=>{this.ui()}),2e3),this.H;this.H.data.length>0&&er(this.H).forEach((t=>{this.Hi({$snapshot_bytes:t.size,$snapshot_data:t.data,$session_id:t.sessionId,$window_id:t.windowId,$lib:\"web\",$lib_version:c.LIB_VERSION})}));return this.gi()}qi(t){var i,e=2+((null==(i=this.H)?void 0:i.data.length)||0);!this.ii&&(this.H.size+t.$snapshot_bytes+e>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.ui()),this.H.size+=t.$snapshot_bytes,this.H.data.push(t.$snapshot_data),this.Bi||this.ii||(this.Bi=setTimeout((()=>{this.ui()}),2e3))}Hi(t){this._instance.capture(\"$snapshot\",t,{_url:this._instance.requestRouter.endpointFor(\"api\",this.ci),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}zi(t){var i;this.Nt.triggerStatus(this.sessionId)===as&&(null==(i=this._instance)||null==(i=i.persistence)||i.register({[\"url\"===t?di:vi]:this.Ft}),this.ui(),this.xi(t+\"_trigger_matched\"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),ws.info(\"recording paused due to URL blocker\"),this.tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),ws.info(\"recording resumed\"))}bi(){0!==this.Qt.Mt.length&&A(this.ai)&&(this.ai=this._instance.on(\"eventCaptured\",(t=>{try{this.Qt.Mt.includes(t.event)&&this.zi(\"event\")}catch(t){ws.error(\"Could not activate event trigger\",t)}})))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.xi(\"linked_flag_overridden\")}overrideSampling(){var t;null==(t=this._instance.persistence)||t.register({[hi]:!0}),this.Oi(),this.xi(\"sampling_overridden\")}overrideTrigger(t){this.zi(t)}xi(t,i){this._instance.register_for_session({$session_recording_start_reason:t}),ws.info(t.replace(\"_\",\" \"),i),y([\"recording_initialized\",\"session_id_changed\"],t)||this.tryAddCustomEvent(t,i)}get sdkDebugProperties(){var{sessionStartTimestamp:t}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.zt,$sdk_debug_session_start:t}}}var Is=Et(\"[SegmentIntegration]\");function Ts(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||Ce();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(wi,\"identified\")),i()},s=e.user();\"then\"in s&&R(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||Is.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(Is.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(Is.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Cs=\"posthog-js\";function Ms(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_personURL:v,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Os{constructor(t,i,e,r,s,n){this.name=Cs,this.setupOnce=function(o){o(Ms(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var Fs=null!=t&&t.location?me(t.location.hash,\"__posthog\")||me(location.hash,\"state\"):null,As=\"_postHogToolbarParams\",Ds=Et(\"[Toolbar]\"),js=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(js||{});class Ls{constructor(t){this.instance=t}Wi(t){v.ph_toolbar_state=t}Gi(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:js.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=Fs||me(i.hash,\"__posthog\")||me(i.hash,\"state\"),a=n?At((()=>JSON.parse(atob(decodeURIComponent(n)))))||At((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(As)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}Vi(t){var i=v.ph_load_toolbar||v.ph_load_editor;!A(i)&&R(i)?i(t,this.instance):Ds.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(Ri));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(As,JSON.stringify(g({},s,{source:void 0}))),this.Gi()===js.LOADED)this.Vi(s);else if(this.Gi()===js.UNINITIALIZED){var n;this.Wi(js.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return Ds.error(\"[Toolbar] Failed to load\",t),void this.Wi(js.UNINITIALIZED);this.Wi(js.LOADED),this.Vi(s)})),qt(t,\"turbolinks:load\",(()=>{this.Wi(js.UNINITIALIZED),this.loadToolbar(s)}))}return!0}Ji(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var Ns=Et(\"[TracingHeaders]\");class Us{constructor(t){this.Ki=void 0,this.Yi=void 0,this.lt=()=>{var t,i;C(this.Ki)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));C(this.Yi)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return Ns.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(t=this.Ki)||t.call(this),null==(i=this.Yi)||i.call(this),this.Ki=void 0,this.Yi=void 0)}}var zs=Et(\"[Web Vitals]\"),qs=9e5;class Bs{constructor(t){var i;this.Xi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Qi=()=>{clearTimeout(this.Zi),0!==this.H.metrics.length&&(this._instance.capture(\"$web_vitals\",this.H.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.te=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(C(e))zs.error(\"Could not read session ID. Dropping metrics!\");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.ie();if(!C(r))if(A(null==t?void 0:t.name)||A(null==t?void 0:t.value))zs.error(\"Invalid metric received\",t);else if(this.ee&&t.value>=this.ee)zs.error(\"Ignoring metric with value >= \"+this.ee,t);else this.H.url!==r&&(this.Qi(),this.Zi=setTimeout(this.Qi,this.flushToCaptureTimeoutMs)),C(this.H.url)&&(this.H.url=r),this.H.firstMetricTimestamp=C(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.H.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Qi()}},this.lt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;C(s)||C(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.te.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.te.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.te.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.te.bind(this)),this.C=!0):zs.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.Xi=!(null==(i=this._instance.persistence)||!i.props[Xt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=I(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return C(e)?(null==(i=this._instance.persistence)?void 0:i.props[Zt])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ee(){var t=I(this._instance.config.capture_performance)&&D(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:qs;return 0<t&&t<=6e4?qs:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return zs.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:j(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return j(i)?i:this.Xi}startIfEnabled(){this.isEnabled&&!this.C&&(zs.info(\"enabled, starting...\"),this.nt(this.lt))}onRemoteConfig(t){var i=I(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=I(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Xt]:i}),this._instance.persistence.register({[Zt]:e})),this.Xi=i,this.startIfEnabled()}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?zs.error(\"failed to load script\",i):t()}))}ie(){var i=t?t.location.href:void 0;return i||zs.error(\"Could not determine current URL\"),i}}var Hs=Et(\"[Heatmaps]\");function Ws(t){return I(t)&&\"clientX\"in t&&\"clientY\"in t&&D(t.clientX)&&D(t.clientY)}class Gs{constructor(t){var i;this.rageclicks=new ue,this.Xi=!1,this.C=!1,this.re=null,this.instance=t,this.Xi=!(null==(i=this.instance.persistence)||!i.props[Vt])}get flushIntervalMilliseconds(){var t=5e3;return I(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return C(this.instance.config.capture_heatmaps)?C(this.instance.config.enable_heatmaps)?this.Xi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.C)return;Hs.info(\"starting...\"),this.se(),this.re=setInterval(this.ne.bind(this),this.flushIntervalMilliseconds)}else{var t,i;clearInterval(null!==(t=this.re)&&void 0!==t?t:void 0),null==(i=this.oe)||i.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Vt]:i}),this.Xi=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.H;return this.H=void 0,t}ae(t){this.le(t.originalEvent,\"deadclick\")}se(){t&&o&&(qt(t,\"beforeunload\",this.ne.bind(this)),qt(o,\"click\",(i=>this.le(i||(null==t?void 0:t.event))),{capture:!0}),qt(o,\"mousemove\",(i=>this.ue(i||(null==t?void 0:t.event))),{capture:!0}),this.oe=new Ye(this.instance,Je,this.ae.bind(this)),this.oe.startIfEnabled(),this.C=!0)}he(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Mi(s)&&!Oi(s,\"body\");){if(s===r)return!1;if(y(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Hi(s)}return!1}(zi(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}le(t,i){var e;if(void 0===i&&(i=\"click\"),!Ci(t.target)&&Ws(t)){var r=this.he(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.de(g({},r,{type:\"rageclick\"})),this.de(r)}}ue(t){!Ci(t.target)&&Ws(t)&&(clearTimeout(this.ve),this.ve=setTimeout((()=>{this.de(this.he(t,\"mousemove\"))}),500))}de(i){if(t){var e=t.location.href;this.H=this.H||{},this.H[e]||(this.H[e]=[]),this.H[e].push(i)}}ne(){this.H&&!T(this.H)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Vs{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.ce(i,e);return this.fe={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.ce(t,null==(i=this.fe)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.fe)?void 0:t.pageViewId}}ce(t,i){var e=this.fe;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(C(n)||C(o)||C(a)||C(l)||C(u)||C(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:G(o/n,0,1,xt),v=n<=1?1:G(a/n,0,1,xt),c=l<=1?1:G(u/l,0,1,xt),f=l<=1?1:G(h/l,0,1,xt);r=Mt(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var Js=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),F(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},Ks=!!u||!!l,Ys=\"text/plain\",Xs=(t,i)=>{var[e,r]=t.split(\"?\"),s=g({},i);null==r||r.split(\"&\").forEach((t=>{var[i]=t.split(\"=\");delete s[i]}));var n=pe(s);return e+\"?\"+(n=n?(r?r+\"&\":\"\")+n:r)},Qs=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),Zs=t=>{var{data:i,compression:e}=t;if(i){if(e===de.GZipJS){var r=Xr(Qr(Qs(i)),{mtime:0}),s=new Blob([r],{type:Ys});return{contentType:Ys,body:s,estimatedSize:s.size}}if(e===de.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=Js(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(Qs(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:Qs(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=Qs(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},tn=[];l&&tn.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=Zs(t))&&void 0!==i?i:{},o=new Headers;Ct(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){xt.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{xt.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&tn.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=Zs(t))&&void 0!==i?i:{};Ct(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&tn.push({transport:\"sendBeacon\",method:t=>{var i=Xs(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=Zs(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var en=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function rn(t,i,e){return Qs({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var sn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>en(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!en(i,t))))),icontains:(t,i)=>i.map(nn).some((i=>t.map(nn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(nn).every((i=>t.map(nn).every((t=>!i.includes(t)))))},nn=t=>t.toLowerCase(),on=Et(\"[Error tracking]\");class an{constructor(t){var i,e;this.pe=[],this.ge=new vt([new ct,new kt,new pt,new ft,new wt,new bt,new _t,new St],[nt,lt]),this._instance=t,this.pe=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Kt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.pe=s,this._instance.persistence&&this._instance.persistence.register({[Kt]:this.pe,[Yt]:n})}get _e(){var t,i=!!this._instance.get_property(Yt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.ge.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){if(this.me(t))on.info(\"Skipping exception capture because a suppression rule matched\");else{if(this._e||!this.ye(t))return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"});on.info(\"Skipping exception capture because it was thrown by an extension\")}}me(t){var i=t.$exception_list;if(!i||!P(i)||0===i.length)return!1;var e=i.reduce(((t,i)=>{var{type:e,value:r}=i;return M(e)&&e.length>0&&t.$exception_types.push(e),M(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.pe.some((t=>{var i=t.values.map((t=>{var i,r=sn[t.operator],s=P(t.value)?t.value:[t.value],n=null!==(i=e[t.key])&&void 0!==i?i:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?i.some(Boolean):i.every(Boolean)}))}ye(t){var i=t.$exception_list;return!(!i||!P(i))&&i.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}}var ln=\"Mobile\",un=\"iOS\",hn=\"Android\",dn=\"Tablet\",vn=hn+\" \"+dn,cn=\"iPad\",fn=\"Apple\",pn=fn+\" Watch\",gn=\"Safari\",_n=\"BlackBerry\",mn=\"Samsung\",yn=mn+\"Browser\",bn=mn+\" Internet\",wn=\"Chrome\",Sn=wn+\" OS\",kn=wn+\" \"+un,$n=\"Internet Explorer\",xn=$n+\" \"+ln,En=\"Opera\",Pn=En+\" Mini\",Rn=\"Edge\",In=\"Microsoft \"+Rn,Tn=\"Firefox\",Cn=Tn+\" \"+un,Mn=\"Nintendo\",On=\"PlayStation\",Fn=\"Xbox\",An=hn+\" \"+ln,Dn=ln+\" \"+gn,jn=\"Windows\",Ln=jn+\" Phone\",Nn=\"Nokia\",Un=\"Ouya\",zn=\"Generic\",qn=zn+\" \"+ln.toLowerCase(),Bn=zn+\" \"+dn.toLowerCase(),Hn=\"Konqueror\",Wn=\"(\\\\d+(\\\\.\\\\d+)?)\",Gn=new RegExp(\"Version/\"+Wn),Vn=new RegExp(Fn,\"i\"),Jn=new RegExp(On+\" \\\\w+\",\"i\"),Kn=new RegExp(Mn+\" \\\\w+\",\"i\"),Yn=new RegExp(_n+\"|PlayBook|BB10\",\"i\"),Xn={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Qn=(t,i)=>i&&y(i,fn)||function(t){return y(t,gn)&&!y(t,wn)&&!y(t,hn)}(t),Zn=function(t,i){return i=i||\"\",y(t,\" OPR/\")&&y(t,\"Mini\")?Pn:y(t,\" OPR/\")?En:Yn.test(t)?_n:y(t,\"IE\"+ln)||y(t,\"WPDesktop\")?xn:y(t,yn)?bn:y(t,Rn)||y(t,\"Edg/\")?In:y(t,\"FBIOS\")?\"Facebook \"+ln:y(t,\"UCWEB\")||y(t,\"UCBrowser\")?\"UC Browser\":y(t,\"CriOS\")?kn:y(t,\"CrMo\")||y(t,wn)?wn:y(t,hn)&&y(t,gn)?An:y(t,\"FxiOS\")?Cn:y(t.toLowerCase(),Hn.toLowerCase())?Hn:Qn(t,i)?y(t,ln)?Dn:gn:y(t,Tn)?Tn:y(t,\"MSIE\")||y(t,\"Trident/\")?$n:y(t,\"Gecko\")?Tn:\"\"},to={[xn]:[new RegExp(\"rv:\"+Wn)],[In]:[new RegExp(Rn+\"?\\\\/\"+Wn)],[wn]:[new RegExp(\"(\"+wn+\"|CrMo)\\\\/\"+Wn)],[kn]:[new RegExp(\"CriOS\\\\/\"+Wn)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Wn)],[gn]:[Gn],[Dn]:[Gn],[En]:[new RegExp(\"(Opera|OPR)\\\\/\"+Wn)],[Tn]:[new RegExp(Tn+\"\\\\/\"+Wn)],[Cn]:[new RegExp(\"FxiOS\\\\/\"+Wn)],[Hn]:[new RegExp(\"Konqueror[:/]?\"+Wn,\"i\")],[_n]:[new RegExp(_n+\" \"+Wn),Gn],[An]:[new RegExp(\"android\\\\s\"+Wn,\"i\")],[bn]:[new RegExp(yn+\"\\\\/\"+Wn)],[$n]:[new RegExp(\"(rv:|MSIE )\"+Wn)],Mozilla:[new RegExp(\"rv:\"+Wn)]},io=function(t,i){var e=Zn(t,i),r=to[e];if(C(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},eo=[[new RegExp(Fn+\"; \"+Fn+\" (.*?)[);]\",\"i\"),t=>[Fn,t&&t[1]||\"\"]],[new RegExp(Mn,\"i\"),[Mn,\"\"]],[new RegExp(On,\"i\"),[On,\"\"]],[Yn,[_n,\"\"]],[new RegExp(jn,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[Ln,\"\"];if(new RegExp(ln).test(i)&&!/IEMobile\\b/.test(i))return[jn+\" \"+ln,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Xn[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[jn,s]}return[jn,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[un,i.join(\".\")]}return[un,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=C(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+hn+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+hn+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[hn,i.join(\".\")]}return[hn,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[Sn,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],ro=function(t){return Kn.test(t)?Mn:Jn.test(t)?On:Vn.test(t)?Fn:new RegExp(Un,\"i\").test(t)?Un:new RegExp(\"(\"+Ln+\"|WPDesktop)\",\"i\").test(t)?Ln:/iPad/.test(t)?cn:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?pn:Yn.test(t)?_n:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Nn,\"i\").test(t)?Nn:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(ln).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?hn:vn:hn:new RegExp(\"(pda|\"+ln+\")\",\"i\").test(t)?qn:new RegExp(dn,\"i\").test(t)&&!new RegExp(dn+\" pc\",\"i\").test(t)?Bn:\"\"},so=\"https?://(.*)\",no=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],oo=Ot([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],no),ao=\"<masked>\",lo=[\"li_fat_id\"];function uo(t,i,e){if(!o)return{};var r,s=i?Ot([],no,e||[]):[],n=ho(_e(o.URL,s,ao),t),a=(r={},Ct(lo,(function(t){var i=De.J(t);r[t]=i||null})),r);return Mt(a,n)}function ho(t,i){var e=oo.concat(i||[]),r={};return Ct(e,(function(i){var e=ge(t,i);r[i]=e||null})),r}function vo(t){var i=function(t){return t?0===t.search(so+\"google.([^/?]*)\")?\"google\":0===t.search(so+\"bing.com\")?\"bing\":0===t.search(so+\"yahoo.com\")?\"yahoo\":0===t.search(so+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!F(i)){r.$search_engine=i;var s=o?ge(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function co(){return navigator.language||navigator.userLanguage}function fo(){return(null==o?void 0:o.referrer)||\"$direct\"}function po(t,i){var e=t?Ot([],no,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:fo().substring(0,1e3),u:r?_e(r,e,ao):void 0}}function go(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=fe(e))?void 0:i.host};if(r){s.$current_url=r;var n=fe(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=ho(r);Mt(s,o)}if(e){var a=vo(e);Mt(s,a)}return s}function _o(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function mo(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function yo(i,e){if(!d)return{};var r,s,n,o=i?Ot([],no,e||[]):[],[l,u]=function(t){for(var i=0;i<eo.length;i++){var[e,r]=eo[i],s=e.exec(t),n=s&&(R(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Mt(jt({$os:l,$os_version:u,$browser:Zn(d,navigator.vendor),$device:ro(d),$device_type:(s=d,n=ro(s),n===cn||n===vn||\"Kobo\"===n||\"Kindle Fire\"===n||n===Bn?dn:n===Mn||n===Fn||n===On||n===Un?\"Console\":n===pn?\"Wearable\":n?ln:\"Desktop\"),$timezone:_o(),$timezone_offset:mo()}),{$current_url:_e(null==a?void 0:a.href,o,ao),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:io(d,navigator.vendor),$browser_language:co(),$browser_language_prefix:(r=co(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var bo=Et(\"[FeatureFlags]\"),wo=\"$active_feature_flags\",So=\"$override_feature_flags\",ko=\"$feature_flag_payloads\",$o=\"$override_feature_flag_payloads\",xo=\"$feature_flag_request_id\",Eo=t=>{var i={};for(var[e,r]of Ft(t||{}))r&&(i[e]=r);return i},Po=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):bo.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},Ro=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class Io{constructor(t){this.be=!1,this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this._instance=t,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.xe=!0;else{var t=!this.Pe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Re({disableFlags:t})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(pi),i=this._instance.get_property(So),e=this._instance.get_property($o);if(!e&&!i)return t||{};var r=Mt({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=C(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=C(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.be||(bo.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.be=!0),r}getFlagVariants(){var t=this._instance.get_property(ci),i=this._instance.get_property(So);if(!i)return t||{};for(var e=Mt({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.be||(bo.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.be=!0),e}getFlagPayloads(){var t=this._instance.get_property(ko),i=this._instance.get_property($o);if(!i)return t||{};for(var e=Mt({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.be||(bo.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.be=!0),e}reloadFeatureFlags(){this.ke||this._instance.config.advanced_disable_feature_flags||this.Pe||(this.Pe=setTimeout((()=>{this.Re()}),5))}Ie(){clearTimeout(this.Pe),this.Pe=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Pe||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.ke=t}Re(t){var i;if(this.Ie(),!this._instance.L())if(this.Se)this.$e=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(gi)||{}),group_properties:this._instance.get_property(_i)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0);var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"api\",s+n);r&&(e.timezone=_o()),this.Se=!0,this._instance.Te({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:de.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.$e||(this.$anon_distinct_id=void 0),s=!1),this.Se=!1,this.xe)||(this.xe=!0,this._instance.Ce(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.$e)if(this.Ee=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(Ro.FeatureFlags))bo.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.$e&&(this.$e=!1,this.Re())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.we||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(xo)||void 0,n=this._instance.get_property(bi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;P(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[bi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.Ee};C(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),C(null==p?void 0:p.original_variant)&&C(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=C(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}bo.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token;this._instance.Te({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"api\",\"/flags/?v=2&config=true\"),data:{distinct_id:this._instance.get_distinct_id(),token:e},compression:this._instance.config.disable_compression?void 0:de.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.we||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return C(e)?void 0:!!e}bo.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.we=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=Po(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(P(a)){bo.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[wo]:a,[ci]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[wo]:Object.keys(Eo(v)),[ci]:v||{},[ko]:c||{},[pi]:f||{}},u?{[xo]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.Me(i)}}override(t,i){void 0===i&&(i=!1),bo.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return bo.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(So),this._instance.persistence.unregister($o),void this.Me();if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.be=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(So);else if(e.flags)if(P(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[So]:r})}else this._instance.persistence.register({[So]:e.flags});return\"payloads\"in e&&(!1===e.payloads?this._instance.persistence.unregister($o):e.payloads&&this._instance.persistence.register({[$o]:e.payloads})),void this.Me()}this.Me()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.we){var{flags:i,flagVariants:e}=this.Oe();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(fi)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[wo]:Object.keys(Eo(a)),[ci]:a}),this.Me()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(fi),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(fi),null==(r=this._instance.persistence)||r.register({[fi]:s}),t(s)}}})}Oe(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}Me(t){var{flags:i,flagVariants:e}=this.Oe();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(gi)||{};this._instance.register({[gi]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(gi)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(_i)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[_i]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(_i)||{};this._instance.register({[_i]:g({},i,{[t]:{}})})}else this._instance.unregister(_i)}reset(){this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Ie(),this.be=!1}}var To=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Co{constructor(t,i){this.A=t,this.props={},this.Fe=!1,this.Ae=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.it=this.De(t),this.load(),t.debug&&xt.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.je}De(t){-1===To.indexOf(t.persistence.toLowerCase())&&(xt.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Le.G()?Le:\"localstorage+cookie\"===i&&Ue.G()?Ue:\"sessionstorage\"===i&&He.G()?He:\"memory\"===i?qe:\"cookie\"===i?De:Ue.G()?Ue:De}properties(){var t={};return Ct(this.props,(function(i,e){if(e===ci&&I(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(F(o=Ti)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Ct(o,(function(t){if(l||(l=t===a))return It})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.je){var t=this.it.K(this.Ae);t&&(this.props=Mt({},t))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.Ue,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(I(t)){C(i)&&(i=\"None\"),this.Le=C(e)?this.ze:e;var r=!1;if(Ct(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(I(t)){this.Le=C(i)?this.ze:i;var e=!1;if(Ct(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.Fe){var t=uo(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);T(jt(t))||this.register(t),this.Fe=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?vo(t):{})}update_referrer_info(){var t;this.register_once({$referrer:fo(),$referring_domain:null!=o&&o.referrer&&(null==(t=fe(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[$i]||this.props[xi]||this.register_once({[Ei]:po(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Ct([xi,$i],(i=>{var e=this.props[i];e&&Ct(e,(function(i,e){t[\"$initial_\"+w(e)]=i}))}));var i,e,r=this.props[Ei];if(r){var s=(i=go(r),e={},Ct(i,(function(t,i){e[\"$initial_\"+w(i)]=t})),e);Mt(t,s)}return t}safe_merge(t){return Ct(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.ze=this.Le=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.De(t),s=this.props;this.clear(),this.it=r,this.props=s,this.save()}}set_disabled(t){this.je=t,this.je?this.remove():this.save()}set_cross_subdomain(t){t!==this.Ne&&(this.Ne=t,this.remove(),this.save())}set_secure(t){t!==this.Ue&&(this.Ue=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Wt]||{};e[t]=i,this.props[Wt]=e,this.save()}remove_event_timer(t){var i=(this.props[Wt]||{})[t];return C(i)||(delete this.props[Wt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var Mo=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),Oo=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Fo=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),Ao=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),Do=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),jo=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),Lo=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),No=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Uo=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class zo{constructor(){this.qe={},this.qe={}}on(t,i){return this.qe[t]||(this.qe[t]=[]),this.qe[t].push(i),()=>{this.qe[t]=this.qe[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.qe[t]||[])e(i);for(var r of this.qe[\"*\"]||[])r(t,i)}}class qo{constructor(t){this.Be=new zo,this.He=(t,i)=>this.We(t,i)&&this.Ge(t,i)&&this.Ve(t,i),this.We=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Je=new Set,this.Ke=new Set}init(){var t;if(!C(null==(t=this._instance)?void 0:t.Ye)){var i;null==(i=this._instance)||i.Ye(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!C(null==(i=this._instance)?void 0:i.Ye)&&(t.forEach((t=>{var i,e;null==(i=this.Ke)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Je)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Je.has(t)||this.Je.has(null==i?void 0:i.event))&&this.Ke&&(null==(e=this.Ke)?void 0:e.size)>0&&this.Ke.forEach((t=>{this.Xe(i,t)&&this.Be.emit(\"actionCaptured\",t.name)}))}Qe(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Xe(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.He(t,e))return!0;return!1}onAction(t,i){return this.Be.on(t,i)}Ge(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!qo.Ze(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static Ze(i,e,r){switch(r){case\"regex\":return!!t&&en(i,e);case\"exact\":return e===i;case\"contains\":var s=qo.tr(e).replace(/_/g,\".\").replace(/%/g,\".*\");return en(i,s);default:return!1}}static tr(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Ve(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.ir(t).some((t=>!(null!=i&&i.href&&!qo.Ze(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!qo.Ze(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!qo.Ze(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}ir(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}}var Bo=Et(\"[Surveys]\");var Ho=\"seenSurvey_\",Wo=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Go=t=>{var i=\"\"+Ho+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Ho+t.id+\"_\"+t.current_iteration),i},Vo=[Fo.Popover,Fo.Widget,Fo.API],Jo={ignoreConditions:!1,ignoreDelay:!1,displayType:Uo.Popover};class Ko{constructor(t){this._instance=t,this.er=new Map,this.rr=new Map}register(t){var i;C(null==(i=this._instance)?void 0:i.Ye)||(this.sr(t),this.nr(t))}nr(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.ar){this.ar=new qo(this._instance),this.ar.init();this.ar.Qe((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.ar)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.rr.get(i.name);e&&e.push(t.id),this.rr.set(i.name,e||[t.id])}})))}))}}sr(t){var i;if(0!==t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})).length){null==(i=this._instance)||i.Ye(((t,i)=>{this.onEvent(t,i)})),t.forEach((t=>{var i;null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||i.forEach((i=>{if(i&&i.name){var e=this.er.get(i.name);e&&e.push(t.id),this.er.set(i.name,e||[t.id])}}))}))}}onEvent(t,i){var e,r,s=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[yi])||[];if(Lo.SHOWN===t&&i&&s.length>0){var n;Bo.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:s});var o=null==i||null==(n=i.properties)?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.lr(s))}}else if(this.er.has(t)){Bo.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.er.get(t)});var l=[];null==(r=this._instance)||r.getSurveys((i=>{l=i.filter((i=>{var e;return null==(e=this.er.get(t))?void 0:e.includes(i.id)}))}));var u=l.filter((e=>{var r,s=null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find((i=>i.name===t));return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every((t=>{var e,[r,s]=t,n=null==i||null==(e=i.properties)?void 0:e[r];if(C(n)||F(n))return!1;var o=[String(n)],a=sn[s.operator];return a?a(s.values,o):(Bo.warn(\"Unknown property comparison operator: \"+s.operator),!1)})))}));this.lr(s.concat(u.map((t=>t.id))||[]))}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[yi])||[];this.rr.has(t)&&this.lr(e.concat(this.rr.get(t)||[]))}lr(t){var i;Bo.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[yi]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[yi];return i||[]}getEventToSurveys(){return this.er}ur(){return this.ar}}class Yo{constructor(t){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(A(i))return Bo.warn(\"Flags not loaded yet. Not loading surveys.\");var e=P(i);this.hr=e?i.length>0:i,Bo.info(\"flags response received, isSurveysEnabled: \"+this.hr),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Ho)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.vr)Bo.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Bo.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Bo.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!C(this.hr)||this._instance.config.advanced_enable_surveys){var i=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var e=t.generateSurveys;if(e)return void this.pr(e,i);var r=t.loadExternalDependency;if(!r)return void this.gr(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.gr(\"Could not load surveys script\",e):this.pr(t.generateSurveys,i)}))}catch(t){throw this.gr(\"Error initializing surveys\",t),t}finally{this.vr=!1}}}else Bo.error(\"PostHog Extensions not found.\")}}pr(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Ko(this._instance),Bo.info(\"Surveys loaded successfully\"),this._r({isLoaded:!0})}gr(t,i){Bo.error(t,i),this._r({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.cr.push(t),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Bo.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(mi);if(e&&!i)return t(e,{isLoaded:!0});if(this.dr)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.dr=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Bo.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[mi]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.dr=!1,t}}_r(t){for(var i of this.cr)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Bo.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!A(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Bo.warn(\"init was not called\")}mr(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}yr(t){if(A(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.mr(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(A(this._surveyManager))return Bo.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.yr(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return A(this._surveyManager)?(Bo.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.yr(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(A(this._surveyManager))Bo.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.mr(t):t;if(null!=r&&r.id)if(Vo.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Bo.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Bo.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Bo.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Bo.warn(\"Survey element not found\")}else Bo.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Bo.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(A(this._surveyManager))Bo.warn(\"init was not called\");else{var r=this.mr(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Bo.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Uo.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Bo.warn(\"Survey not found\")}}}var Xo=Et(\"[RateLimiter]\");class Qo{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{Xo.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void Xo.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(ki))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(ki,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var Zo=Et(\"[RemoteConfig]\");class ta{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}br(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(Zo.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}wr(t){this._instance.Te({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return Zo.info(\"Using preloaded remote config\",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void Zo.warn(\"Remote config is disabled. Falling back to local config.\");this.br((t=>{if(!t)return Zo.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.wr((t=>{this.Ce(t)}));this.Ce(t)}))}catch(t){Zo.error(\"Error loading remote config\",t)}}Ce(t){t?this._instance.config.__preview_remote_config?(this._instance.Ce(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Zo.info(\"__preview_remote_config is disabled. Logging config instead\",t):Zo.error(\"Failed to fetch remote config from PostHog.\")}}var ia=3e3;class ea{constructor(t,i){this.Sr=!0,this.kr=[],this.$r=G((null==i?void 0:i.flush_interval_ms)||ia,250,5e3,xt.createLogger(\"flush interval\"),ia),this.Er=t}enqueue(t){this.kr.push(t),this.Pr||this.Rr()}unload(){this.Ir();var t=this.kr.length>0?this.Tr():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.Er(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.Sr=!1,this.Rr()}Rr(){var t=this;this.Sr||(this.Pr=setTimeout((()=>{if(this.Ir(),this.kr.length>0){var i=this.Tr(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&P(e.data)&&Ct(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.Er(e)};for(var r in i)e()}}),this.$r))}Ir(){clearTimeout(this.Pr),this.Pr=void 0}Tr(){var t={};return Ct(this.kr,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;C(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.kr=[],t}}var ra=[\"retriesPerformedSoFar\"];class sa{constructor(i){this.Cr=!1,this.Mr=3e3,this.kr=[],this._instance=i,this.kr=[],this.Or=!0,!C(t)&&\"onLine\"in t.navigator&&(this.Or=t.navigator.onLine,qt(t,\"online\",(()=>{this.Or=!0,this.ne()})),qt(t,\"offline\",(()=>{this.Or=!1})))}get length(){return this.kr.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,ra);D(i)&&i>0&&(e.url=Xs(e.url,{retry_count:i})),this._instance.Te(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this.Fr(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}Fr(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.kr.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),xt.warn(s),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout((()=>{this.Or&&this.kr.length>0&&this.ne(),this.Ar()}),this.Mr)}ne(){var t=Date.now(),i=[],e=this.kr.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.kr=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:t}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.kr))try{this._instance.Te(g({},t,{transport:\"sendBeacon\"}))}catch(t){xt.error(t)}this.kr=[]}}class na{constructor(t){this.jr=()=>{var t,i,e,r;this.Lr||(this.Lr={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(n),this.Lr.maxScrollY=Math.max(n,null!==(t=this.Lr.maxScrollY)&&void 0!==t?t:0),this.Lr.maxScrollHeight=Math.max(o,null!==(i=this.Lr.maxScrollHeight)&&void 0!==i?i:0),this.Lr.lastContentY=a,this.Lr.maxContentY=Math.max(a,null!==(e=this.Lr.maxContentY)&&void 0!==e?e:0),this.Lr.maxContentHeight=Math.max(l,null!==(r=this.Lr.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.Lr}resetContext(){var t=this.Lr;return setTimeout(this.jr,0),t}startMeasuringScrollPosition(){qt(t,\"scroll\",this.jr,{capture:!0}),qt(t,\"scrollend\",this.jr,{capture:!0}),qt(t,\"resize\",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=P(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var oa=t=>po(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class aa{constructor(t,i,e,r){this.Nr=t=>{var i=this.Ur();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.zr(this._instance)};this.qr.register({[Si]:e})}},this._instance=t,this.Br=i,this.qr=e,this.zr=r||oa,this.Br.onSessionId(this.Nr)}Ur(){return this.qr.props[Si]}getSetOnceProps(){var t,i=null==(t=this.Ur())?void 0:t.props;return i?\"r\"in i?go(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Ct(jt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+w(e)]=i})),t}}var la=Et(\"[SessionId]\");class ua{on(t,i){return this.Hr.on(t,i)}constructor(t,i,e){var r;if(this.Wr=[],this.Hr=new zo,this.Gr=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.A=t.config,this.qr=t.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Vr=i||Ce,this.Jr=e||Ce;var s=this.A.persistence_name||this.A.token,n=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*G(n,60,36e3,la.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Kr(),this.Yr=\"ph_\"+s+\"_window_id\",this.Xr=\"ph_\"+s+\"_primary_window_exists\",this.Qr()){var o=He.K(this.Yr),a=He.K(this.Xr);o&&!a?this.pi=o:He.X(this.Yr),He.Y(this.Xr,!0)}if(null!=(r=this.A.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Zr(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){la.error(\"Invalid sessionID in bootstrap\",t)}this.ts()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return C(this.Wr)&&(this.Wr=[]),this.Wr.push(t),this.Ft&&t(this.Ft,this.pi),()=>{this.Wr=this.Wr.filter((i=>i!==t))}}Qr(){return\"memory\"!==this.A.persistence&&!this.qr.je&&He.G()}es(t){t!==this.pi&&(this.pi=t,this.Qr()&&He.Y(this.Yr,t))}rs(){return this.pi?this.pi:this.Qr()?He.K(this.Yr):null}Zr(t,i,e){t===this.Ft&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.Ft=t,this.qr.register({[ui]:[i,t,e]}))}ss(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var t=this.qr.props[ui];return P(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Zr(null,null,null)}ts(){qt(t,\"beforeunload\",(()=>{this.Qr()&&He.X(this.Xr)}),{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.A.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.ss(),o=this.rs(),a=D(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!t&&this.Gr(e,r);u||h||a?(s=this.Vr(),o=this.Jr(),la.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Jr(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.es(o),this.Zr(s,d,v),t||this.Kr(),l&&this.Wr.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Kr(){clearTimeout(this.ns),this.ns=setTimeout((()=>{var[t]=this.ss();if(this.Gr((new Date).getTime(),t)){var i=this.Ft;this.resetSessionId(),this.Hr.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var ha=[\"$set_once\",\"$set\"],da=Et(\"[SiteApps]\");class va{constructor(t){this._instance=t,this.os=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ls(t,i){if(i){var e=this.globalsForEvent(i);this.os.push(e),this.os.length>1e3&&(this.os=this.os.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ye(this.ls.bind(this));this.us=()=>{t(),this.os=[],this.us=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,ha),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.os.length&&(da.info(\"Processing \"+this.os.length+\" events for site app with id \"+t.id),this.os.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.us)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,da.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){da.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){da.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}hs(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}ds(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){da.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.hs(),void this._instance.on(\"eventCaptured\",(t=>this.ds(t)))):void da.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.us)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return da.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else da.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var ca=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],fa=function(t,i){if(!t)return!1;var e=t.toLowerCase();return ca.concat(i||[]).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},pa=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&fa(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>fa(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},ga=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),_a=\"i.posthog.com\";class ma{constructor(t){this.vs={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+_a,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.vs[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.vs[this.apiHost]=ga.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.vs[this.apiHost]=ga.EU:this.vs[this.apiHost]=ga.CUSTOM),this.vs[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(this.region===ga.CUSTOM)return this.apiHost+i;var e=_a+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var ya={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&en(e.href,i),not_regex:(i,e)=>!!t&&!en(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class ba{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{ba.cs(\"retrieved web experiments from the server\"),i.fs=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.fs)ba.cs(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.fs)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);M(r)&&t.variants[r]&&i.ps(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];ba.gs(n)&&i.ps(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())ba.cs(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(A(this.fs))return this.fs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ba.cs(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.fs&&null!=(i=this.fs)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.fs)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.ps(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=ba.getWindowLocation();if(null!=t&&t.search){var i=ge(null==t?void 0:t.search,\"__experiment_id\"),e=ge(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(ba.cs(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this._s(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}_s(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(ba.cs(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.ps(r[0].name,i,r[0].variants[i].transforms))}static gs(t){return!A(t.conditions)&&(ba.ys(t)&&ba.bs(t))}static ys(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=ba.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||ya[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static bs(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.utm))return!0;var e=uo();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static cs(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];xt.info(\"[WebExperiments] \"+t,e)}ps(t,i,e){this._is_bot()?ba.cs(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;ba.cs(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):ba.cs(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?pa(n,this._instance.config.custom_blocked_useragents):void 0}}var wa=Et(\"[PostHog ExternalIntegrations]\"),Sa={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class ka{constructor(t){this._instance=t}nt(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return wa.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.nt(Sa[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var $a=\"[SessionRecording]\",xa=Et($a);class Ea{get started(){var t;return!(null==(t=this.ws)||!t.isStarted)}get status(){var t;return(null==(t=this.ws)?void 0:t.status)||\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.ni=void 0,this._instance=t,!this._instance.sessionManager)throw xa.error(\"started without valid sessionManager\"),new Error($a+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error($a+' cannot be used with cookieless_mode=\"always\"')}get qt(){var i,e=!(null==(i=this._instance.get_property(ti))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.qt||null==(i=this.ws)||!i.isStarted){var e=!C(Object.assign)&&!C(Array.from);this.qt&&e?(this.Ss(t),xa.info(\"starting\")):this.stopRecording()}}Ss(t){var i,e,r;this.qt&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.Pi(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.Ri,(i=>{if(i)return xa.error(\"could not load recorder\",i);this.Pi(t)})))}stopRecording(){var t;null==(t=this.ws)||t.stop()}ki(){var t;null==(t=this._instance.persistence)||t.unregister(hi)}Ei(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=t.sessionRecording,e=null==i?void 0:i.sampleRate,s=A(e)?null:parseFloat(e);A(s)&&this.ki();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ti]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:C(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.ni)||i.call(this),this.ni=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?(this.Ei(t),this.startIfEnabledOrStop()):xa.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.ws)&&e.log?this.ws.log(t,i):xa.warn(\"log called before recorder was ready\")}get Ri(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ti);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}Pi(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.ws||(this.ws=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.ws._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.ws.start(t)}onRRwebEmit(t){var i;null==(i=this.ws)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t;null==(t=this.ws)||t.overrideLinkedFlag()}overrideSampling(){var t;null==(t=this.ws)||t.overrideSampling()}overrideTrigger(t){var i;null==(i=this.ws)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.ws)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.ws)||!e.tryAddCustomEvent(t,i))}}var Pa={},Ra=()=>{},Ia=\"posthog\",Ta=!Ks&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),Ca=i=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ut(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:Ra,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:\"2025-05-24\"!==i||\"history_change\",capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",debug:a&&M(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;xt.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:ia},error_tracking:{},_onCapture:Ra,__preview_eager_load_replay:!0}},Ma=t=>{var i={};C(t.process_person)||(i.person_profiles=t.process_person),C(t.xhr_headers)||(i.request_headers=t.xhr_headers),C(t.cookie_name)||(i.persistence_name=t.cookie_name),C(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),C(t.store_google)||(i.save_campaign_params=t.store_google),C(t.verbose)||(i.debug=t.verbose);var e=Mt({},i,t);return P(t.property_blacklist)&&(C(t.property_denylist)?e.property_denylist=t.property_blacklist:P(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:xt.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class Oa{constructor(){this.__forceAllowLocalhost=!1}get ks(){return this.__forceAllowLocalhost}set ks(t){xt.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Fa{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new Oa,this.$s=!1,this.version=c.LIB_VERSION,this.xs=new zo,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Ca(),this.SentryIntegration=Os,this.sentryIntegration=t=>function(t,i){var e=Ms(t,i);return{name:Cs,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.Es=!1,this.Ps=null,this.Rs=null,this.Is=null,this.featureFlags=new Io(this),this.toolbar=new Ls(this),this.scrollManager=new na(this),this.pageViewManager=new Vs(this),this.surveys=new Yo(this),this.experiments=new ba(this),this.exceptions=new an(this),this.rateLimiter=new Qo(this),this.requestRouter=new ma(this),this.consent=new Ge(this),this.externalIntegrations=new ka(this),this.people={set:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>xt.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==Ia){var r,s=null!==(r=Pa[e])&&void 0!==r?r:new Fa;return s._init(t,i,e),Pa[e]=s,Pa[Ia][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s,n;if(void 0===e&&(e={}),C(i)||O(i))return xt.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return xt.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this.Ts=e,this.Cs=[],e.person_profiles&&(this.Rs=e.person_profiles),this.set_config(Mt({},Ca(e.defaults),Ma(e),{name:r,token:i})),this.config.on_xhr_error&&xt.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:de.GZipJS;var o=this.Ms();this.persistence=new Co(this.config,o),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Co(g({},this.config,{persistence:\"sessionStorage\"}),o);var a=g({},this.persistence.props),l=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Os=new ea((t=>this.Fs(t)),this.config.request_queue_config),this.As=new sa(this),this.__request_queue=[];var u=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new ua(this),this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),new Us(this).startIfEnabledOrStop(),this.siteApps=new va(this),null==(s=this.siteApps)||s.init(),u||(this.config.__preview_eager_load_replay?this.sessionRecording=new Rs(this):this.sessionRecording=new Ea(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $e(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Gs(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Bs(this),this.exceptionObserver=new Qe(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Ye(this,Ke),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new tr(this),this.historyAutocapture.startIfEnabled(),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&xt.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:a,s:l}),void 0!==(null==(n=e.bootstrap)?void 0:n.distinctID)){var h,d,v=this.config.get_device_id(Ce()),f=null!=(h=e.bootstrap)&&h.isIdentifiedID?v:e.bootstrap.distinctID;this.persistence.set_property(wi,null!=(d=e.bootstrap)&&d.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:f})}if(this.Ds()){var p,_,m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),y=Object.keys((null==(_=e.bootstrap)?void 0:_.featureFlagPayloads)||{}).filter((t=>m[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:y})}if(u)this.register_once({distinct_id:Ii,$device_id:null},\"\");else if(!this.get_distinct_id()){var b=this.config.get_device_id(Ce());this.register_once({distinct_id:b,$device_id:b},\"\"),this.persistence.set_property(wi,\"anonymous\")}return qt(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?Ts(this,(()=>this.js())):this.js(),R(this.config._onCapture)&&this.config._onCapture!==Ra&&(xt.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&xt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return xt.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.Ce(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=y(t.supportedCompression,de.GZipJS)?de.GZipJS:y(t.supportedCompression,de.Base64)?de.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Rs?this.Rs:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}js(){try{this.config.loaded(this)}catch(t){xt.critical(\"`loaded` function failed\",t)}this.Ls(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.Ns()}),1),new ta(this).load(),this.featureFlags.flags()}Ls(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.Os)||t.enable()))}_dom_loaded(){this.is_capturing()&&Tt(this.__request_queue,(t=>this.Fs(t))),this.__request_queue=[],this.Ls()}_handle_unload(){var t,i;this.config.request_batching?(this.Us()&&this.capture(\"$pageleave\"),null==(t=this.Os)||t.unload(),null==(i=this.As)||i.unload()):this.Us()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}Te(t){this.__loaded&&(Ta?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Xs(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=Xs(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=tn.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=zt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}Fs(t){this.As?this.As.retriableRequest(t):this.Te(t)}_execute_array(t){var i,e=[],r=[],s=[];Tt(t,(t=>{t&&(i=t[0],P(i)?s.push(t):R(t)?t.call(this):P(t)&&\"alias\"===i?e.push(t):P(t)&&-1!==i.indexOf(\"capture\")&&R(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Tt(t,(function(t){if(P(t[0])){var e=i;Ct(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Ds(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Os){if(this.is_capturing())if(!C(t)&&M(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){null!=i&&i.$current_url&&!M(null==i?void 0:i.$current_url)&&(xt.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==e?void 0:e.timestamp)||n,a=Ce(),l={uuid:a,event:t,properties:this.calculateEventProperties(t,i||{},o,a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==e?void 0:e.$set)&&(l.$set=null==e?void 0:e.$set);var u,h=this.zs(null==e?void 0:e.$set_once);if(h&&(l.$set_once=h),(l=Lt(l,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,C(null==e?void 0:e.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n),t===Lo.DISMISSED||t===Lo.SENT){var d=null==i?void 0:i[No.SURVEY_ID],v=null==i?void 0:i[No.SURVEY_ITERATION];u={id:d,current_iteration:v},localStorage.getItem(Go(u))||localStorage.setItem(Go(u),\"true\"),l.$set=g({},l.$set,{[Wo({id:d,current_iteration:v},t===Lo.SENT?\"responded\":\"dismissed\")]:!0})}var c=g({},l.properties.$set,l.$set);if(T(c)||this.setPersonPropertiesForFlags(c),!A(this.config.before_send)){var f=this.qs(l);if(!f)return;l=f}this.xs.emit(\"eventCaptured\",l);var p={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.Fs(p):this.Os.enqueue(p),l}xt.critical(\"This capture call is ignored due to client rate limiting.\")}}else xt.error(\"No event name provided to posthog.capture\")}else xt.uninitializedWarning(\"posthog.capture\")}Ye(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!M(a.distinct_id)&&!D(a.distinct_id)||O(a.distinct_id))&&xt.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=yo(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Mt(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Mt(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.As)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===ga.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Mt(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!C(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Mt({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),P(this.config.property_denylist)?Ct(this.config.property_denylist,(function(t){delete a[t]})):xt.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(xt.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Bs();return a.$process_person_profile=m,m&&!s&&this.Hs(\"_calculate_event_properties\"),a}zs(t){var i;if(!this.persistence||!this.Bs())return t;if(this.$s)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Mt({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&(xt.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.$s=!0,T(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Ws(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this.xs.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=Jo),this.surveys.displaySurvey(t,i)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return xt.uninitializedWarning(\"posthog.identify\");if(D(t)&&(t=t.toString(),xt.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))xt.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==Ii){if(this.Hs(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(Ht)&&(this.unregister(Ht),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(wi)||\"anonymous\");t!==r&&n?(this.persistence.set_property(wi,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.Is=rn(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(bi))}}else xt.critical('The string \"'+Ii+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else xt.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.Hs(\"posthog.setPersonProperties\")){var e=rn(this.get_distinct_id(),t,i);this.Is!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.Is=e):xt.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.Hs(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else xt.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.Hs(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if(xt.info(\"reset\"),!this.__loaded)return xt.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(wi,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.Is=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:Ii,$device_id:null},\"\");else{var o=this.config.get_device_id(Ce());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Bt)?(xt.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.Hs(\"posthog.alias\")?(C(i)&&(i=this.get_distinct_id()),t!==i?(this.Ws(Ht,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):(xt.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(I(t)){var e,r,s,n,o;Mt(this.config,Ma(t));var a=this.Ms();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Co(g({},this.config,{persistence:\"sessionStorage\"}),a),Le.G()&&\"true\"===Le.J(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(c.DEBUG=!0,xt.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Gs(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:Ia;return i!==Ia&&(i=Ia+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(wi))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(wi))}Bs(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&T(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[Ht])&&(null==(i=this.persistence)||null==(i=i.props)||!i[Pi]))}Us(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Bs()||this.Hs(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}Hs(t){return\"never\"===this.config.person_profiles?(xt.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Ws(Pi,!0),!0)}Ms(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Gs(){var t,i,e,r,s=this.Ms();(null==(t=this.persistence)?void 0:t.je)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.je)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new ua(this),this.persistence&&(this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),this.sessionRecording=new Rs(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Gs(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),C(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(i=null==t?void 0:t.captureEventName)&&void 0!==i?i:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.Ns()}else xt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Gs(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:Ii,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(t=this.sessionRecording)||t.stopRecording(),this.sessionRecording=void 0,this.Ns())):xt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===We.GRANTED?\"granted\":t===We.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Gs()}_is_bot(){return n?pa(n,this.config.custom_blocked_useragents):void 0}Ns(){o&&(\"visible\"===o.visibilityState?this.Es||(this.Es=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.Ps&&(o.removeEventListener(\"visibilitychange\",this.Ps),this.Ps=null)):this.Ps||(this.Ps=this.Ns.bind(this),qt(o,\"visibilitychange\",this.Ps)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}L(){var t,i,e,r,s,n,o,a=this.Ts||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(xt.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=xt,n=(i=\"advanced_disable_flags\")in(t=a)&&!C(t[i]),o=e in t&&!C(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}qs(t){if(A(this.config.before_send))return t;var i=P(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),A(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return N(t.event)?xt.warn(s+\". This can cause unexpected behavior.\"):xt.info(s),null}e.properties&&!T(e.properties)||xt.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.fe)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=Dt(t.prototype[i[e]])}(Fa,[\"identify\"]);var Aa,Da=(Aa=Pa[Ia]=new Fa,function(){function i(){i.done||(i.done=!0,Ta=!1,Ct(Pa,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():qt(o,\"DOMContentLoaded\",i,{capture:!1}):t&&xt.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Aa);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpYUFBaWEsSUFBSSxnQ0FBZ0MsMEJBQTBCLElBQUksd0JBQXdCLFNBQVMsaUJBQWlCLHlDQUF5QyxjQUFjLGtCQUFrQix1QkFBdUIsa0NBQWtDLG1CQUFtQixjQUFjLHNCQUFzQixjQUFjLHVCQUF1QixVQUFVLElBQUksYUFBYSx3REFBd0QsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsa0JBQWtCLHdDQUF3QyxTQUFTLHlCQUF5QixnQkFBZ0Isb0JBQW9CLFNBQVMsb0JBQW9CLDJCQUEyQiw4QkFBOEIsVUFBVSxTQUFTLDRQQUE0UCxnQkFBZ0Isd0JBQXdCLGtCQUFrQixnQkFBZ0IsZUFBZSw0QkFBNEIsd0ZBQXdGLG1DQUFtQywyREFBMkQsU0FBUyx1Q0FBdUMsU0FBUyxTQUFTLDZOQUE2TixjQUFjLG9DQUFvQyxnQkFBZ0IsNERBQTRELGNBQWMsK0JBQStCLElBQUksc0JBQXNCLFNBQVMsVUFBVSxVQUFVLG9FQUFvRSxzQkFBc0IsNFRBQTRULFFBQVEsZUFBZSxrQkFBa0IsYUFBYSxpQ0FBaUMsdUJBQXVCLHVDQUF1QyxHQUFHLDRDQUE0QyxvQkFBb0IsMkJBQTJCLG9EQUFvRCxvQ0FBb0MsWUFBWSxZQUFZLCtDQUErQyxvTEFBb0wsU0FBUyxVQUFVLE9BQU8sK0NBQStDLGtDQUFrQyxjQUFjLGtDQUFrQyxNQUFNLHFCQUFxQix3REFBd0QsUUFBUSxFQUFFLFdBQVcsa0JBQWtCLGlDQUFpQyxLQUFLLEtBQUssOENBQThDLFNBQVMsa0JBQWtCLE9BQU8sU0FBUyxJQUFJLE1BQU0sVUFBVSxxQkFBcUIsT0FBTywrRUFBK0UsOENBQThDLGVBQWUsa0ZBQWtGLDRHQUE0Ryx1T0FBdU8saUJBQWlCLE1BQU0sY0FBYyxxQkFBcUIsaUJBQWlCLE1BQU0sbUNBQW1DLG9CQUFvQixtQ0FBbUMsMEJBQTBCLG9EQUFvRCxxTUFB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QXNCLG1GQUFtRixnQ0FBZ0MsRUFBRSw4Q0FBOEMsT0FBTyxlQUFlLG1DQUFtQyxnQkFBZ0IsTUFBTSxvREFBb0Qsc0JBQXNCLE1BQU0sMkRBQTJELFdBQVcscURBQXFELDhCQUE4QixnQkFBZ0IsUUFBUSwwSkFBMEosS0FBSyxRQUFRLDhQQUE4UCxLQUFLLHNMQUFzTCxzQkFBc0IsOEVBQThFLEdBQUcsRUFBRSxNQUFNLGlLQUFpSyxLQUFLLG1EQUFtRCx3SEFBd0gsK0NBQStDLEtBQUssd0JBQXdCLDhGQUE4Riw0R0FBNEcsU0FBUyxvQkFBb0IsMkNBQTJDLE1BQU0sdWxCQUF1bEIsa0JBQWtCLEVBQUUsd0NBQXdDLGtHQUFrRyxvQkFBb0IsTUFBTSwyTkFBMk4sK0JBQStCLHNQQUFzUCx5QkFBeUIsZ0NBQWdDLDBCQUEwQixpQ0FBaUMsOEJBQThCLDJCQUEyQixpRUFBaUUsZUFBZSx3TEFBd0wsNkJBQTZCLCtCQUErQixVQUFVLDREQUE0RCxLQUFLLGlGQUFpRixjQUFjLEVBQUUsa0JBQWtCLHFKQUFxSixTQUFTLGlJQUFpSSxTQUFTLHVPQUF1TyxTQUFTLEdBQUcsSUFBSSxnQ0FBZ0MsbW1CQUFtbUIsTUFBTSx1Q0FBdUMsdUZBQXVGLGdCQUFnQixnQkFBZ0IsZ0VBQWdFLHFGQUFxRixxSUFBcUksU0FBUyxnQkFBZ0IsTUFBTSw2REFBNkQsMEJBQTBCLDZCQUE2QiwyQ0FBMkMsRUFBRSwwQkFBMEIsMkJBQTJCLG9FQUFvRSxHQUFHLGVBQWUsWUFBWSxXQUFXLDRDQUE0QyxrQkFBa0IsdUNBQXVDLGFBQWEsNENBQTRDLGdCQUFnQixJQUFJLHFGQUFxRixXQUFXLHdHQUF3RyxPQUFvVjtBQUMzNm5MIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xccG9zdGhvZy1qc1xcZGlzdFxcbW9kdWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dCxlPUFycmF5LnByb3RvdHlwZSxyPWUuZm9yRWFjaCxzPWUuaW5kZXhPZixuPW51bGw9PWk/dm9pZCAwOmkubmF2aWdhdG9yLG89bnVsbD09aT92b2lkIDA6aS5kb2N1bWVudCxhPW51bGw9PWk/dm9pZCAwOmkubG9jYXRpb24sbD1udWxsPT1pP3ZvaWQgMDppLmZldGNoLHU9bnVsbCE9aSYmaS5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBpLlhNTEh0dHBSZXF1ZXN0P2kuWE1MSHR0cFJlcXVlc3Q6dm9pZCAwLGg9bnVsbD09aT92b2lkIDA6aS5BYm9ydENvbnRyb2xsZXIsZD1udWxsPT1uP3ZvaWQgMDpuLnVzZXJBZ2VudCx2PW51bGwhPXQ/dDp7fSxjPXtERUJVRzohMSxMSUJfVkVSU0lPTjpcIjEuMjY4LjZcIn07ZnVuY3Rpb24gZih0LGksZSxyLHMsbixvKXt0cnl7dmFyIGE9dFtuXShvKSxsPWEudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZSh0KX1hLmRvbmU/aShsKTpQcm9taXNlLnJlc29sdmUobCkudGhlbihyLHMpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIscyl7dmFyIG49dC5hcHBseShpLGUpO2Z1bmN0aW9uIG8odCl7ZihuLHIscyxvLGEsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gYSh0KXtmKG4scixzLG8sYSxcInRocm93XCIsdCl9byh2b2lkIDApfSkpfX1mdW5jdGlvbiBnKCl7cmV0dXJuIGc9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgZT1hcmd1bWVudHNbaV07Zm9yKHZhciByIGluIGUpKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pfXJldHVybiB0fSxnLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBfKHQsaSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgZT17fTtmb3IodmFyIHIgaW4gdClpZih7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe2lmKC0xIT09aS5pbmRleE9mKHIpKWNvbnRpbnVlO2Vbcl09dFtyXX1yZXR1cm4gZX12YXIgbT1bXCIkc25hcHNob3RcIixcIiRwYWdldmlld1wiLFwiJHBhZ2VsZWF2ZVwiLFwiJHNldFwiLFwic3VydmV5IGRpc21pc3NlZFwiLFwic3VydmV5IHNlbnRcIixcInN1cnZleSBzaG93blwiLFwiJGlkZW50aWZ5XCIsXCIkZ3JvdXBpZGVudGlmeVwiLFwiJGNyZWF0ZV9hbGlhc1wiLFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIixcIiR3ZWJfZXhwZXJpbWVudF9hcHBsaWVkXCIsXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIl07ZnVuY3Rpb24geSh0LGkpe3JldHVybi0xIT09dC5pbmRleE9mKGkpfXZhciBiPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX0sdz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXFwkLyxcIlwiKX07dmFyIFM9QXJyYXkuaXNBcnJheSxrPU9iamVjdC5wcm90b3R5cGUseD1rLmhhc093blByb3BlcnR5LEU9ay50b1N0cmluZyxQPVN8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PUUuY2FsbCh0KX0sUj10PT5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LEk9dD0+dD09PU9iamVjdCh0KSYmIVAodCksVD10PT57aWYoSSh0KSl7Zm9yKHZhciBpIGluIHQpaWYoeC5jYWxsKHQsaSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9LEM9dD0+dm9pZCAwPT09dCxNPXQ9PlwiW29iamVjdCBTdHJpbmddXCI9PUUuY2FsbCh0KSxPPXQ9Pk0odCkmJjA9PT10LnRyaW0oKS5sZW5ndGgsRj10PT5udWxsPT09dCxBPXQ9PkModCl8fEYodCksRD10PT5cIltvYmplY3QgTnVtYmVyXVwiPT1FLmNhbGwodCksaj10PT5cIltvYmplY3QgQm9vbGVhbl1cIj09PUUuY2FsbCh0KSxMPXQ9PnQgaW5zdGFuY2VvZiBGb3JtRGF0YSxOPXQ9PnkobSx0KTtmdW5jdGlvbiBVKHQpe3JldHVybiBudWxsPT09dHx8XCJvYmplY3RcIiE9dHlwZW9mIHR9ZnVuY3Rpb24geih0LGkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgXCIraStcIl1cIn1mdW5jdGlvbiBxKHQpe3JldHVybiFDKEV2ZW50KSYmZnVuY3Rpb24odCxpKXt0cnl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpfWNhdGNoKHQpe3JldHVybiExfX0odCxFdmVudCl9dmFyIEI9WyEwLFwidHJ1ZVwiLDEsXCIxXCIsXCJ5ZXNcIl0sSD10PT55KEIsdCksVz1bITEsXCJmYWxzZVwiLDAsXCIwXCIsXCJub1wiXTtmdW5jdGlvbiBHKHQsaSxlLHIscyl7cmV0dXJuIGk+ZSYmKHIud2FybihcIm1pbiBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG1heC5cIiksaT1lKSxEKHQpP3Q+ZT8oci53YXJuKFwiIGNhbm5vdCBiZSAgZ3JlYXRlciB0aGFuIG1heDogXCIrZStcIi4gVXNpbmcgbWF4IHZhbHVlIGluc3RlYWQuXCIpLGUpOnQ8aT8oci53YXJuKFwiIGNhbm5vdCBiZSBsZXNzIHRoYW4gbWluOiBcIitpK1wiLiBVc2luZyBtaW4gdmFsdWUgaW5zdGVhZC5cIiksaSk6dDooci53YXJuKFwiIG11c3QgYmUgYSBudW1iZXIuIHVzaW5nIG1heCBvciBmYWxsYmFjay4gbWF4OiBcIitlK1wiLCBmYWxsYmFjazogXCIrcyksRyhzfHxlLGksZSxyKSl9Y2xhc3MgVntjb25zdHJ1Y3Rvcih0KXt0aGlzLnQ9dCx0aGlzLmk9e30sdGhpcy5vPSgpPT57T2JqZWN0LmtleXModGhpcy5pKS5mb3JFYWNoKCh0PT57dmFyIGk9dGhpcy5oKHQpK3RoaXMubTtpPj10aGlzLlM/ZGVsZXRlIHRoaXMuaVt0XTp0aGlzLmsodCxpKX0pKX0sdGhpcy5oPXQ9PnRoaXMuaVtTdHJpbmcodCldLHRoaXMuaz0odCxpKT0+e3RoaXMuaVtTdHJpbmcodCldPWl9LHRoaXMuY29uc3VtZVJhdGVMaW1pdD10PT57dmFyIGksZSxyPW51bGwhPT0oaT10aGlzLmgodCkpJiZ2b2lkIDAhPT1pP2k6dGhpcy5TO2lmKDA9PT0ocj1NYXRoLm1heChyLTEsMCkpKXJldHVybiEwO3RoaXMuayh0LHIpO3ZhciBzPTA9PT1yO3JldHVybiBzJiYobnVsbD09KGU9dGhpcy4kKXx8ZS5jYWxsKHRoaXMsdCkpLHN9LHRoaXMuJD10aGlzLnQuJCx0aGlzLlM9Ryh0aGlzLnQuYnVja2V0U2l6ZSwwLDEwMCx0aGlzLnQuUCksdGhpcy5tPUcodGhpcy50LnJlZmlsbFJhdGUsMCx0aGlzLlMsdGhpcy50LlApLHRoaXMuUj1HKHRoaXMudC5yZWZpbGxJbnRlcnZhbCwwLDg2NGU1LHRoaXMudC5QKSx0aGlzLkk9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5vKCl9KSx0aGlzLlIpfXN0b3AoKXt0aGlzLkkmJihjbGVhckludGVydmFsKHRoaXMuSSksdGhpcy5JPXZvaWQgMCl9fXZhciBKLEssWSxYPXQ9PnQgaW5zdGFuY2VvZiBFcnJvcjtmdW5jdGlvbiBRKHQpe3ZhciBpPWdsb2JhbFRoaXMuX3Bvc3Rob2dDaHVua0lkcztpZihpKXt2YXIgZT1PYmplY3Qua2V5cyhpKTtyZXR1cm4gWSYmZS5sZW5ndGg9PT1LfHwoSz1lLmxlbmd0aCxZPWUucmVkdWNlKCgoZSxyKT0+e0p8fChKPXt9KTt2YXIgcz1KW3JdO2lmKHMpZVtzWzBdXT1zWzFdO2Vsc2UgZm9yKHZhciBuPXQociksbz1uLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1uW29dLGw9bnVsbD09YT92b2lkIDA6YS5maWxlbmFtZSx1PWlbcl07aWYobCYmdSl7ZVtsXT11LEpbcl09W2wsdV07YnJlYWt9fXJldHVybiBlfSkse30pKSxZfX12YXIgWj1cIj9cIjtmdW5jdGlvbiB0dCh0LGksZSxyKXt2YXIgcz17cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwiLGZpbGVuYW1lOnQsZnVuY3Rpb246XCI8YW5vbnltb3VzPlwiPT09aT9aOmksaW5fYXBwOiEwfTtyZXR1cm4gQyhlKXx8KHMubGluZW5vPWUpLEMocil8fChzLmNvbG5vPXIpLHN9dmFyIGl0PSh0LGkpPT57dmFyIGU9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktZXh0ZW5zaW9uXCIpLHI9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktd2ViLWV4dGVuc2lvblwiKTtyZXR1cm4gZXx8cj9bLTEhPT10LmluZGV4T2YoXCJAXCIpP3Quc3BsaXQoXCJAXCIpWzBdOlosZT9cInNhZmFyaS1leHRlbnNpb246XCIraTpcInNhZmFyaS13ZWItZXh0ZW5zaW9uOlwiK2ldOlt0LGldfSxldD0vXlxccyphdCAoXFxTKz8pKD86OihcXGQrKSkoPzo6KFxcZCspKVxccyokL2kscnQ9L15cXHMqYXQgKD86KC4rP1xcKSg/OiBcXFsuK1xcXSk/fC4qPykgP1xcKCg/OmFkZHJlc3MgYXQgKT8pPyg/OmFzeW5jICk/KCg/Ojxhbm9ueW1vdXM+fFstYS16XSs6fC4qYnVuZGxlfFxcLyk/Lio/KSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xcKT9cXHMqJC9pLHN0PS9cXCgoXFxTKikoPzo6KFxcZCspKSg/OjooXFxkKykpXFwpLyxudD10PT57dmFyIGk9ZXQuZXhlYyh0KTtpZihpKXt2YXJbLGUscixzXT1pO3JldHVybiB0dChlLFosK3IsK3MpfXZhciBuPXJ0LmV4ZWModCk7aWYobil7aWYoblsyXSYmMD09PW5bMl0uaW5kZXhPZihcImV2YWxcIikpe3ZhciBvPXN0LmV4ZWMoblsyXSk7byYmKG5bMl09b1sxXSxuWzNdPW9bMl0sbls0XT1vWzNdKX12YXJbYSxsXT1pdChuWzFdfHxaLG5bMl0pO3JldHVybiB0dChsLGEsblszXT8rblszXTp2b2lkIDAsbls0XT8rbls0XTp2b2lkIDApfX0sb3Q9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKT8oKD86Wy1hLXpdKyk/OlxcLy4qP3xcXFtuYXRpdmUgY29kZVxcXXxbXkBdKig/OmJ1bmRsZXxcXGQrXFwuanMpfFxcL1tcXHdcXC0uIC89XSspKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaSxhdD0vKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaSxsdD10PT57dmFyIGk9b3QuZXhlYyh0KTtpZihpKXtpZihpWzNdJiZpWzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXt2YXIgZT1hdC5leGVjKGlbM10pO2UmJihpWzFdPWlbMV18fFwiZXZhbFwiLGlbM109ZVsxXSxpWzRdPWVbMl0saVs1XT1cIlwiKX12YXIgcj1pWzNdLHM9aVsxXXx8WjtyZXR1cm5bcyxyXT1pdChzLHIpLHR0KHIscyxpWzRdPytpWzRdOnZvaWQgMCxpWzVdPytpWzVdOnZvaWQgMCl9fSx1dD0vXFwoZXJyb3I6ICguKilcXCkvLGh0PTUwO2Z1bmN0aW9uIGR0KCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCksZT0wO2U8dDtlKyspaVtlXT1hcmd1bWVudHNbZV07cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCk7Zm9yKHZhciByPVtdLHM9dC5zcGxpdChcIlxcblwiKSxuPWU7bjxzLmxlbmd0aDtuKyspe3ZhciBvPXNbbl07aWYoIShvLmxlbmd0aD4xMDI0KSl7dmFyIGE9dXQudGVzdChvKT9vLnJlcGxhY2UodXQsXCIkMVwiKTpvO2lmKCFhLm1hdGNoKC9cXFMqRXJyb3I6IC8pKXtmb3IodmFyIGwgb2YgaSl7dmFyIHU9bChhKTtpZih1KXtyLnB1c2godSk7YnJlYWt9fWlmKHIubGVuZ3RoPj1odClicmVha319fXJldHVybiBmdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuW107dmFyIGk9QXJyYXkuZnJvbSh0KTtyZXR1cm4gaS5yZXZlcnNlKCksaS5zbGljZSgwLGh0KS5tYXAoKHQ9PntyZXR1cm4gZyh7fSx0LHtmaWxlbmFtZTp0LmZpbGVuYW1lfHwoZT1pLGVbZS5sZW5ndGgtMV18fHt9KS5maWxlbmFtZSxmdW5jdGlvbjp0LmZ1bmN0aW9ufHxafSk7dmFyIGV9KSl9KHIpfX1jbGFzcyB2dHtjb25zdHJ1Y3Rvcih0LGksZSl7dm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWkmJihpPVtdKSx2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5jb2VyY2Vycz10LHRoaXMubW9kaWZpZXJzPWUsdGhpcy5zdGFja1BhcnNlcj1kdCguLi5pKX1idWlsZEZyb21Vbmtub3duKHQsaSl7dm9pZCAwPT09aSYmKGk9e30pO3ZhciBlPWkmJmkubWVjaGFuaXNtfHx7aGFuZGxlZDohMCx0eXBlOlwiZ2VuZXJpY1wifSxyPXRoaXMuYnVpbGRDb2VyY2luZ0NvbnRleHQoZSxpLDApLmFwcGx5KHQpLHM9dGhpcy5idWlsZFBhcnNpbmdDb250ZXh0KCksbj10aGlzLnBhcnNlU3RhY2t0cmFjZShyLHMpO3JldHVybnskZXhjZXB0aW9uX2xpc3Q6dGhpcy5jb252ZXJ0VG9FeGNlcHRpb25MaXN0KG4sZSksJGV4Y2VwdGlvbl9sZXZlbDpcImVycm9yXCJ9fW1vZGlmeUZyYW1lcyh0KXt2YXIgaT10aGlzO3JldHVybiBwKChmdW5jdGlvbiooKXtmb3IodmFyIGUgb2YgdCllLnN0YWNrdHJhY2UmJmUuc3RhY2t0cmFjZS5mcmFtZXMmJlAoZS5zdGFja3RyYWNlLmZyYW1lcykmJihlLnN0YWNrdHJhY2UuZnJhbWVzPXlpZWxkIGkuYXBwbHlNb2RpZmllcnMoZS5zdGFja3RyYWNlLmZyYW1lcykpO3JldHVybiB0fSkpKCl9Y29lcmNlRmFsbGJhY2sodCl7dmFyIGk7cmV0dXJue3R5cGU6XCJFcnJvclwiLHZhbHVlOlwiVW5rbm93biBlcnJvclwiLHN0YWNrOm51bGw9PShpPXQuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6aS5zdGFjayxzeW50aGV0aWM6ITB9fXBhcnNlU3RhY2t0cmFjZSh0LGkpe3ZhciBlLHI7cmV0dXJuIG51bGwhPXQuY2F1c2UmJihlPXRoaXMucGFyc2VTdGFja3RyYWNlKHQuY2F1c2UsaSkpLFwiXCIhPXQuc3RhY2smJm51bGwhPXQuc3RhY2smJihyPXRoaXMuYXBwbHlDaHVua0lkcyh0aGlzLnN0YWNrUGFyc2VyKHQuc3RhY2ssdC5zeW50aGV0aWM/MTowKSxpLmNodW5rSWRNYXApKSxnKHt9LHQse2NhdXNlOmUsc3RhY2s6cn0pfWFwcGx5Q2h1bmtJZHModCxpKXtyZXR1cm4gdC5tYXAoKHQ9Pih0LmZpbGVuYW1lJiZpJiYodC5jaHVua19pZD1pW3QuZmlsZW5hbWVdKSx0KSkpfWFwcGx5Q29lcmNlcnModCxpKXtmb3IodmFyIGUgb2YgdGhpcy5jb2VyY2VycylpZihlLm1hdGNoKHQpKXJldHVybiBlLmNvZXJjZSh0LGkpO3JldHVybiB0aGlzLmNvZXJjZUZhbGxiYWNrKGkpfWFwcGx5TW9kaWZpZXJzKHQpe3ZhciBpPXRoaXM7cmV0dXJuIHAoKGZ1bmN0aW9uKigpe3ZhciBlPXQ7Zm9yKHZhciByIG9mIGkubW9kaWZpZXJzKWU9eWllbGQgcihlKTtyZXR1cm4gZX0pKSgpfWNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QodCxpKXt2YXIgZSxyLHMsbj17dHlwZTp0LnR5cGUsdmFsdWU6dC52YWx1ZSxtZWNoYW5pc206e3R5cGU6bnVsbCE9PShlPWkudHlwZSkmJnZvaWQgMCE9PWU/ZTpcImdlbmVyaWNcIixoYW5kbGVkOm51bGw9PT0ocj1pLmhhbmRsZWQpfHx2b2lkIDA9PT1yfHxyLHN5bnRoZXRpYzpudWxsIT09KHM9dC5zeW50aGV0aWMpJiZ2b2lkIDAhPT1zJiZzfX07dC5zdGFjayYmKG4uc3RhY2t0cmFjZT17dHlwZTpcInJhd1wiLGZyYW1lczp0LnN0YWNrfSk7dmFyIG89W25dO3JldHVybiBudWxsIT10LmNhdXNlJiZvLnB1c2goLi4udGhpcy5jb252ZXJ0VG9FeGNlcHRpb25MaXN0KHQuY2F1c2UsZyh7fSxpLHtoYW5kbGVkOiEwfSkpKSxvfWJ1aWxkUGFyc2luZ0NvbnRleHQoKXtyZXR1cm57Y2h1bmtJZE1hcDpRKHRoaXMuc3RhY2tQYXJzZXIpfX1idWlsZENvZXJjaW5nQ29udGV4dCh0LGksZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIHI9KGUscik9PntpZihyPD00KXt2YXIgcz10aGlzLmJ1aWxkQ29lcmNpbmdDb250ZXh0KHQsaSxyKTtyZXR1cm4gdGhpcy5hcHBseUNvZXJjZXJzKGUscyl9fTtyZXR1cm4gZyh7fSxpLHtzeW50aGV0aWNFeGNlcHRpb246MD09ZT9pLnN5bnRoZXRpY0V4Y2VwdGlvbjp2b2lkIDAsbWVjaGFuaXNtOnQsYXBwbHk6dD0+cih0LGUpLG5leHQ6dD0+cih0LGUrMSl9KX19Y2xhc3MgY3R7bWF0Y2godCl7cmV0dXJuIHRoaXMuaXNET01FeGNlcHRpb24odCl8fHRoaXMuaXNET01FcnJvcih0KX1jb2VyY2UodCxpKXt2YXIgZT1NKHQuc3RhY2spO3JldHVybnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOmU/dC5zdGFjazp2b2lkIDAsY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdGhpcy5pc0RPTUVycm9yKHQpP1wiRE9NRXJyb3JcIjpcIkRPTUV4Y2VwdGlvblwifWdldFZhbHVlKHQpe3ZhciBpPXQubmFtZXx8KHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIik7cmV0dXJuIHQubWVzc2FnZT9pK1wiOiBcIit0Lm1lc3NhZ2U6aX1pc0RPTUV4Y2VwdGlvbih0KXtyZXR1cm4geih0LFwiRE9NRXhjZXB0aW9uXCIpfWlzRE9NRXJyb3IodCl7cmV0dXJuIHoodCxcIkRPTUVycm9yXCIpfX1jbGFzcyBmdHttYXRjaCh0KXtyZXR1cm4odD0+dCBpbnN0YW5jZW9mIEVycm9yKSh0KX1jb2VyY2UodCxpKXtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRNZXNzYWdlKHQsaSksc3RhY2s6dGhpcy5nZXRTdGFjayh0KSxjYXVzZTp0LmNhdXNlP2kubmV4dCh0LmNhdXNlKTp2b2lkIDAsc3ludGhldGljOiExfX1nZXRUeXBlKHQpe3JldHVybiB0Lm5hbWV8fHQuY29uc3RydWN0b3IubmFtZX1nZXRNZXNzYWdlKHQsaSl7dmFyIGU9dC5tZXNzYWdlO3JldHVybiBlLmVycm9yJiZcInN0cmluZ1wiPT10eXBlb2YgZS5lcnJvci5tZXNzYWdlP1N0cmluZyhlLmVycm9yLm1lc3NhZ2UpOlN0cmluZyhlKX1nZXRTdGFjayh0KXtyZXR1cm4gdC5zdGFja3RyYWNlfHx0LnN0YWNrfHx2b2lkIDB9fWNsYXNzIHB0e2NvbnN0cnVjdG9yKCl7fW1hdGNoKHQpe3JldHVybiB6KHQsXCJFcnJvckV2ZW50XCIpJiZudWxsIT10LmVycm9yfWNvZXJjZSh0LGkpe3ZhciBlLHI9aS5hcHBseSh0LmVycm9yKTtyZXR1cm4gcnx8e3R5cGU6XCJFcnJvckV2ZW50XCIsdmFsdWU6dC5tZXNzYWdlLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fX12YXIgZ3Q9L14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvaTtjbGFzcyBfdHttYXRjaCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH1jb2VyY2UodCxpKXt2YXIgZSxbcixzXT10aGlzLmdldEluZm9zKHQpO3JldHVybnt0eXBlOm51bGwhPXI/cjpcIkVycm9yXCIsdmFsdWU6bnVsbCE9cz9zOnQsc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19Z2V0SW5mb3ModCl7dmFyIGk9XCJFcnJvclwiLGU9dCxyPXQubWF0Y2goZ3QpO3JldHVybiByJiYoaT1yWzFdLGU9clsyXSksW2ksZV19fXZhciBtdD1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl07ZnVuY3Rpb24geXQodCxpKXt2b2lkIDA9PT1pJiYoaT00MCk7dmFyIGU9T2JqZWN0LmtleXModCk7aWYoZS5zb3J0KCksIWUubGVuZ3RoKXJldHVyblwiW29iamVjdCBoYXMgbm8ga2V5c11cIjtmb3IodmFyIHI9ZS5sZW5ndGg7cj4wO3ItLSl7dmFyIHM9ZS5zbGljZSgwLHIpLmpvaW4oXCIsIFwiKTtpZighKHMubGVuZ3RoPmkpKXJldHVybiByPT09ZS5sZW5ndGh8fHMubGVuZ3RoPD1pP3M6cy5zbGljZSgwLGkpK1wiLi4uXCJ9cmV0dXJuXCJcIn1jbGFzcyBidHttYXRjaCh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9Y29lcmNlKHQsaSl7dmFyIGUscj10aGlzLmdldEVycm9yUHJvcGVydHlGcm9tT2JqZWN0KHQpO3JldHVybiByP2kuYXBwbHkocik6e3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0VmFsdWUodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLGxldmVsOnRoaXMuaXNTZXZlcml0eUxldmVsKHQubGV2ZWwpP3QubGV2ZWw6XCJlcnJvclwiLHN5bnRoZXRpYzohMH19Z2V0VHlwZSh0KXtyZXR1cm4gcSh0KT90LmNvbnN0cnVjdG9yLm5hbWU6XCJFcnJvclwifWdldFZhbHVlKHQpe2lmKFwibmFtZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZSl7dmFyIGk9XCInXCIrdC5uYW1lK1wiJyBjYXB0dXJlZCBhcyBleGNlcHRpb25cIjtyZXR1cm5cIm1lc3NhZ2VcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm1lc3NhZ2UmJihpKz1cIiB3aXRoIG1lc3NhZ2U6ICdcIit0Lm1lc3NhZ2UrXCInXCIpLGl9aWYoXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlKXJldHVybiB0Lm1lc3NhZ2U7dmFyIGU9dGhpcy5nZXRPYmplY3RDbGFzc05hbWUodCk7cmV0dXJuKGUmJlwiT2JqZWN0XCIhPT1lP1wiJ1wiK2UrXCInXCI6XCJPYmplY3RcIikrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIreXQodCl9aXNTZXZlcml0eUxldmVsKHQpe3JldHVybiBNKHQpJiYhTyh0KSYmbXQuaW5kZXhPZih0KT49MH1nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KXtmb3IodmFyIGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSl7dmFyIGU9dFtpXTtpZihYKGUpKXJldHVybiBlfX1nZXRPYmplY3RDbGFzc05hbWUodCl7dHJ5e3ZhciBpPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gaT9pLmNvbnN0cnVjdG9yLm5hbWU6dm9pZCAwfWNhdGNoKHQpe3JldHVybn19fWNsYXNzIHd0e21hdGNoKHQpe3JldHVybiBxKHQpfWNvZXJjZSh0LGkpe3ZhciBlLHI9dC5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybnt0eXBlOnIsdmFsdWU6citcIiBjYXB0dXJlZCBhcyBleGNlcHRpb24gd2l0aCBrZXlzOiBcIit5dCh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3MgU3R7bWF0Y2godCl7cmV0dXJuIFUodCl9Y29lcmNlKHQsaSl7dmFyIGU7cmV0dXJue3R5cGU6XCJFcnJvclwiLHZhbHVlOlwiUHJpbWl0aXZlIHZhbHVlIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbjogXCIrU3RyaW5nKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fX1jbGFzcyBrdHttYXRjaCh0KXtyZXR1cm4geih0LFwiUHJvbWlzZVJlamVjdGlvbkV2ZW50XCIpfWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRVbmhhbmRsZWRSZWplY3Rpb25SZWFzb24odCk7cmV0dXJuIFUocik/e3R5cGU6XCJVbmhhbmRsZWRSZWplY3Rpb25cIix2YWx1ZTpcIk5vbi1FcnJvciBwcm9taXNlIHJlamVjdGlvbiBjYXB0dXJlZCB3aXRoIHZhbHVlOiBcIitTdHJpbmcociksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH06aS5hcHBseShyKX1nZXRVbmhhbmRsZWRSZWplY3Rpb25SZWFzb24odCl7aWYoVSh0KSlyZXR1cm4gdDt0cnl7aWYoXCJyZWFzb25cImluIHQpcmV0dXJuIHQucmVhc29uO2lmKFwiZGV0YWlsXCJpbiB0JiZcInJlYXNvblwiaW4gdC5kZXRhaWwpcmV0dXJuIHQuZGV0YWlsLnJlYXNvbn1jYXRjaCh0KXt9cmV0dXJuIHR9fXZhciAkdD1pPT57dmFyIGU9e1Q6ZnVuY3Rpb24oZSl7aWYodCYmKGMuREVCVUd8fHYuUE9TVEhPR19ERUJVRykmJiFDKHQuY29uc29sZSkmJnQuY29uc29sZSl7Zm9yKHZhciByPShcIl9fcnJ3ZWJfb3JpZ2luYWxfX1wiaW4gdC5jb25zb2xlW2VdP3QuY29uc29sZVtlXS5fX3Jyd2ViX29yaWdpbmFsX186dC5jb25zb2xlW2VdKSxzPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkocz4xP3MtMTowKSxvPTE7bzxzO28rKyluW28tMV09YXJndW1lbnRzW29dO3IoaSwuLi5uKX19LGluZm86ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLlQoXCJsb2dcIiwuLi5pKX0sd2FybjpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09YXJndW1lbnRzW3JdO2UuVChcIndhcm5cIiwuLi5pKX0sZXJyb3I6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLlQoXCJlcnJvclwiLC4uLmkpfSxjcml0aWNhbDpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO2NvbnNvbGUuZXJyb3IoaSwuLi5lKX0sdW5pbml0aWFsaXplZFdhcm5pbmc6dD0+e2UuZXJyb3IoXCJZb3UgbXVzdCBpbml0aWFsaXplIFBvc3RIb2cgYmVmb3JlIGNhbGxpbmcgXCIrdCl9LGNyZWF0ZUxvZ2dlcjp0PT4kdChpK1wiIFwiK3QpfTtyZXR1cm4gZX0seHQ9JHQoXCJbUG9zdEhvZy5qc11cIiksRXQ9eHQuY3JlYXRlTG9nZ2VyLFB0PUV0KFwiW0V4dGVybmFsU2NyaXB0c0xvYWRlcl1cIiksUnQ9KHQsaSxlKT0+e2lmKHQuY29uZmlnLmRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nKXJldHVybiBQdC53YXJuKGkrXCIgd2FzIHJlcXVlc3RlZCBidXQgbG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkLlwiKSxlKFwiTG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkXCIpO3ZhciByPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKTtpZihyKWZvcih2YXIgcyxuPWZ1bmN0aW9uKCl7aWYoclthXS5zcmM9PT1pKXt2YXIgdD1yW2FdO3JldHVybiB0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkP3t2OmUoKX06KHQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoaT0+e3QuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsaSl9KSksdC5vbmVycm9yPXQ9PmUodCkse3Y6dm9pZCAwfSl9fSxhPTA7YTxyLmxlbmd0aDthKyspaWYocz1uKCkpcmV0dXJuIHMudjt2YXIgbD0oKT0+e2lmKCFvKXJldHVybiBlKFwiZG9jdW1lbnQgbm90IGZvdW5kXCIpO3ZhciByPW8uY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpZihyLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixyLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsci5zcmM9aSxyLm9ubG9hZD10PT57ci5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD0hMCxlKHZvaWQgMCx0KX0sci5vbmVycm9yPXQ9PmUodCksdC5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCYmKHI9dC5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdChyKSksIXIpcmV0dXJuIGUoXCJwcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0IHJldHVybmVkIG51bGxcIik7dmFyIHMsbj1vLnF1ZXJ5U2VsZWN0b3JBbGwoXCJib2R5ID4gc2NyaXB0XCIpO24ubGVuZ3RoPjA/bnVsbD09KHM9blswXS5wYXJlbnROb2RlKXx8cy5pbnNlcnRCZWZvcmUocixuWzBdKTpvLmJvZHkuYXBwZW5kQ2hpbGQocil9O251bGwhPW8mJm8uYm9keT9sKCk6bnVsbD09b3x8by5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGwpfTt2Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfX3x8e30sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZEV4dGVybmFsRGVwZW5kZW5jeT0odCxpLGUpPT57dmFyIHI9XCIvc3RhdGljL1wiK2krXCIuanM/dj1cIit0LnZlcnNpb247aWYoXCJyZW1vdGUtY29uZmlnXCI9PT1pJiYocj1cIi9hcnJheS9cIit0LmNvbmZpZy50b2tlbitcIi9jb25maWcuanNcIiksXCJ0b29sYmFyXCI9PT1pKXt2YXIgcz0zZTU7cj1yK1wiJnQ9XCIrTWF0aC5mbG9vcihEYXRlLm5vdygpL3MpKnN9dmFyIG49dC5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXNzZXRzXCIscik7UnQodCxuLGUpfSx2Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5sb2FkU2l0ZUFwcD0odCxpLGUpPT57dmFyIHI9dC5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsaSk7UnQodCxyLGUpfTt2YXIgSXQ9e307ZnVuY3Rpb24gVHQodCxpLGUpe2lmKFAodCkpaWYociYmdC5mb3JFYWNoPT09cil0LmZvckVhY2goaSxlKTtlbHNlIGlmKFwibGVuZ3RoXCJpbiB0JiZ0Lmxlbmd0aD09PSt0Lmxlbmd0aClmb3IodmFyIHM9MCxuPXQubGVuZ3RoO3M8bjtzKyspaWYocyBpbiB0JiZpLmNhbGwoZSx0W3NdLHMpPT09SXQpcmV0dXJufWZ1bmN0aW9uIEN0KHQsaSxlKXtpZighQSh0KSl7aWYoUCh0KSlyZXR1cm4gVHQodCxpLGUpO2lmKEwodCkpe2Zvcih2YXIgciBvZiB0LmVudHJpZXMoKSlpZihpLmNhbGwoZSxyWzFdLHJbMF0pPT09SXQpcmV0dXJufWVsc2UgZm9yKHZhciBzIGluIHQpaWYoeC5jYWxsKHQscykmJmkuY2FsbChlLHRbc10scyk9PT1JdClyZXR1cm59fXZhciBNdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFR0KGUsKGZ1bmN0aW9uKGkpe2Zvcih2YXIgZSBpbiBpKXZvaWQgMCE9PWlbZV0mJih0W2VdPWlbZV0pfSkpLHR9LE90PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGk+MT9pLTE6MCkscj0xO3I8aTtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gVHQoZSwoZnVuY3Rpb24oaSl7VHQoaSwoZnVuY3Rpb24oaSl7dC5wdXNoKGkpfSkpfSkpLHR9O2Z1bmN0aW9uIEZ0KHQpe2Zvcih2YXIgaT1PYmplY3Qua2V5cyh0KSxlPWkubGVuZ3RoLHI9bmV3IEFycmF5KGUpO2UtLTspcltlXT1baVtlXSx0W2lbZV1dXTtyZXR1cm4gcn12YXIgQXQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0KCl9Y2F0Y2godCl7cmV0dXJufX0sRHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGkpLHI9MDtyPGk7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiB0LmFwcGx5KHRoaXMsZSl9Y2F0Y2godCl7eHQuY3JpdGljYWwoXCJJbXBsZW1lbnRhdGlvbiBlcnJvci4gUGxlYXNlIHR1cm4gb24gZGVidWcgbW9kZSBhbmQgb3BlbiBhIHRpY2tldCBvbiBodHRwczovL2FwcC5wb3N0aG9nLmNvbS9ob21lI3BhbmVsPXN1cHBvcnQlM0FzdXBwb3J0JTNBLlwiKSx4dC5jcml0aWNhbCh0KX19fSxqdD1mdW5jdGlvbih0KXt2YXIgaT17fTtyZXR1cm4gQ3QodCwoZnVuY3Rpb24odCxlKXsoTSh0KSYmdC5sZW5ndGg+MHx8RCh0KSkmJihpW2VdPXQpfSkpLGl9O2Z1bmN0aW9uIEx0KHQsaSl7cmV0dXJuIGU9dCxyPXQ9Pk0odCkmJiFGKGkpP3Quc2xpY2UoMCxpKTp0LHM9bmV3IFNldCxmdW5jdGlvbiB0KGksZSl7cmV0dXJuIGkhPT1PYmplY3QoaSk/cj9yKGksZSk6aTpzLmhhcyhpKT92b2lkIDA6KHMuYWRkKGkpLFAoaSk/KG49W10sVHQoaSwoaT0+e24ucHVzaCh0KGkpKX0pKSk6KG49e30sQ3QoaSwoKGksZSk9PntzLmhhcyhpKXx8KG5bZV09dChpLGUpKX0pKSksbik7dmFyIG59KGUpO3ZhciBlLHIsc312YXIgTnQ9W1wiaGVyb2t1YXBwLmNvbVwiLFwidmVyY2VsLmFwcFwiLFwibmV0bGlmeS5hcHBcIl07ZnVuY3Rpb24gVXQodCl7dmFyIGk9bnVsbD09dD92b2lkIDA6dC5ob3N0bmFtZTtpZighTShpKSlyZXR1cm4hMTt2YXIgZT1pLnNwbGl0KFwiLlwiKS5zbGljZSgtMikuam9pbihcIi5cIik7Zm9yKHZhciByIG9mIE50KWlmKGU9PT1yKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHp0KHQsaSl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoaSh0W2VdKSlyZXR1cm4gdFtlXX1mdW5jdGlvbiBxdCh0LGksZSxyKXt2YXJ7Y2FwdHVyZTpzPSExLHBhc3NpdmU6bj0hMH09bnVsbCE9cj9yOnt9O251bGw9PXR8fHQuYWRkRXZlbnRMaXN0ZW5lcihpLGUse2NhcHR1cmU6cyxwYXNzaXZlOm59KX12YXIgQnQ9XCIkcGVvcGxlX2Rpc3RpbmN0X2lkXCIsSHQ9XCJfX2FsaWFzXCIsV3Q9XCJfX3RpbWVyc1wiLEd0PVwiJGF1dG9jYXB0dXJlX2Rpc2FibGVkX3NlcnZlcl9zaWRlXCIsVnQ9XCIkaGVhdG1hcHNfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLEp0PVwiJGV4Y2VwdGlvbl9jYXB0dXJlX2VuYWJsZWRfc2VydmVyX3NpZGVcIixLdD1cIiRlcnJvcl90cmFja2luZ19zdXBwcmVzc2lvbl9ydWxlc1wiLFl0PVwiJGVycm9yX3RyYWNraW5nX2NhcHR1cmVfZXh0ZW5zaW9uX2V4Y2VwdGlvbnNcIixYdD1cIiR3ZWJfdml0YWxzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixRdD1cIiRkZWFkX2NsaWNrc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsWnQ9XCIkd2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3NcIix0aT1cIiRzZXNzaW9uX3JlY29yZGluZ19yZW1vdGVfY29uZmlnXCIsaWk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLGVpPVwiJGNvbnNvbGVfbG9nX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIscmk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbmV0d29ya19wYXlsb2FkX2NhcHR1cmVcIixzaT1cIiRzZXNzaW9uX3JlY29yZGluZ19tYXNraW5nXCIsbmk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfY2FudmFzX3JlY29yZGluZ1wiLG9pPVwiJHJlcGxheV9zYW1wbGVfcmF0ZVwiLGFpPVwiJHJlcGxheV9taW5pbXVtX2R1cmF0aW9uXCIsbGk9XCIkcmVwbGF5X3NjcmlwdF9jb25maWdcIix1aT1cIiRzZXNpZFwiLGhpPVwiJHNlc3Npb25faXNfc2FtcGxlZFwiLGRpPVwiJHNlc3Npb25fcmVjb3JkaW5nX3VybF90cmlnZ2VyX2FjdGl2YXRlZF9zZXNzaW9uXCIsdmk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZXZlbnRfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLGNpPVwiJGVuYWJsZWRfZmVhdHVyZV9mbGFnc1wiLGZpPVwiJGVhcmx5X2FjY2Vzc19mZWF0dXJlc1wiLHBpPVwiJGZlYXR1cmVfZmxhZ19kZXRhaWxzXCIsZ2k9XCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIsX2k9XCIkc3RvcmVkX2dyb3VwX3Byb3BlcnRpZXNcIixtaT1cIiRzdXJ2ZXlzXCIseWk9XCIkc3VydmV5c19hY3RpdmF0ZWRcIixiaT1cIiRmbGFnX2NhbGxfcmVwb3J0ZWRcIix3aT1cIiR1c2VyX3N0YXRlXCIsU2k9XCIkY2xpZW50X3Nlc3Npb25fcHJvcHNcIixraT1cIiRjYXB0dXJlX3JhdGVfbGltaXRcIiwkaT1cIiRpbml0aWFsX2NhbXBhaWduX3BhcmFtc1wiLHhpPVwiJGluaXRpYWxfcmVmZXJyZXJfaW5mb1wiLEVpPVwiJGluaXRpYWxfcGVyc29uX2luZm9cIixQaT1cIiRlcHBcIixSaT1cIl9fUE9TVEhPR19UT09MQkFSX19cIixJaT1cIiRwb3N0aG9nX2Nvb2tpZWxlc3NcIixUaT1bQnQsSHQsXCJfX2NtcG5zXCIsV3QsaWksVnQsdWksY2ksS3Qsd2ksZmkscGksX2ksZ2ksbWksYmksU2ksa2ksJGkseGksUGksRWldO2Z1bmN0aW9uIENpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRWxlbWVudCYmKHQuaWQ9PT1SaXx8IShudWxsPT10LmNsb3Nlc3R8fCF0LmNsb3Nlc3QoXCIudG9vbGJhci1nbG9iYWwtZmFkZS1jb250YWluZXJcIikpKX1mdW5jdGlvbiBNaSh0KXtyZXR1cm4hIXQmJjE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIE9pKHQsaSl7cmV0dXJuISF0JiYhIXQudGFnTmFtZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gRmkodCl7cmV0dXJuISF0JiYzPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBBaSh0KXtyZXR1cm4hIXQmJjExPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBEaSh0KXtyZXR1cm4gdD9iKHQpLnNwbGl0KC9cXHMrLyk6W119ZnVuY3Rpb24gamkoaSl7dmFyIGU9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5ocmVmO3JldHVybiEhKGUmJmkmJmkuc29tZSgodD0+ZS5tYXRjaCh0KSkpKX1mdW5jdGlvbiBMaSh0KXt2YXIgaT1cIlwiO3N3aXRjaCh0eXBlb2YgdC5jbGFzc05hbWUpe2Nhc2VcInN0cmluZ1wiOmk9dC5jbGFzc05hbWU7YnJlYWs7Y2FzZVwib2JqZWN0XCI6aT0odC5jbGFzc05hbWUmJlwiYmFzZVZhbFwiaW4gdC5jbGFzc05hbWU/dC5jbGFzc05hbWUuYmFzZVZhbDpudWxsKXx8dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjticmVhaztkZWZhdWx0Omk9XCJcIn1yZXR1cm4gRGkoaSl9ZnVuY3Rpb24gTmkodCl7cmV0dXJuIEEodCk/bnVsbDpiKHQpLnNwbGl0KC8oXFxzKykvKS5maWx0ZXIoKHQ9PnJlKHQpKSkuam9pbihcIlwiKS5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiIFwiKS5yZXBsYWNlKC9bIF0rL2csXCIgXCIpLnN1YnN0cmluZygwLDI1NSl9ZnVuY3Rpb24gVWkodCl7dmFyIGk9XCJcIjtyZXR1cm4gS2kodCkmJiFZaSh0KSYmdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiZDdCh0LmNoaWxkTm9kZXMsKGZ1bmN0aW9uKHQpe3ZhciBlO0ZpKHQpJiZ0LnRleHRDb250ZW50JiYoaSs9bnVsbCE9PShlPU5pKHQudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09ZT9lOlwiXCIpfSkpLGIoaSl9ZnVuY3Rpb24gemkodCl7cmV0dXJuIEModC50YXJnZXQpP3Quc3JjRWxlbWVudHx8bnVsbDpudWxsIT0oaT10LnRhcmdldCkmJmkuc2hhZG93Um9vdD90LmNvbXBvc2VkUGF0aCgpWzBdfHxudWxsOnQudGFyZ2V0fHxudWxsO3ZhciBpfXZhciBxaT1bXCJhXCIsXCJidXR0b25cIixcImZvcm1cIixcImlucHV0XCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIsXCJsYWJlbFwiXTtmdW5jdGlvbiBCaSh0LGkpe2lmKEMoaSkpcmV0dXJuITA7dmFyIGUscj1mdW5jdGlvbih0KXtpZihpLnNvbWUoKGk9PnQubWF0Y2hlcyhpKSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIHQpaWYoZT1yKHMpKXJldHVybiBlLnY7cmV0dXJuITF9ZnVuY3Rpb24gSGkodCl7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiEoIWl8fCFNaShpKSkmJml9dmFyIFdpPVtcIi5waC1uby1yYWdlY2xpY2tcIixcIi5waC1uby1jYXB0dXJlXCJdO3ZhciBHaT10PT4hdHx8T2kodCxcImh0bWxcIil8fCFNaSh0KSxWaT0oaSxlKT0+e2lmKCF0fHxHaShpKSlyZXR1cm57cGFyZW50SXNVc2VmdWxFbGVtZW50OiExLHRhcmdldEVsZW1lbnRMaXN0OltdfTtmb3IodmFyIHI9ITEscz1baV0sbj1pO24ucGFyZW50Tm9kZSYmIU9pKG4sXCJib2R5XCIpOylpZihBaShuLnBhcmVudE5vZGUpKXMucHVzaChuLnBhcmVudE5vZGUuaG9zdCksbj1uLnBhcmVudE5vZGUuaG9zdDtlbHNle3ZhciBvPUhpKG4pO2lmKCFvKWJyZWFrO2lmKGV8fHFpLmluZGV4T2Yoby50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKXI9ITA7ZWxzZXt2YXIgYT10LmdldENvbXB1dGVkU3R5bGUobyk7YSYmXCJwb2ludGVyXCI9PT1hLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihyPSEwKX1zLnB1c2gobyksbj1vfXJldHVybntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6cix0YXJnZXRFbGVtZW50TGlzdDpzfX07ZnVuY3Rpb24gSmkoaSxlLHIscyxuKXt2YXIgbyxhLGwsdTtpZih2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHxHaShpKSlyZXR1cm4hMTtpZihudWxsIT0obz1yKSYmby51cmxfYWxsb3dsaXN0JiYhamkoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT0oYT1yKSYmYS51cmxfaWdub3JlbGlzdCYmamkoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9KGw9cikmJmwuZG9tX2V2ZW50X2FsbG93bGlzdCl7dmFyIGg9ci5kb21fZXZlbnRfYWxsb3dsaXN0O2lmKGgmJiFoLnNvbWUoKHQ9PmUudHlwZT09PXQpKSlyZXR1cm4hMX12YXJ7cGFyZW50SXNVc2VmdWxFbGVtZW50OmQsdGFyZ2V0RWxlbWVudExpc3Q6dn09VmkoaSxzKTtpZighZnVuY3Rpb24odCxpKXt2YXIgZT1udWxsPT1pP3ZvaWQgMDppLmVsZW1lbnRfYWxsb3dsaXN0O2lmKEMoZSkpcmV0dXJuITA7dmFyIHIscz1mdW5jdGlvbih0KXtpZihlLnNvbWUoKGk9PnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09aSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIHQpaWYocj1zKG4pKXJldHVybiByLnY7cmV0dXJuITF9KHYscikpcmV0dXJuITE7aWYoIUJpKHYsbnVsbD09KHU9cik/dm9pZCAwOnUuY3NzX3NlbGVjdG9yX2FsbG93bGlzdCkpcmV0dXJuITE7dmFyIGM9dC5nZXRDb21wdXRlZFN0eWxlKGkpO2lmKGMmJlwicG9pbnRlclwiPT09Yy5nZXRQcm9wZXJ0eVZhbHVlKFwiY3Vyc29yXCIpJiZcImNsaWNrXCI9PT1lLnR5cGUpcmV0dXJuITA7dmFyIGY9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGYpe2Nhc2VcImh0bWxcIjpyZXR1cm4hMTtjYXNlXCJmb3JtXCI6cmV0dXJuKG58fFtcInN1Ym1pdFwiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2Nhc2VcImlucHV0XCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwidGV4dGFyZWFcIjpyZXR1cm4obnx8W1wiY2hhbmdlXCIsXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2RlZmF1bHQ6cmV0dXJuIGQ/KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTA6KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTAmJihxaS5pbmRleE9mKGYpPi0xfHxcInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX19ZnVuY3Rpb24gS2kodCl7Zm9yKHZhciBpPXQ7aS5wYXJlbnROb2RlJiYhT2koaSxcImJvZHlcIik7aT1pLnBhcmVudE5vZGUpe3ZhciBlPUxpKGkpO2lmKHkoZSxcInBoLXNlbnNpdGl2ZVwiKXx8eShlLFwicGgtbm8tY2FwdHVyZVwiKSlyZXR1cm4hMX1pZih5KExpKHQpLFwicGgtaW5jbHVkZVwiKSlyZXR1cm4hMDt2YXIgcj10LnR5cGV8fFwiXCI7aWYoTShyKSlzd2l0Y2goci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoaWRkZW5cIjpjYXNlXCJwYXNzd29yZFwiOnJldHVybiExfXZhciBzPXQubmFtZXx8dC5pZHx8XCJcIjtpZihNKHMpKXtpZigvXmNjfGNhcmRudW18Y2NudW18Y3JlZGl0Y2FyZHxjc2N8Y3ZjfGN2dnxleHB8cGFzc3xwd2R8cm91dGluZ3xzZWNjb2RlfHNlY3VyaXR5Y29kZXxzZWN1cml0eW51bXxzb2NpYWxzZWN8c29jc2VjfHNzbi9pLnRlc3Qocy5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZyxcIlwiKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gWWkodCl7cmV0dXJuISEoT2kodCxcImlucHV0XCIpJiYhW1wiYnV0dG9uXCIsXCJjaGVja2JveFwiLFwic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyh0LnR5cGUpfHxPaSh0LFwic2VsZWN0XCIpfHxPaSh0LFwidGV4dGFyZWFcIil8fFwidHJ1ZVwiPT09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfXZhciBYaT1cIig0WzAtOV17MTJ9KD86WzAtOV17M30pPyl8KDVbMS01XVswLTldezE0fSl8KDYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSl8KDNbNDddWzAtOV17MTN9KXwoMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9KXwoKD86MjEzMXwxODAwfDM1WzAtOV17M30pWzAtOV17MTF9KVwiLFFpPW5ldyBSZWdFeHAoXCJeKD86XCIrWGkrXCIpJFwiKSxaaT1uZXcgUmVnRXhwKFhpKSx0ZT1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixpZT1uZXcgUmVnRXhwKFwiXihcIit0ZStcIikkXCIpLGVlPW5ldyBSZWdFeHAoXCIoXCIrdGUrXCIpXCIpO2Z1bmN0aW9uIHJlKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITApLEEodCkpcmV0dXJuITE7aWYoTSh0KSl7aWYodD1iKHQpLChpP1FpOlppKS50ZXN0KCh0fHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKChpP2llOmVlKS50ZXN0KHQpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHNlKHQpe3ZhciBpPVVpKHQpO3JldHVybiByZShpPShpK1wiIFwiK25lKHQpKS50cmltKCkpP2k6XCJcIn1mdW5jdGlvbiBuZSh0KXt2YXIgaT1cIlwiO3JldHVybiB0JiZ0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJkN0KHQuY2hpbGROb2RlcywoZnVuY3Rpb24odCl7dmFyIGU7aWYodCYmXCJzcGFuXCI9PT0obnVsbD09KGU9dC50YWdOYW1lKT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKSl0cnl7dmFyIHI9VWkodCk7aT0oaStcIiBcIityKS50cmltKCksdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiYoaT0oaStcIiBcIituZSh0KSkudHJpbSgpKX1jYXRjaCh0KXt4dC5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIix0KX19KSksaX1mdW5jdGlvbiBvZSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5tYXAoKHQ9Pnt2YXIgaSxlLHI9XCJcIjtpZih0LnRhZ19uYW1lJiYocis9dC50YWdfbmFtZSksdC5hdHRyX2NsYXNzKWZvcih2YXIgcyBvZih0LmF0dHJfY2xhc3Muc29ydCgpLHQuYXR0cl9jbGFzcykpcis9XCIuXCIrcy5yZXBsYWNlKC9cIi9nLFwiXCIpO3ZhciBuPWcoe30sdC50ZXh0P3t0ZXh0OnQudGV4dH06e30se1wibnRoLWNoaWxkXCI6bnVsbCE9PShpPXQubnRoX2NoaWxkKSYmdm9pZCAwIT09aT9pOjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oZT10Lm50aF9vZl90eXBlKSYmdm9pZCAwIT09ZT9lOjB9LHQuaHJlZj97aHJlZjp0LmhyZWZ9Ont9LHQuYXR0cl9pZD97YXR0cl9pZDp0LmF0dHJfaWR9Ont9LHQuYXR0cmlidXRlcyksbz17fTtyZXR1cm4gRnQobikuc29ydCgoKHQsaSk9Pnt2YXJbZV09dCxbcl09aTtyZXR1cm4gZS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKHQ9Pnt2YXJbaSxlXT10O3JldHVybiBvW2FlKGkudG9TdHJpbmcoKSldPWFlKGUudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9RnQobykubWFwKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gaSsnPVwiJytlKydcIid9KSkuam9pbihcIlwiKX0pKTtyZXR1cm4gaS5qb2luKFwiO1wiKX0oZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKCh0PT57dmFyIGksZSxyPXt0ZXh0Om51bGw9PShpPXQuJGVsX3RleHQpP3ZvaWQgMDppLnNsaWNlKDAsNDAwKSx0YWdfbmFtZTp0LnRhZ19uYW1lLGhyZWY6bnVsbD09KGU9dC5hdHRyX19ocmVmKT92b2lkIDA6ZS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6bGUodCksYXR0cl9pZDp0LmF0dHJfX2lkLG50aF9jaGlsZDp0Lm50aF9jaGlsZCxudGhfb2ZfdHlwZTp0Lm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBGdCh0KS5maWx0ZXIoKHQ9Pnt2YXJbaV09dDtyZXR1cm4gMD09PWkuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gci5hdHRyaWJ1dGVzW2ldPWV9KSkscn0pKX0odCkpfWZ1bmN0aW9uIGFlKHQpe3JldHVybiB0LnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiBsZSh0KXt2YXIgaT10LmF0dHJfX2NsYXNzO3JldHVybiBpP1AoaSk/aTpEaShpKTp2b2lkIDB9Y2xhc3MgdWV7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayh0LGksZSl7dmFyIHI9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHImJk1hdGguYWJzKHQtci54KStNYXRoLmFicyhpLXIueSk8MzAmJmUtci50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OnQseTppLHRpbWVzdGFtcDplfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDp0LHk6aSx0aW1lc3RhbXA6ZX1dO3JldHVybiExfX12YXIgaGU9XCIkY29weV9hdXRvY2FwdHVyZVwiLGRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LkdaaXBKUz1cImd6aXAtanNcIix0LkJhc2U2ND1cImJhc2U2NFwiLHR9KHt9KSx2ZT1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl0sY2U9W1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0sZmU9dD0+e3ZhciBpPW51bGw9PW8/dm9pZCAwOm8uY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIEMoaSk/bnVsbDooaS5ocmVmPXQsaSl9LHBlPWZ1bmN0aW9uKHQsaSl7dmFyIGUscjt2b2lkIDA9PT1pJiYoaT1cIiZcIik7dmFyIHM9W107cmV0dXJuIEN0KHQsKGZ1bmN0aW9uKHQsaSl7Qyh0KXx8QyhpKXx8XCJ1bmRlZmluZWRcIj09PWl8fChlPWVuY29kZVVSSUNvbXBvbmVudCgodD0+dCBpbnN0YW5jZW9mIEZpbGUpKHQpP3QubmFtZTp0LnRvU3RyaW5nKCkpLHI9ZW5jb2RlVVJJQ29tcG9uZW50KGkpLHNbcy5sZW5ndGhdPXIrXCI9XCIrZSl9KSkscy5qb2luKGkpfSxnZT1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZSxyPSgodC5zcGxpdChcIiNcIilbMF18fFwiXCIpLnNwbGl0KC9cXD8oLiopLylbMV18fFwiXCIpLnJlcGxhY2UoL15cXD8rL2csXCJcIikuc3BsaXQoXCImXCIpLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXS5zcGxpdChcIj1cIik7aWYoblswXT09PWkpe2U9bjticmVha319aWYoIVAoZSl8fGUubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1lWzFdO3RyeXtvPWRlY29kZVVSSUNvbXBvbmVudChvKX1jYXRjaCh0KXt4dC5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0sX2U9ZnVuY3Rpb24odCxpLGUpe2lmKCF0fHwhaXx8IWkubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgcj10LnNwbGl0KFwiI1wiKSxzPXJbMF18fFwiXCIsbj1yWzFdLG89cy5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSx1PShhfHxcIlwiKS5zcGxpdChcIiZcIiksaD1bXSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciB2PXVbZF0uc3BsaXQoXCI9XCIpO1AodikmJihpLmluY2x1ZGVzKHZbMF0pP2gucHVzaCh2WzBdK1wiPVwiK2UpOmgucHVzaCh1W2RdKSl9dmFyIGM9bDtyZXR1cm4gbnVsbCE9YSYmKGMrPVwiP1wiK2guam9pbihcIiZcIikpLG51bGwhPW4mJihjKz1cIiNcIituKSxjfSxtZT1mdW5jdGlvbih0LGkpe3ZhciBlPXQubWF0Y2gobmV3IFJlZ0V4cChpK1wiPShbXiZdKilcIikpO3JldHVybiBlP2VbMV06bnVsbH0seWU9RXQoXCJbQXV0b0NhcHR1cmVdXCIpO2Z1bmN0aW9uIGJlKHQsaSl7cmV0dXJuIGkubGVuZ3RoPnQ/aS5zbGljZSgwLHQpK1wiLi4uXCI6aX1mdW5jdGlvbiB3ZSh0KXtpZih0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpcmV0dXJuIHQucHJldmlvdXNFbGVtZW50U2libGluZzt2YXIgaT10O2Rve2k9aS5wcmV2aW91c1NpYmxpbmd9d2hpbGUoaSYmIU1pKGkpKTtyZXR1cm4gaX1mdW5jdGlvbiBTZSh0LGksZSxyKXt2YXIgcz10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxuPXt0YWdfbmFtZTpzfTtxaS5pbmRleE9mKHMpPi0xJiYhZSYmKFwiYVwiPT09cy50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09cy50b0xvd2VyQ2FzZSgpP24uJGVsX3RleHQ9YmUoMTAyNCxzZSh0KSk6bi4kZWxfdGV4dD1iZSgxMDI0LFVpKHQpKSk7dmFyIG89TGkodCk7by5sZW5ndGg+MCYmKG4uY2xhc3Nlcz1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXR9KSkpLEN0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24oZSl7dmFyIHM7aWYoKCFZaSh0KXx8LTEhPT1bXCJuYW1lXCIsXCJpZFwiLFwiY2xhc3NcIixcImFyaWEtbGFiZWxcIl0uaW5kZXhPZihlLm5hbWUpKSYmKChudWxsPT1yfHwhci5pbmNsdWRlcyhlLm5hbWUpKSYmIWkmJnJlKGUudmFsdWUpJiYocz1lLm5hbWUsIU0ocyl8fFwiX25nY29udGVudFwiIT09cy5zdWJzdHJpbmcoMCwxMCkmJlwiX25naG9zdFwiIT09cy5zdWJzdHJpbmcoMCw3KSkpKXt2YXIgbz1lLnZhbHVlO1wiY2xhc3NcIj09PWUubmFtZSYmKG89RGkobykuam9pbihcIiBcIikpLG5bXCJhdHRyX19cIitlLm5hbWVdPWJlKDEwMjQsbyl9fSkpO2Zvcih2YXIgYT0xLGw9MSx1PXQ7dT13ZSh1KTspYSsrLHUudGFnTmFtZT09PXQudGFnTmFtZSYmbCsrO3JldHVybiBuLm50aF9jaGlsZD1hLG4ubnRoX29mX3R5cGU9bCxufWZ1bmN0aW9uIGtlKGksZSl7Zm9yKHZhciByLHMse2U6bixtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6byxtYXNrQWxsVGV4dDphLGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OmwsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnV9PWUsaD1baV0sZD1pO2QucGFyZW50Tm9kZSYmIU9pKGQsXCJib2R5XCIpOylBaShkLnBhcmVudE5vZGUpPyhoLnB1c2goZC5wYXJlbnROb2RlLmhvc3QpLGQ9ZC5wYXJlbnROb2RlLmhvc3QpOihoLnB1c2goZC5wYXJlbnROb2RlKSxkPWQucGFyZW50Tm9kZSk7dmFyIHYsYz1bXSxmPXt9LHA9ITEsZz0hMTtpZihDdChoLCh0PT57dmFyIGk9S2kodCk7XCJhXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHA9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLHA9aSYmcCYmcmUocCkmJnApLHkoTGkodCksXCJwaC1uby1jYXB0dXJlXCIpJiYoZz0hMCksYy5wdXNoKFNlKHQsbyxhLGwpKTt2YXIgZT1mdW5jdGlvbih0KXtpZighS2kodCkpcmV0dXJue307dmFyIGk9e307cmV0dXJuIEN0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24odCl7aWYodC5uYW1lJiYwPT09dC5uYW1lLmluZGV4T2YoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlXCIpKXt2YXIgZT10Lm5hbWUucmVwbGFjZShcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGUtXCIsXCJcIikscj10LnZhbHVlO2UmJnImJnJlKHIpJiYoaVtlXT1yKX19KSksaX0odCk7TXQoZixlKX0pKSxnKXJldHVybntwcm9wczp7fSxleHBsaWNpdE5vQ2FwdHVyZTpnfTtpZihhfHwoXCJhXCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpP2NbMF0uJGVsX3RleHQ9c2UoaSk6Y1swXS4kZWxfdGV4dD1VaShpKSkscCl7dmFyIF8sbTtjWzBdLmF0dHJfX2hyZWY9cDt2YXIgYj1udWxsPT0oXz1mZShwKSk/dm9pZCAwOl8uaG9zdCx3PW51bGw9PXR8fG51bGw9PShtPXQubG9jYXRpb24pP3ZvaWQgMDptLmhvc3Q7YiYmdyYmYiE9PXcmJih2PXApfXJldHVybntwcm9wczpNdCh7JGV2ZW50X3R5cGU6bi50eXBlLCRjZV92ZXJzaW9uOjF9LHU/e306eyRlbGVtZW50czpjfSx7JGVsZW1lbnRzX2NoYWluOm9lKGMpfSxudWxsIT0ocj1jWzBdKSYmci4kZWxfdGV4dD97JGVsX3RleHQ6bnVsbD09KHM9Y1swXSk/dm9pZCAwOnMuJGVsX3RleHR9Ont9LHYmJlwiY2xpY2tcIj09PW4udHlwZT97JGV4dGVybmFsX2NsaWNrX3VybDp2fTp7fSxmKX19Y2xhc3MgJGV7Y29uc3RydWN0b3IodCl7dGhpcy5DPSExLHRoaXMuTT1udWxsLHRoaXMucmFnZWNsaWNrcz1uZXcgdWUsdGhpcy5PPSExLHRoaXMuaW5zdGFuY2U9dCx0aGlzLkY9bnVsbH1nZXQgQSgpe3ZhciB0LGksZT1JKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gZS51cmxfYWxsb3dsaXN0PW51bGw9PSh0PWUudXJsX2FsbG93bGlzdCk/dm9pZCAwOnQubWFwKCh0PT5uZXcgUmVnRXhwKHQpKSksZS51cmxfaWdub3JlbGlzdD1udWxsPT0oaT1lLnVybF9pZ25vcmVsaXN0KT92b2lkIDA6aS5tYXAoKHQ9Pm5ldyBSZWdFeHAodCkpKSxlfUQoKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZvKXt2YXIgaT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuaihpKX1jYXRjaCh0KXt5ZS5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsdCl9fTtpZihxdChvLFwic3VibWl0XCIsaSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJjaGFuZ2VcIixpLHtjYXB0dXJlOiEwfSkscXQobyxcImNsaWNrXCIsaSx7Y2FwdHVyZTohMH0pLHRoaXMuQS5jYXB0dXJlX2NvcGllZF90ZXh0KXt2YXIgZT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCksdGhpcy5qKGksaGUpfTtxdChvLFwiY29weVwiLGUse2NhcHR1cmU6ITB9KSxxdChvLFwiY3V0XCIsZSx7Y2FwdHVyZTohMH0pfX19ZWxzZSB5ZS5pbmZvKFwiRGlzYWJsaW5nIEF1dG9tYXRpYyBFdmVudCBDb2xsZWN0aW9uIGJlY2F1c2UgdGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWRcIil9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuQyYmKHRoaXMuRCgpLHRoaXMuQz0hMCl9b25SZW1vdGVDb25maWcodCl7dC5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLk89dC5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tHdF06ISF0LmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLk09ISF0LmF1dG9jYXB0dXJlX29wdF9vdXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfXNldEVsZW1lbnRTZWxlY3RvcnModCl7dGhpcy5GPXR9Z2V0RWxlbWVudFNlbGVjdG9ycyh0KXt2YXIgaSxlPVtdO3JldHVybiBudWxsPT0oaT10aGlzLkYpfHxpLmZvckVhY2goKGk9Pnt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoaSk7bnVsbD09cnx8ci5mb3JFYWNoKChyPT57dD09PXImJmUucHVzaChpKX0pKX0pKSxlfWdldCBpc0VuYWJsZWQoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQucHJvcHNbR3RdLHI9dGhpcy5NO2lmKEYocikmJiFqKGUpJiYhdGhpcy5pbnN0YW5jZS5MKCkpcmV0dXJuITE7dmFyIHM9bnVsbCE9PShpPXRoaXMuTSkmJnZvaWQgMCE9PWk/aTohIWU7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSYmIXN9aihpLGUpe2lmKHZvaWQgMD09PWUmJihlPVwiJGF1dG9jYXB0dXJlXCIpLHRoaXMuaXNFbmFibGVkKXt2YXIgcixzPXppKGkpO2lmKEZpKHMpJiYocz1zLnBhcmVudE5vZGV8fG51bGwpLFwiJGF1dG9jYXB0dXJlXCI9PT1lJiZcImNsaWNrXCI9PT1pLnR5cGUmJmkgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KXRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljayYmbnVsbCE9KHI9dGhpcy5yYWdlY2xpY2tzKSYmci5pc1JhZ2VDbGljayhpLmNsaWVudFgsaS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmZnVuY3Rpb24oaSxlKXtpZighdHx8R2koaSkpcmV0dXJuITE7dmFyIHIscztpZighMT09PShyPWooZSk/ISFlJiZXaTpudWxsIT09KHM9bnVsbD09ZT92b2lkIDA6ZS5jc3Nfc2VsZWN0b3JfaWdub3JlbGlzdCkmJnZvaWQgMCE9PXM/czpXaSkpcmV0dXJuITE7dmFye3RhcmdldEVsZW1lbnRMaXN0Om59PVZpKGksITEpO3JldHVybiFCaShuLHIpfShzLHRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljaykmJnRoaXMuaihpLFwiJHJhZ2VjbGlja1wiKTt2YXIgbj1lPT09aGU7aWYocyYmSmkocyxpLHRoaXMuQSxuLG4/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PWtlKHMse2U6aSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5BLmVsZW1lbnRfYXR0cmlidXRlX2lnbm9yZWxpc3QsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnRoaXMuT30pO2lmKGEpcmV0dXJuITE7dmFyIGw9dGhpcy5nZXRFbGVtZW50U2VsZWN0b3JzKHMpO2lmKGwmJmwubGVuZ3RoPjAmJihvLiRlbGVtZW50X3NlbGVjdG9ycz1sKSxlPT09aGUpe3ZhciB1LGg9TmkobnVsbD09dHx8bnVsbD09KHU9dC5nZXRTZWxlY3Rpb24oKSk/dm9pZCAwOnUudG9TdHJpbmcoKSksZD1pLnR5cGV8fFwiY2xpcGJvYXJkXCI7aWYoIWgpcmV0dXJuITE7by4kc2VsZWN0ZWRfY29udGVudD1oLG8uJGNvcHlfdHlwZT1kfXJldHVybiB0aGlzLmluc3RhbmNlLmNhcHR1cmUoZSxvKSwhMH19fWlzQnJvd3NlclN1cHBvcnRlZCgpe3JldHVybiBSKG51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbCl9fU1hdGgudHJ1bmN8fChNYXRoLnRydW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9KSxOdW1iZXIuaXNJbnRlZ2VyfHwoTnVtYmVyLmlzSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gRCh0KSYmaXNGaW5pdGUodCkmJk1hdGguZmxvb3IodCk9PT10fSk7dmFyIHhlPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO2NsYXNzIEVle2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMuYnl0ZXM9dCwxNiE9PXQubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgMTI4LWJpdCBsZW5ndGhcIil9c3RhdGljIGZyb21GaWVsZHNWNyh0LGksZSxyKXtpZighTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcihyKXx8dDwwfHxpPDB8fGU8MHx8cjwwfHx0PjB4ZmZmZmZmZmZmZmZmfHxpPjQwOTV8fGU+MTA3Mzc0MTgyM3x8cj40Mjk0OTY3Mjk1KXRocm93IG5ldyBSYW5nZUVycm9yKFwiaW52YWxpZCBmaWVsZCB2YWx1ZVwiKTt2YXIgcz1uZXcgVWludDhBcnJheSgxNik7cmV0dXJuIHNbMF09dC9NYXRoLnBvdygyLDQwKSxzWzFdPXQvTWF0aC5wb3coMiwzMiksc1syXT10L01hdGgucG93KDIsMjQpLHNbM109dC9NYXRoLnBvdygyLDE2KSxzWzRdPXQvTWF0aC5wb3coMiw4KSxzWzVdPXQsc1s2XT0xMTJ8aT4+Pjgsc1s3XT1pLHNbOF09MTI4fGU+Pj4yNCxzWzldPWU+Pj4xNixzWzEwXT1lPj4+OCxzWzExXT1lLHNbMTJdPXI+Pj4yNCxzWzEzXT1yPj4+MTYsc1sxNF09cj4+Pjgsc1sxNV09cixuZXcgRWUocyl9dG9TdHJpbmcoKXtmb3IodmFyIHQ9XCJcIixpPTA7aTx0aGlzLmJ5dGVzLmxlbmd0aDtpKyspdD10K3hlLmNoYXJBdCh0aGlzLmJ5dGVzW2ldPj4+NCkreGUuY2hhckF0KDE1JnRoaXMuYnl0ZXNbaV0pLDMhPT1pJiY1IT09aSYmNyE9PWkmJjkhPT1pfHwodCs9XCItXCIpO2lmKDM2IT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVUlEdjcgd2FzIGdlbmVyYXRlZFwiKTtyZXR1cm4gdH1jbG9uZSgpe3JldHVybiBuZXcgRWUodGhpcy5ieXRlcy5zbGljZSgwKSl9ZXF1YWxzKHQpe3JldHVybiAwPT09dGhpcy5jb21wYXJlVG8odCl9Y29tcGFyZVRvKHQpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt2YXIgZT10aGlzLmJ5dGVzW2ldLXQuYnl0ZXNbaV07aWYoMCE9PWUpcmV0dXJuIE1hdGguc2lnbihlKX1yZXR1cm4gMH19Y2xhc3MgUGV7Y29uc3RydWN0b3IoKXt0aGlzLk49MCx0aGlzLlU9MCx0aGlzLnE9bmV3IFRlfWdlbmVyYXRlKCl7dmFyIHQ9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihDKHQpKXt0aGlzLk49MDt2YXIgaT10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKEMoaSkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGdlbmVyYXRlIFVVSUQgYWZ0ZXIgdGltZXN0YW1wIHJlc2V0XCIpO3JldHVybiBpfXJldHVybiB0fWdlbmVyYXRlT3JBYm9ydCgpe3ZhciB0PURhdGUubm93KCk7aWYodD50aGlzLk4pdGhpcy5OPXQsdGhpcy5CKCk7ZWxzZXtpZighKHQrMWU0PnRoaXMuTikpcmV0dXJuO3RoaXMuVSsrLHRoaXMuVT40Mzk4MDQ2NTExMTAzJiYodGhpcy5OKyssdGhpcy5CKCkpfXJldHVybiBFZS5mcm9tRmllbGRzVjcodGhpcy5OLE1hdGgudHJ1bmModGhpcy5VL01hdGgucG93KDIsMzApKSx0aGlzLlUmTWF0aC5wb3coMiwzMCktMSx0aGlzLnEubmV4dFVpbnQzMigpKX1CKCl7dGhpcy5VPTEwMjQqdGhpcy5xLm5leHRVaW50MzIoKSsoMTAyMyZ0aGlzLnEubmV4dFVpbnQzMigpKX19dmFyIFJlLEllPXQ9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiB0fTt0JiYhQyh0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihJZT10PT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpKTtjbGFzcyBUZXtjb25zdHJ1Y3Rvcigpe3RoaXMuSD1uZXcgVWludDMyQXJyYXkoOCksdGhpcy5XPTEvMH1uZXh0VWludDMyKCl7cmV0dXJuIHRoaXMuVz49dGhpcy5ILmxlbmd0aCYmKEllKHRoaXMuSCksdGhpcy5XPTApLHRoaXMuSFt0aGlzLlcrK119fXZhciBDZT0oKT0+TWUoKS50b1N0cmluZygpLE1lPSgpPT4oUmV8fChSZT1uZXcgUGUpKS5nZW5lcmF0ZSgpLE9lPVwiXCI7dmFyIEZlPS9bYS16MC05XVthLXowLTktXStcXC5bYS16XXsyLH0kL2k7ZnVuY3Rpb24gQWUodCxpKXtpZihpKXt2YXIgZT1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PWkmJihpPW8pLE9lKXJldHVybiBPZTtpZighaSlyZXR1cm5cIlwiO2lmKFtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLmluY2x1ZGVzKHQpKXJldHVyblwiXCI7Zm9yKHZhciBlPXQuc3BsaXQoXCIuXCIpLHI9TWF0aC5taW4oZS5sZW5ndGgsOCkscz1cImRtbl9jaGtfXCIrQ2UoKTshT2UmJnItLTspe3ZhciBuPWUuc2xpY2Uocikuam9pbihcIi5cIiksYT1zK1wiPTE7ZG9tYWluPS5cIituK1wiO3BhdGg9L1wiO2kuY29va2llPWErXCI7bWF4LWFnZT0zXCIsaS5jb29raWUuaW5jbHVkZXMocykmJihpLmNvb2tpZT1hK1wiO21heC1hZ2U9MFwiLE9lPW4pfXJldHVybiBPZX0odCk7aWYoIWUpe3ZhciByPSh0PT57dmFyIGk9dC5tYXRjaChGZSk7cmV0dXJuIGk/aVswXTpcIlwifSkodCk7ciE9PWUmJnh0LmluZm8oXCJXYXJuaW5nOiBjb29raWUgc3ViZG9tYWluIGRpc2NvdmVyeSBtaXNtYXRjaFwiLHIsZSksZT1yfXJldHVybiBlP1wiOyBkb21haW49LlwiK2U6XCJcIn1yZXR1cm5cIlwifXZhciBEZT17RzooKT0+ISFvLFY6ZnVuY3Rpb24odCl7eHQuZXJyb3IoXCJjb29raWVTdG9yZSBlcnJvcjogXCIrdCl9LEo6ZnVuY3Rpb24odCl7aWYobyl7dHJ5e2Zvcih2YXIgaT10K1wiPVwiLGU9by5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigodD0+dC5sZW5ndGgpKSxyPTA7cjxlLmxlbmd0aDtyKyspe2Zvcih2YXIgcz1lW3JdO1wiIFwiPT1zLmNoYXJBdCgwKTspcz1zLnN1YnN0cmluZygxLHMubGVuZ3RoKTtpZigwPT09cy5pbmRleE9mKGkpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5zdWJzdHJpbmcoaS5sZW5ndGgscy5sZW5ndGgpKX19Y2F0Y2godCl7fXJldHVybiBudWxsfX0sSzpmdW5jdGlvbih0KXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKERlLkoodCkpfHx7fX1jYXRjaCh0KXt9cmV0dXJuIGl9LFk6ZnVuY3Rpb24odCxpLGUscixzKXtpZihvKXRyeXt2YXIgbj1cIlwiLGE9XCJcIixsPUFlKG8ubG9jYXRpb24uaG9zdG5hbWUscik7aWYoZSl7dmFyIHU9bmV3IERhdGU7dS5zZXRUaW1lKHUuZ2V0VGltZSgpKzI0KmUqNjAqNjAqMWUzKSxuPVwiOyBleHBpcmVzPVwiK3UudG9VVENTdHJpbmcoKX1zJiYoYT1cIjsgc2VjdXJlXCIpO3ZhciBoPXQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKStuK1wiOyBTYW1lU2l0ZT1MYXg7IHBhdGg9L1wiK2wrYTtyZXR1cm4gaC5sZW5ndGg+MzY4Ni40JiZ4dC53YXJuKFwiY29va2llU3RvcmUgd2FybmluZzogbGFyZ2UgY29va2llLCBsZW49XCIraC5sZW5ndGgpLG8uY29va2llPWgsaH1jYXRjaCh0KXtyZXR1cm59fSxYOmZ1bmN0aW9uKHQsaSl7aWYobnVsbCE9byYmby5jb29raWUpdHJ5e0RlLlkodCxcIlwiLC0xLGkpfWNhdGNoKHQpe3JldHVybn19fSxqZT1udWxsLExlPXtHOmZ1bmN0aW9uKCl7aWYoIUYoamUpKXJldHVybiBqZTt2YXIgaT0hMDtpZihDKHQpKWk9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX21wbHNzdXBwb3J0X19cIjtMZS5ZKGUsXCJ4eXpcIiksJ1wieHl6XCInIT09TGUuSihlKSYmKGk9ITEpLExlLlgoZSl9Y2F0Y2godCl7aT0hMX1yZXR1cm4gaXx8eHQuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksamU9aSxpfSxWOmZ1bmN0aW9uKHQpe3h0LmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIit0KX0sSjpmdW5jdGlvbihpKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7TGUuVih0KX1yZXR1cm4gbnVsbH0sSzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoTGUuSih0KSl8fHt9fWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sWTpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKHQpe0xlLlYodCl9fSxYOmZ1bmN0aW9uKGkpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe0xlLlYodCl9fX0sTmU9W1wiZGlzdGluY3RfaWRcIix1aSxoaSxQaSxFaV0sVWU9Zyh7fSxMZSx7SzpmdW5jdGlvbih0KXt0cnl7dmFyIGk9e307dHJ5e2k9RGUuSyh0KXx8e319Y2F0Y2godCl7fXZhciBlPU10KGksSlNPTi5wYXJzZShMZS5KKHQpfHxcInt9XCIpKTtyZXR1cm4gTGUuWSh0LGUpLGV9Y2F0Y2godCl7fXJldHVybiBudWxsfSxZOmZ1bmN0aW9uKHQsaSxlLHIscyxuKXt0cnl7TGUuWSh0LGksdm9pZCAwLHZvaWQgMCxuKTt2YXIgbz17fTtOZS5mb3JFYWNoKCh0PT57aVt0XSYmKG9bdF09aVt0XSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiZEZS5ZKHQsbyxlLHIscyxuKX1jYXRjaCh0KXtMZS5WKHQpfX0sWDpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpLERlLlgoaSxlKX1jYXRjaCh0KXtMZS5WKHQpfX19KSx6ZT17fSxxZT17RzpmdW5jdGlvbigpe3JldHVybiEwfSxWOmZ1bmN0aW9uKHQpe3h0LmVycm9yKFwibWVtb3J5U3RvcmFnZSBlcnJvcjogXCIrdCl9LEo6ZnVuY3Rpb24odCl7cmV0dXJuIHplW3RdfHxudWxsfSxLOmZ1bmN0aW9uKHQpe3JldHVybiB6ZVt0XXx8bnVsbH0sWTpmdW5jdGlvbih0LGkpe3plW3RdPWl9LFg6ZnVuY3Rpb24odCl7ZGVsZXRlIHplW3RdfX0sQmU9bnVsbCxIZT17RzpmdW5jdGlvbigpe2lmKCFGKEJlKSlyZXR1cm4gQmU7aWYoQmU9ITAsQyh0KSlCZT0hMTtlbHNlIHRyeXt2YXIgaT1cIl9fc3VwcG9ydF9fXCI7SGUuWShpLFwieHl6XCIpLCdcInh5elwiJyE9PUhlLkooaSkmJihCZT0hMSksSGUuWChpKX1jYXRjaCh0KXtCZT0hMX1yZXR1cm4gQmV9LFY6ZnVuY3Rpb24odCl7eHQuZXJyb3IoXCJzZXNzaW9uU3RvcmFnZSBlcnJvcjogXCIsdCl9LEo6ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7SGUuVih0KX1yZXR1cm4gbnVsbH0sSzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoSGUuSih0KSl8fG51bGx9Y2F0Y2godCl7fXJldHVybiBudWxsfSxZOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShpLEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaCh0KXtIZS5WKHQpfX0sWDpmdW5jdGlvbihpKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe0hlLlYodCl9fX0sV2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5QRU5ESU5HPS0xXT1cIlBFTkRJTkdcIix0W3QuREVOSUVEPTBdPVwiREVOSUVEXCIsdFt0LkdSQU5URUQ9MV09XCJHUkFOVEVEXCIsdH0oe30pO2NsYXNzIEdle2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9Z2V0IEEoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2UuY29uZmlnfWdldCBjb25zZW50KCl7cmV0dXJuIHRoaXMuWigpP1dlLkRFTklFRDp0aGlzLnR0fWlzT3B0ZWRPdXQoKXtyZXR1cm5cImFsd2F5c1wiPT09dGhpcy5BLmNvb2tpZWxlc3NfbW9kZXx8KHRoaXMuY29uc2VudD09PVdlLkRFTklFRHx8dGhpcy5jb25zZW50PT09V2UuUEVORElORyYmKHRoaXMuQS5vcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0fHxcIm9uX3JlamVjdFwiPT09dGhpcy5BLmNvb2tpZWxlc3NfbW9kZSkpfWlzT3B0ZWRJbigpe3JldHVybiF0aGlzLmlzT3B0ZWRPdXQoKX1pc0V4cGxpY2l0bHlPcHRlZE91dCgpe3JldHVybiB0aGlzLmNvbnNlbnQ9PT1XZS5ERU5JRUR9b3B0SW5PdXQodCl7dGhpcy5pdC5ZKHRoaXMuZXQsdD8xOjAsdGhpcy5BLmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuQS5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuQS5zZWN1cmVfY29va2llKX1yZXNldCgpe3RoaXMuaXQuWCh0aGlzLmV0LHRoaXMuQS5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgZXQoKXt2YXJ7dG9rZW46dCxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OmksY29uc2VudF9wZXJzaXN0ZW5jZV9uYW1lOmV9PXRoaXMuX2luc3RhbmNlLmNvbmZpZztyZXR1cm4gZXx8KGk/aSt0OlwiX19waF9vcHRfaW5fb3V0X1wiK3QpfWdldCB0dCgpe3ZhciB0PXRoaXMuaXQuSih0aGlzLmV0KTtyZXR1cm4gSCh0KT9XZS5HUkFOVEVEOnkoVyx0KT9XZS5ERU5JRUQ6V2UuUEVORElOR31nZXQgaXQoKXtpZighdGhpcy5ydCl7dmFyIHQ9dGhpcy5BLm9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU7dGhpcy5ydD1cImxvY2FsU3RvcmFnZVwiPT09dD9MZTpEZTt2YXIgaT1cImxvY2FsU3RvcmFnZVwiPT09dD9EZTpMZTtpLkoodGhpcy5ldCkmJih0aGlzLnJ0LkoodGhpcy5ldCl8fHRoaXMub3B0SW5PdXQoSChpLkoodGhpcy5ldCkpKSxpLlgodGhpcy5ldCx0aGlzLkEuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLnJ0fVooKXtyZXR1cm4hIXRoaXMuQS5yZXNwZWN0X2RudCYmISF6dChbbnVsbD09bj92b2lkIDA6bi5kb05vdFRyYWNrLG51bGw9PW4/dm9pZCAwOm4ubXNEb05vdFRyYWNrLHYuZG9Ob3RUcmFja10sKHQ9PkgodCkpKX19dmFyIFZlPUV0KFwiW0RlYWQgQ2xpY2tzXVwiKSxKZT0oKT0+ITAsS2U9dD0+e3ZhciBpLGU9IShudWxsPT0oaT10Lmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkuZ2V0X3Byb3BlcnR5KFF0KSkscj10Lmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzO3JldHVybiBqKHIpP3I6ZX07Y2xhc3MgWWV7Z2V0IGxhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUoKXtyZXR1cm4gdGhpcy5zdH1jb25zdHJ1Y3Rvcih0LGksZSl7dGhpcy5pbnN0YW5jZT10LHRoaXMuaXNFbmFibGVkPWksdGhpcy5vbkNhcHR1cmU9ZSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9b25SZW1vdGVDb25maWcodCl7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1F0XTpudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVEZWFkQ2xpY2tzfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQodGhpcykmJnRoaXMubnQoKCgpPT57dGhpcy5vdCgpfSkpfW50KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuaW5zdGFuY2UsXCJkZWFkLWNsaWNrcy1hdXRvY2FwdHVyZVwiLChpPT57aT9WZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpOnQoKX0pKX1vdCgpe3ZhciB0O2lmKG8pe2lmKCF0aGlzLnN0JiZudWxsIT0odD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnQuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSl7dmFyIGk9SSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzOnt9O2kuX19vbkNhcHR1cmU9dGhpcy5vbkNhcHR1cmUsdGhpcy5zdD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKHRoaXMuaW5zdGFuY2UsaSksdGhpcy5zdC5zdGFydChvKSxWZS5pbmZvKFwic3RhcnRpbmcuLi5cIil9fWVsc2UgVmUuZXJyb3IoXCJgZG9jdW1lbnRgIG5vdCBmb3VuZC4gQ2Fubm90IHN0YXJ0LlwiKX1zdG9wKCl7dGhpcy5zdCYmKHRoaXMuc3Quc3RvcCgpLHRoaXMuc3Q9dm9pZCAwLFZlLmluZm8oXCJzdG9wcGluZy4uLlwiKSl9fXZhciBYZT1FdChcIltFeGNlcHRpb25BdXRvY2FwdHVyZV1cIik7Y2xhc3MgUWV7Y29uc3RydWN0b3IoaSl7dmFyIGUscixzO3RoaXMubHQ9KCk9Pnt2YXIgaTtpZih0JiZ0aGlzLmlzRW5hYmxlZCYmbnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMpe3ZhciBlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcE9uRXJyb3Iscj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBVbmhhbmRsZWRSZWplY3Rpb24scz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBDb25zb2xlRXJyb3I7dHJ5eyF0aGlzLnV0JiZ0aGlzLkEuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzJiYodGhpcy51dD1lKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMuaHQmJnRoaXMuQS5jYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zJiYodGhpcy5odD1yKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMuZHQmJnRoaXMuQS5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzJiYodGhpcy5kdD1zKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSl9Y2F0Y2godCl7WGUuZXJyb3IoXCJmYWlsZWQgdG8gc3RhcnRcIix0KSx0aGlzLnZ0KCl9fX0sdGhpcy5faW5zdGFuY2U9aSx0aGlzLmN0PSEobnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhZS5wcm9wc1tKdF0pLHRoaXMuQT10aGlzLmZ0KCksdGhpcy5ndD1uZXcgVih7cmVmaWxsUmF0ZTpudWxsIT09KHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlKSYmdm9pZCAwIT09cj9yOjEsYnVja2V0U2l6ZTpudWxsIT09KHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJCdWNrZXRTaXplKSYmdm9pZCAwIT09cz9zOjEwLHJlZmlsbEludGVydmFsOjFlNCxQOlhlfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWZ0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZXhjZXB0aW9ucyxpPXtjYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnM6ITEsY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uczohMSxjYXB0dXJlX2NvbnNvbGVfZXJyb3JzOiExfTtyZXR1cm4gSSh0KT9pPWcoe30saSx0KTooQyh0KT90aGlzLmN0OnQpJiYoaT1nKHt9LGkse2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMCxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiEwfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLkEuY2FwdHVyZV9jb25zb2xlX2Vycm9yc3x8dGhpcy5BLmNhcHR1cmVfdW5oYW5kbGVkX2Vycm9yc3x8dGhpcy5BLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnN9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmKFhlLmluZm8oXCJlbmFibGVkXCIpLHRoaXMubnQodGhpcy5sdCkpfW50KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwiZXhjZXB0aW9uLWF1dG9jYXB0dXJlXCIsKGk9PntpZihpKXJldHVybiBYZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpO3QoKX0pKX12dCgpe3ZhciB0LGksZTtudWxsPT0odD10aGlzLnV0KXx8dC5jYWxsKHRoaXMpLHRoaXMudXQ9dm9pZCAwLG51bGw9PShpPXRoaXMuaHQpfHxpLmNhbGwodGhpcyksdGhpcy5odD12b2lkIDAsbnVsbD09KGU9dGhpcy5kdCl8fGUuY2FsbCh0aGlzKSx0aGlzLmR0PXZvaWQgMH1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT10LmF1dG9jYXB0dXJlRXhjZXB0aW9uczt0aGlzLmN0PSEhaXx8ITEsdGhpcy5BPXRoaXMuZnQoKSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tKdF06dGhpcy5jdH0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1jYXB0dXJlRXhjZXB0aW9uKHQpe3ZhciBpLGUscj1udWxsIT09KGk9bnVsbD09dHx8bnVsbD09KGU9dC4kZXhjZXB0aW9uX2xpc3QpfHxudWxsPT0oZT1lWzBdKT92b2lkIDA6ZS50eXBlKSYmdm9pZCAwIT09aT9pOlwiRXhjZXB0aW9uXCI7dGhpcy5ndC5jb25zdW1lUmF0ZUxpbWl0KHIpP1hlLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIG9mIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiLHtleGNlcHRpb246cn0pOnRoaXMuX2luc3RhbmNlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHQpfX1mdW5jdGlvbiBaZSh0LGksZSl7dHJ5e2lmKCEoaSBpbiB0KSlyZXR1cm4oKT0+e307dmFyIHI9dFtpXSxzPWUocik7cmV0dXJuIFIocykmJihzLnByb3RvdHlwZT1zLnByb3RvdHlwZXx8e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocyx7X19wb3N0aG9nX3dyYXBwZWRfXzp7ZW51bWVyYWJsZTohMSx2YWx1ZTohMH19KSksdFtpXT1zLCgpPT57dFtpXT1yfX1jYXRjaCh0KXtyZXR1cm4oKT0+e319fWNsYXNzIHRye2NvbnN0cnVjdG9yKGkpe3ZhciBlO3RoaXMuX2luc3RhbmNlPWksdGhpcy5fdD0obnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucGF0aG5hbWUpfHxcIlwifWdldCBpc0VuYWJsZWQoKXtyZXR1cm5cImhpc3RvcnlfY2hhbmdlXCI9PT10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlld31zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYoeHQuaW5mbyhcIkhpc3RvcnkgQVBJIG1vbml0b3JpbmcgZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5tb25pdG9ySGlzdG9yeUNoYW5nZXMoKSl9c3RvcCgpe3RoaXMueXQmJnRoaXMueXQoKSx0aGlzLnl0PXZvaWQgMCx4dC5pbmZvKFwiSGlzdG9yeSBBUEkgbW9uaXRvcmluZyBzdG9wcGVkXCIpfW1vbml0b3JIaXN0b3J5Q2hhbmdlcygpe3ZhciBpLGU7aWYodCYmdC5oaXN0b3J5KXt2YXIgcj10aGlzO251bGwhPShpPXQuaGlzdG9yeS5wdXNoU3RhdGUpJiZpLl9fcG9zdGhvZ193cmFwcGVkX198fFplKHQuaGlzdG9yeSxcInB1c2hTdGF0ZVwiLCh0PT5mdW5jdGlvbihpLGUscyl7dC5jYWxsKHRoaXMsaSxlLHMpLHIuYnQoXCJwdXNoU3RhdGVcIil9KSksbnVsbCE9KGU9dC5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkmJmUuX19wb3N0aG9nX3dyYXBwZWRfX3x8WmUodC5oaXN0b3J5LFwicmVwbGFjZVN0YXRlXCIsKHQ9PmZ1bmN0aW9uKGksZSxzKXt0LmNhbGwodGhpcyxpLGUscyksci5idChcInJlcGxhY2VTdGF0ZVwiKX0pKSx0aGlzLnd0KCl9fWJ0KGkpe3RyeXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnBhdGhuYW1lO2lmKCFyKXJldHVybjtyIT09dGhpcy5fdCYmdGhpcy5pc0VuYWJsZWQmJnRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7bmF2aWdhdGlvbl90eXBlOml9KSx0aGlzLl90PXJ9Y2F0Y2godCl7eHQuZXJyb3IoXCJFcnJvciBjYXB0dXJpbmcgXCIraStcIiBwYWdldmlld1wiLHQpfX13dCgpe2lmKCF0aGlzLnl0KXt2YXIgaT0oKT0+e3RoaXMuYnQoXCJwb3BzdGF0ZVwiKX07cXQodCxcInBvcHN0YXRlXCIsaSksdGhpcy55dD0oKT0+e3QmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsaSl9fX19ZnVuY3Rpb24gaXIodCl7dmFyIGksZTtyZXR1cm4obnVsbD09KGk9SlNPTi5zdHJpbmdpZnkodCwoZT1bXSxmdW5jdGlvbih0LGkpe2lmKEkoaSkpe2Zvcig7ZS5sZW5ndGg+MCYmZVtlLmxlbmd0aC0xXSE9PXRoaXM7KWUucG9wKCk7cmV0dXJuIGUuaW5jbHVkZXMoaSk/XCJbQ2lyY3VsYXJdXCI6KGUucHVzaChpKSxpKX1yZXR1cm4gaX0pKSk/dm9pZCAwOmkubGVuZ3RoKXx8MH1mdW5jdGlvbiBlcih0LGkpe2lmKHZvaWQgMD09PWkmJihpPTY2MDYwMjguOCksdC5zaXplPj1pJiZ0LmRhdGEubGVuZ3RoPjEpe3ZhciBlPU1hdGguZmxvb3IodC5kYXRhLmxlbmd0aC8yKSxyPXQuZGF0YS5zbGljZSgwLGUpLHM9dC5kYXRhLnNsaWNlKGUpO3JldHVybltlcih7c2l6ZTppcihyKSxkYXRhOnIsc2Vzc2lvbklkOnQuc2Vzc2lvbklkLHdpbmRvd0lkOnQud2luZG93SWR9KSxlcih7c2l6ZTppcihzKSxkYXRhOnMsc2Vzc2lvbklkOnQuc2Vzc2lvbklkLHdpbmRvd0lkOnQud2luZG93SWR9KV0uZmxhdE1hcCgodD0+dCkpfXJldHVyblt0XX12YXIgcnI9KHQ9Pih0W3QuRG9tQ29udGVudExvYWRlZD0wXT1cIkRvbUNvbnRlbnRMb2FkZWRcIix0W3QuTG9hZD0xXT1cIkxvYWRcIix0W3QuRnVsbFNuYXBzaG90PTJdPVwiRnVsbFNuYXBzaG90XCIsdFt0LkluY3JlbWVudGFsU25hcHNob3Q9M109XCJJbmNyZW1lbnRhbFNuYXBzaG90XCIsdFt0Lk1ldGE9NF09XCJNZXRhXCIsdFt0LkN1c3RvbT01XT1cIkN1c3RvbVwiLHRbdC5QbHVnaW49Nl09XCJQbHVnaW5cIix0KSkocnJ8fHt9KSxzcj0odD0+KHRbdC5NdXRhdGlvbj0wXT1cIk11dGF0aW9uXCIsdFt0Lk1vdXNlTW92ZT0xXT1cIk1vdXNlTW92ZVwiLHRbdC5Nb3VzZUludGVyYWN0aW9uPTJdPVwiTW91c2VJbnRlcmFjdGlvblwiLHRbdC5TY3JvbGw9M109XCJTY3JvbGxcIix0W3QuVmlld3BvcnRSZXNpemU9NF09XCJWaWV3cG9ydFJlc2l6ZVwiLHRbdC5JbnB1dD01XT1cIklucHV0XCIsdFt0LlRvdWNoTW92ZT02XT1cIlRvdWNoTW92ZVwiLHRbdC5NZWRpYUludGVyYWN0aW9uPTddPVwiTWVkaWFJbnRlcmFjdGlvblwiLHRbdC5TdHlsZVNoZWV0UnVsZT04XT1cIlN0eWxlU2hlZXRSdWxlXCIsdFt0LkNhbnZhc011dGF0aW9uPTldPVwiQ2FudmFzTXV0YXRpb25cIix0W3QuRm9udD0xMF09XCJGb250XCIsdFt0LkxvZz0xMV09XCJMb2dcIix0W3QuRHJhZz0xMl09XCJEcmFnXCIsdFt0LlN0eWxlRGVjbGFyYXRpb249MTNdPVwiU3R5bGVEZWNsYXJhdGlvblwiLHRbdC5TZWxlY3Rpb249MTRdPVwiU2VsZWN0aW9uXCIsdFt0LkFkb3B0ZWRTdHlsZVNoZWV0PTE1XT1cIkFkb3B0ZWRTdHlsZVNoZWV0XCIsdFt0LkN1c3RvbUVsZW1lbnQ9MTZdPVwiQ3VzdG9tRWxlbWVudFwiLHQpKShzcnx8e30pLG5yPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsb3I9XCJyZWRhY3RlZFwiLGFyPXtpbml0aWF0b3JUeXBlczpbXCJhdWRpb1wiLFwiYmVhY29uXCIsXCJib2R5XCIsXCJjc3NcIixcImVhcmx5LWhpbnRcIixcImVtYmVkXCIsXCJmZXRjaFwiLFwiZnJhbWVcIixcImlmcmFtZVwiLFwiaWNvblwiLFwiaW1hZ2VcIixcImltZ1wiLFwiaW5wdXRcIixcImxpbmtcIixcIm5hdmlnYXRpb25cIixcIm9iamVjdFwiLFwicGluZ1wiLFwic2NyaXB0XCIsXCJ0cmFja1wiLFwidmlkZW9cIixcInhtbGh0dHByZXF1ZXN0XCJdLG1hc2tSZXF1ZXN0Rm46dD0+dCxyZWNvcmRIZWFkZXJzOiExLHJlY29yZEJvZHk6ITEscmVjb3JkSW5pdGlhbFJlcXVlc3RzOiExLHJlY29yZFBlcmZvcm1hbmNlOiExLHBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlOltcImZpcnN0LWlucHV0XCIsXCJuYXZpZ2F0aW9uXCIsXCJwYWludFwiLFwicmVzb3VyY2VcIl0scGF5bG9hZFNpemVMaW1pdEJ5dGVzOjFlNixwYXlsb2FkSG9zdERlbnlMaXN0OltcIi5sci1pbmdlc3QuaW9cIixcIi5pbmdlc3Quc2VudHJ5LmlvXCIsXCIuY2xhcml0eS5tc1wiLFwiYW5hbHl0aWNzLmdvb2dsZS5jb21cIixcImJhbS5uci1kYXRhLm5ldFwiXX0sbHI9W1wiYXV0aG9yaXphdGlvblwiLFwieC1mb3J3YXJkZWQtZm9yXCIsXCJhdXRob3JpemF0aW9uXCIsXCJjb29raWVcIixcInNldC1jb29raWVcIixcIngtYXBpLWtleVwiLFwieC1yZWFsLWlwXCIsXCJyZW1vdGUtYWRkclwiLFwiZm9yd2FyZGVkXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJ4LWNzcmYtdG9rZW5cIixcIngtY3NyZnRva2VuXCIsXCJ4LXhzcmYtdG9rZW5cIl0sdXI9W1wicGFzc3dvcmRcIixcInNlY3JldFwiLFwicGFzc3dkXCIsXCJhcGlfa2V5XCIsXCJhcGlrZXlcIixcImF1dGhcIixcImNyZWRlbnRpYWxzXCIsXCJteXNxbF9wd2RcIixcInByaXZhdGVrZXlcIixcInByaXZhdGVfa2V5XCIsXCJ0b2tlblwiXSxocj1bXCIvcy9cIixcIi9lL1wiLFwiL2kvXCJdO2Z1bmN0aW9uIGRyKHQsaSxlLHIpe2lmKEEodCkpcmV0dXJuIHQ7dmFyIHM9KG51bGw9PWk/dm9pZCAwOmlbXCJjb250ZW50LWxlbmd0aFwiXSl8fGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmxvYihbdF0pLnNpemV9KHQpO3JldHVybiBNKHMpJiYocz1wYXJzZUludChzKSkscz5lP25yK1wiIFwiK3IrXCIgYm9keSB0b28gbGFyZ2UgdG8gcmVjb3JkIChcIitzK1wiIGJ5dGVzKVwiOnR9ZnVuY3Rpb24gdnIodCxpKXtpZihBKHQpKXJldHVybiB0O3ZhciBlPXQ7cmV0dXJuIHJlKGUsITEpfHwoZT1ucitcIiBcIitpK1wiIGJvZHkgXCIrb3IpLEN0KHVyLCh0PT57dmFyIHIscztudWxsIT0ocj1lKSYmci5sZW5ndGgmJi0xIT09KG51bGw9PShzPWUpP3ZvaWQgMDpzLmluZGV4T2YodCkpJiYoZT1ucitcIiBcIitpK1wiIGJvZHkgXCIrb3IrXCIgYXMgbWlnaHQgY29udGFpbjogXCIrdCl9KSksZX12YXIgY3I9KHQsaSk9Pnt2YXIgZSxyLHMsbj17cGF5bG9hZFNpemVMaW1pdEJ5dGVzOmFyLnBheWxvYWRTaXplTGltaXRCeXRlcyxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbLi4uYXIucGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmVdLHBheWxvYWRIb3N0RGVueUxpc3Q6Wy4uLmkucGF5bG9hZEhvc3REZW55TGlzdHx8W10sLi4uYXIucGF5bG9hZEhvc3REZW55TGlzdF19LG89ITEhPT10LnNlc3Npb25fcmVjb3JkaW5nLnJlY29yZEhlYWRlcnMmJmkucmVjb3JkSGVhZGVycyxhPSExIT09dC5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRCb2R5JiZpLnJlY29yZEJvZHksbD0hMSE9PXQuY2FwdHVyZV9wZXJmb3JtYW5jZSYmaS5yZWNvcmRQZXJmb3JtYW5jZSx1PShlPW4scz1NYXRoLm1pbigxZTYsbnVsbCE9PShyPWUucGF5bG9hZFNpemVMaW1pdEJ5dGVzKSYmdm9pZCAwIT09cj9yOjFlNiksdD0+KG51bGwhPXQmJnQucmVxdWVzdEJvZHkmJih0LnJlcXVlc3RCb2R5PWRyKHQucmVxdWVzdEJvZHksdC5yZXF1ZXN0SGVhZGVycyxzLFwiUmVxdWVzdFwiKSksbnVsbCE9dCYmdC5yZXNwb25zZUJvZHkmJih0LnJlc3BvbnNlQm9keT1kcih0LnJlc3BvbnNlQm9keSx0LnJlc3BvbnNlSGVhZGVycyxzLFwiUmVzcG9uc2VcIikpLHQpKSxoPWk9PntyZXR1cm4gdSgoKHQsaSk9Pnt2YXIgZSxyPWZlKHQubmFtZSkscz0wPT09aS5pbmRleE9mKFwiaHR0cFwiKT9udWxsPT0oZT1mZShpKSk/dm9pZCAwOmUucGF0aG5hbWU6aTtcIi9cIj09PXMmJihzPVwiXCIpO3ZhciBuPW51bGw9PXI/dm9pZCAwOnIucGF0aG5hbWUucmVwbGFjZShzfHxcIlwiLFwiXCIpO2lmKCEociYmbiYmaHIuc29tZSgodD0+MD09PW4uaW5kZXhPZih0KSkpKSlyZXR1cm4gdH0pKChyPShlPWkpLnJlcXVlc3RIZWFkZXJzLEEocil8fEN0KE9iamVjdC5rZXlzKG51bGwhPXI/cjp7fSksKHQ9Pntsci5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpJiYoclt0XT1vcil9KSksZSksdC5hcGlfaG9zdCkpO3ZhciBlLHJ9LGQ9Uih0LnNlc3Npb25fcmVjb3JkaW5nLm1hc2tOZXR3b3JrUmVxdWVzdEZuKTtyZXR1cm4gZCYmUih0LnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm4pJiZ4dC53YXJuKFwiQm90aCBgbWFza05ldHdvcmtSZXF1ZXN0Rm5gIGFuZCBgbWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbmAgYXJlIGRlZmluZWQuIGBtYXNrTmV0d29ya1JlcXVlc3RGbmAgd2lsbCBiZSBpZ25vcmVkLlwiKSxkJiYodC5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuPWk9Pnt2YXIgZT10LnNlc3Npb25fcmVjb3JkaW5nLm1hc2tOZXR3b3JrUmVxdWVzdEZuKHt1cmw6aS5uYW1lfSk7cmV0dXJuIGcoe30saSx7bmFtZTpudWxsPT1lP3ZvaWQgMDplLnVybH0pfSksbi5tYXNrUmVxdWVzdEZuPVIodC5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKT9pPT57dmFyIGUscj1oKGkpO3JldHVybiByJiZudWxsIT09KGU9bnVsbD09dC5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuP3ZvaWQgMDp0LnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm4ocikpJiZ2b2lkIDAhPT1lP2U6dm9pZCAwfTp0PT5mdW5jdGlvbih0KXtpZighQyh0KSlyZXR1cm4gdC5yZXF1ZXN0Qm9keT12cih0LnJlcXVlc3RCb2R5LFwiUmVxdWVzdFwiKSx0LnJlc3BvbnNlQm9keT12cih0LnJlc3BvbnNlQm9keSxcIlJlc3BvbnNlXCIpLHR9KGgodCkpLGcoe30sYXIsbix7cmVjb3JkSGVhZGVyczpvLHJlY29yZEJvZHk6YSxyZWNvcmRQZXJmb3JtYW5jZTpsLHJlY29yZEluaXRpYWxSZXF1ZXN0czpsfSl9O2NsYXNzIGZye2NvbnN0cnVjdG9yKHQsaSl7dmFyIGUscjt2b2lkIDA9PT1pJiYoaT17fSksdGhpcy5TdD17fSx0aGlzLmt0PXQ9PntpZighdGhpcy5TdFt0XSl7dmFyIGksZTt0aGlzLlN0W3RdPSEwO3ZhciByPXRoaXMuJHQodCk7bnVsbD09KGk9KGU9dGhpcy50KS5vbkJsb2NrZWROb2RlKXx8aS5jYWxsKGUsdCxyKX19LHRoaXMueHQ9dD0+e3ZhciBpPXRoaXMuJHQodCk7aWYoXCJzdmdcIiE9PShudWxsPT1pP3ZvaWQgMDppLm5vZGVOYW1lKSYmaSBpbnN0YW5jZW9mIEVsZW1lbnQpe3ZhciBlPWkuY2xvc2VzdChcInN2Z1wiKTtpZihlKXJldHVyblt0aGlzLl9ycndlYi5taXJyb3IuZ2V0SWQoZSksZV19cmV0dXJuW3QsaV19LHRoaXMuJHQ9dD0+dGhpcy5fcnJ3ZWIubWlycm9yLmdldE5vZGUodCksdGhpcy5FdD10PT57dmFyIGksZSxyLHMsbixvLGEsbDtyZXR1cm4obnVsbCE9PShpPW51bGw9PShlPXQucmVtb3Zlcyk/dm9pZCAwOmUubGVuZ3RoKSYmdm9pZCAwIT09aT9pOjApKyhudWxsIT09KHI9bnVsbD09KHM9dC5hdHRyaWJ1dGVzKT92b2lkIDA6cy5sZW5ndGgpJiZ2b2lkIDAhPT1yP3I6MCkrKG51bGwhPT0obj1udWxsPT0obz10LnRleHRzKT92b2lkIDA6by5sZW5ndGgpJiZ2b2lkIDAhPT1uP246MCkrKG51bGwhPT0oYT1udWxsPT0obD10LmFkZHMpP3ZvaWQgMDpsLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKX0sdGhpcy50aHJvdHRsZU11dGF0aW9ucz10PT57aWYoMyE9PXQudHlwZXx8MCE9PXQuZGF0YS5zb3VyY2UpcmV0dXJuIHQ7dmFyIGk9dC5kYXRhLGU9dGhpcy5FdChpKTtpLmF0dHJpYnV0ZXMmJihpLmF0dHJpYnV0ZXM9aS5hdHRyaWJ1dGVzLmZpbHRlcigodD0+e3ZhcltpXT10aGlzLnh0KHQuaWQpO3JldHVybiF0aGlzLmd0LmNvbnN1bWVSYXRlTGltaXQoaSkmJnR9KSkpO3ZhciByPXRoaXMuRXQoaSk7cmV0dXJuIDAhPT1yfHxlPT09cj90OnZvaWQgMH0sdGhpcy5fcnJ3ZWI9dCx0aGlzLnQ9aSx0aGlzLmd0PW5ldyBWKHtidWNrZXRTaXplOm51bGwhPT0oZT10aGlzLnQuYnVja2V0U2l6ZSkmJnZvaWQgMCE9PWU/ZToxMDAscmVmaWxsUmF0ZTpudWxsIT09KHI9dGhpcy50LnJlZmlsbFJhdGUpJiZ2b2lkIDAhPT1yP3I6MTAscmVmaWxsSW50ZXJ2YWw6MWUzLCQ6dGhpcy5rdCxQOnh0fSl9fXZhciBwcj1VaW50OEFycmF5LGdyPVVpbnQxNkFycmF5LF9yPVVpbnQzMkFycmF5LG1yPW5ldyBwcihbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSkseXI9bmV3IHByKFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzLDAsMF0pLGJyPW5ldyBwcihbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLHdyPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPW5ldyBncigzMSkscj0wO3I8MzE7KytyKWVbcl09aSs9MTw8dFtyLTFdO3ZhciBzPW5ldyBfcihlWzMwXSk7Zm9yKHI9MTtyPDMwOysrcilmb3IodmFyIG49ZVtyXTtuPGVbcisxXTsrK24pc1tuXT1uLWVbcl08PDV8cjtyZXR1cm5bZSxzXX0sU3I9d3IobXIsMiksa3I9U3JbMF0sJHI9U3JbMV07a3JbMjhdPTI1OCwkclsyNThdPTI4O2Zvcih2YXIgeHI9d3IoeXIsMClbMV0sRXI9bmV3IGdyKDMyNzY4KSxQcj0wO1ByPDMyNzY4OysrUHIpe3ZhciBScj0oNDM2OTAmUHIpPj4+MXwoMjE4NDUmUHIpPDwxO1JyPSg2MTY4MCYoUnI9KDUyNDI4JlJyKT4+PjJ8KDEzMTA3JlJyKTw8MikpPj4+NHwoMzg1NSZScik8PDQsRXJbUHJdPSgoNjUyODAmUnIpPj4+OHwoMjU1JlJyKTw8OCk+Pj4xfXZhciBJcj1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciByPXQubGVuZ3RoLHM9MCxuPW5ldyBncihpKTtzPHI7KytzKSsrblt0W3NdLTFdO3ZhciBvLGE9bmV3IGdyKGkpO2ZvcihzPTA7czxpOysrcylhW3NdPWFbcy0xXStuW3MtMV08PDE7aWYoZSl7bz1uZXcgZ3IoMTw8aSk7dmFyIGw9MTUtaTtmb3Iocz0wO3M8cjsrK3MpaWYodFtzXSlmb3IodmFyIHU9czw8NHx0W3NdLGg9aS10W3NdLGQ9YVt0W3NdLTFdKys8PGgsdj1kfCgxPDxoKS0xO2Q8PXY7KytkKW9bRXJbZF0+Pj5sXT11fWVsc2UgZm9yKG89bmV3IGdyKHIpLHM9MDtzPHI7KytzKW9bc109RXJbYVt0W3NdLTFdKytdPj4+MTUtdFtzXTtyZXR1cm4gb30sVHI9bmV3IHByKDI4OCk7Zm9yKFByPTA7UHI8MTQ0OysrUHIpVHJbUHJdPTg7Zm9yKFByPTE0NDtQcjwyNTY7KytQcilUcltQcl09OTtmb3IoUHI9MjU2O1ByPDI4MDsrK1ByKVRyW1ByXT03O2ZvcihQcj0yODA7UHI8Mjg4OysrUHIpVHJbUHJdPTg7dmFyIENyPW5ldyBwcigzMik7Zm9yKFByPTA7UHI8MzI7KytQcilDcltQcl09NTt2YXIgTXI9SXIoVHIsOSwwKSxPcj1JcihDciw1LDApLEZyPWZ1bmN0aW9uKHQpe3JldHVybih0Lzg+PjApKyg3JnQmJjEpfSxBcj1mdW5jdGlvbih0LGksZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7dmFyIHI9bmV3KHQgaW5zdGFuY2VvZiBncj9ncjp0IGluc3RhbmNlb2YgX3I/X3I6cHIpKGUtaSk7cmV0dXJuIHIuc2V0KHQuc3ViYXJyYXkoaSxlKSkscn0sRHI9ZnVuY3Rpb24odCxpLGUpe2U8PD03Jmk7dmFyIHI9aS84Pj4wO3Rbcl18PWUsdFtyKzFdfD1lPj4+OH0sanI9ZnVuY3Rpb24odCxpLGUpe2U8PD03Jmk7dmFyIHI9aS84Pj4wO3Rbcl18PWUsdFtyKzFdfD1lPj4+OCx0W3IrMl18PWU+Pj4xNn0sTHI9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9W10scj0wO3I8dC5sZW5ndGg7KytyKXRbcl0mJmUucHVzaCh7czpyLGY6dFtyXX0pO3ZhciBzPWUubGVuZ3RoLG49ZS5zbGljZSgpO2lmKCFzKXJldHVybltuZXcgcHIoMCksMF07aWYoMT09cyl7dmFyIG89bmV3IHByKGVbMF0ucysxKTtyZXR1cm4gb1tlWzBdLnNdPTEsW28sMV19ZS5zb3J0KChmdW5jdGlvbih0LGkpe3JldHVybiB0LmYtaS5mfSkpLGUucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGE9ZVswXSxsPWVbMV0sdT0wLGg9MSxkPTI7Zm9yKGVbMF09e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O2ghPXMtMTspYT1lW2VbdV0uZjxlW2RdLmY/dSsrOmQrK10sbD1lW3UhPWgmJmVbdV0uZjxlW2RdLmY/dSsrOmQrK10sZVtoKytdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTt2YXIgdj1uWzBdLnM7Zm9yKHI9MTtyPHM7KytyKW5bcl0ucz52JiYodj1uW3JdLnMpO3ZhciBjPW5ldyBncih2KzEpLGY9TnIoZVtoLTFdLGMsMCk7aWYoZj5pKXtyPTA7dmFyIHA9MCxnPWYtaSxfPTE8PGc7Zm9yKG4uc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gY1tpLnNdLWNbdC5zXXx8dC5mLWkuZn0pKTtyPHM7KytyKXt2YXIgbT1uW3JdLnM7aWYoIShjW21dPmkpKWJyZWFrO3ArPV8tKDE8PGYtY1ttXSksY1ttXT1pfWZvcihwPj4+PWc7cD4wOyl7dmFyIHk9bltyXS5zO2NbeV08aT9wLT0xPDxpLWNbeV0rKy0xOisrcn1mb3IoO3I+PTAmJnA7LS1yKXt2YXIgYj1uW3JdLnM7Y1tiXT09aSYmKC0tY1tiXSwrK3ApfWY9aX1yZXR1cm5bbmV3IHByKGMpLGZdfSxOcj1mdW5jdGlvbih0LGksZSl7cmV0dXJuLTE9PXQucz9NYXRoLm1heChOcih0LmwsaSxlKzEpLE5yKHQucixpLGUrMSkpOmlbdC5zXT1lfSxVcj1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGg7aSYmIXRbLS1pXTspO2Zvcih2YXIgZT1uZXcgZ3IoKytpKSxyPTAscz10WzBdLG49MSxvPWZ1bmN0aW9uKHQpe2VbcisrXT10fSxhPTE7YTw9aTsrK2EpaWYodFthXT09cyYmYSE9aSkrK247ZWxzZXtpZighcyYmbj4yKXtmb3IoO24+MTM4O24tPTEzOClvKDMyNzU0KTtuPjImJihvKG4+MTA/bi0xMTw8NXwyODY5MDpuLTM8PDV8MTIzMDUpLG49MCl9ZWxzZSBpZihuPjMpe2ZvcihvKHMpLC0tbjtuPjY7bi09NilvKDgzMDQpO24+MiYmKG8obi0zPDw1fDgyMDgpLG49MCl9Zm9yKDtuLS07KW8ocyk7bj0xLHM9dFthXX1yZXR1cm5bZS5zdWJhcnJheSgwLHIpLGldfSx6cj1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT0wLHI9MDtyPGkubGVuZ3RoOysrcillKz10W3JdKmlbcl07cmV0dXJuIGV9LHFyPWZ1bmN0aW9uKHQsaSxlKXt2YXIgcj1lLmxlbmd0aCxzPUZyKGkrMik7dFtzXT0yNTUmcix0W3MrMV09cj4+PjgsdFtzKzJdPTI1NV50W3NdLHRbcyszXT0yNTVedFtzKzFdO2Zvcih2YXIgbj0wO248cjsrK24pdFtzK24rNF09ZVtuXTtyZXR1cm4gOCoocys0K3IpfSxCcj1mdW5jdGlvbih0LGksZSxyLHMsbixvLGEsbCx1LGgpe0RyKGksaCsrLGUpLCsrc1syNTZdO2Zvcih2YXIgZD1McihzLDE1KSx2PWRbMF0sYz1kWzFdLGY9THIobiwxNSkscD1mWzBdLGc9ZlsxXSxfPVVyKHYpLG09X1swXSx5PV9bMV0sYj1VcihwKSx3PWJbMF0sUz1iWzFdLGs9bmV3IGdyKDE5KSx4PTA7eDxtLmxlbmd0aDsrK3gpa1szMSZtW3hdXSsrO2Zvcih4PTA7eDx3Lmxlbmd0aDsrK3gpa1szMSZ3W3hdXSsrO2Zvcih2YXIgRT1McihrLDcpLFA9RVswXSxSPUVbMV0sST0xOTtJPjQmJiFQW2JyW0ktMV1dOy0tSSk7dmFyIFQsQyxNLE8sRj11KzU8PDMsQT16cihzLFRyKSt6cihuLENyKStvLEQ9enIocyx2KSt6cihuLHApK28rMTQrMypJK3pyKGssUCkrKDIqa1sxNl0rMyprWzE3XSs3KmtbMThdKTtpZihGPD1BJiZGPD1EKXJldHVybiBxcihpLGgsdC5zdWJhcnJheShsLGwrdSkpO2lmKERyKGksaCwxKyhEPEEpKSxoKz0yLEQ8QSl7VD1Jcih2LGMsMCksQz12LE09SXIocCxnLDApLE89cDt2YXIgaj1JcihQLFIsMCk7RHIoaSxoLHktMjU3KSxEcihpLGgrNSxTLTEpLERyKGksaCsxMCxJLTQpLGgrPTE0O2Zvcih4PTA7eDxJOysreClEcihpLGgrMyp4LFBbYnJbeF1dKTtoKz0zKkk7Zm9yKHZhciBMPVttLHddLE49MDtOPDI7KytOKXt2YXIgVT1MW05dO2Zvcih4PTA7eDxVLmxlbmd0aDsrK3gpe3ZhciB6PTMxJlVbeF07RHIoaSxoLGpbel0pLGgrPVBbel0sej4xNSYmKERyKGksaCxVW3hdPj4+NSYxMjcpLGgrPVVbeF0+Pj4xMil9fX1lbHNlIFQ9TXIsQz1UcixNPU9yLE89Q3I7Zm9yKHg9MDt4PGE7Kyt4KWlmKHJbeF0+MjU1KXt6PXJbeF0+Pj4xOCYzMTtqcihpLGgsVFt6KzI1N10pLGgrPUNbeisyNTddLHo+NyYmKERyKGksaCxyW3hdPj4+MjMmMzEpLGgrPW1yW3pdKTt2YXIgcT0zMSZyW3hdO2pyKGksaCxNW3FdKSxoKz1PW3FdLHE+MyYmKGpyKGksaCxyW3hdPj4+NSY4MTkxKSxoKz15cltxXSl9ZWxzZSBqcihpLGgsVFtyW3hdXSksaCs9Q1tyW3hdXTtyZXR1cm4ganIoaSxoLFRbMjU2XSksaCtDWzI1Nl19LEhyPW5ldyBfcihbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSxXcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgX3IoMjU2KSxpPTA7aTwyNTY7KytpKXtmb3IodmFyIGU9aSxyPTk7LS1yOyllPSgxJmUmJjM5ODgyOTIzODQpXmU+Pj4xO3RbaV09ZX1yZXR1cm4gdH0oKSxHcj1mdW5jdGlvbigpe3ZhciB0PTQyOTQ5NjcyOTU7cmV0dXJue3A6ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPXQscj0wO3I8aS5sZW5ndGg7KytyKWU9V3JbMjU1JmVeaVtyXV1eZT4+Pjg7dD1lfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVedH19fSxWcj1mdW5jdGlvbih0LGksZSxyLHMpe3JldHVybiBmdW5jdGlvbih0LGksZSxyLHMsbil7dmFyIG89dC5sZW5ndGgsYT1uZXcgcHIocitvKzUqKDErTWF0aC5mbG9vcihvLzdlMykpK3MpLGw9YS5zdWJhcnJheShyLGEubGVuZ3RoLXMpLHU9MDtpZighaXx8bzw4KWZvcih2YXIgaD0wO2g8PW87aCs9NjU1MzUpe3ZhciBkPWgrNjU1MzU7ZDxvP3U9cXIobCx1LHQuc3ViYXJyYXkoaCxkKSk6KGxbaF09bix1PXFyKGwsdSx0LnN1YmFycmF5KGgsbykpKX1lbHNle2Zvcih2YXIgdj1IcltpLTFdLGM9dj4+PjEzLGY9ODE5MSZ2LHA9KDE8PGUpLTEsZz1uZXcgZ3IoMzI3NjgpLF89bmV3IGdyKHArMSksbT1NYXRoLmNlaWwoZS8zKSx5PTIqbSxiPWZ1bmN0aW9uKGkpe3JldHVybih0W2ldXnRbaSsxXTw8bV50W2krMl08PHkpJnB9LHc9bmV3IF9yKDI1ZTMpLFM9bmV3IGdyKDI4OCksaz1uZXcgZ3IoMzIpLHg9MCxFPTAsUD0oaD0wLDApLFI9MCxJPTA7aDxvOysraCl7dmFyIFQ9YihoKSxDPTMyNzY3JmgsTT1fW1RdO2lmKGdbQ109TSxfW1RdPUMsUjw9aCl7dmFyIE89by1oO2lmKCh4PjdlM3x8UD4yNDU3NikmJk8+NDIzKXt1PUJyKHQsbCwwLHcsUyxrLEUsUCxJLGgtSSx1KSxQPXg9RT0wLEk9aDtmb3IodmFyIEY9MDtGPDI4NjsrK0YpU1tGXT0wO2ZvcihGPTA7RjwzMDsrK0Ypa1tGXT0wfXZhciBBPTIsRD0wLGo9ZixMPUMtTSYzMjc2NztpZihPPjImJlQ9PWIoaC1MKSlmb3IodmFyIE49TWF0aC5taW4oYyxPKS0xLFU9TWF0aC5taW4oMzI3NjcsaCksej1NYXRoLm1pbigyNTgsTyk7TDw9VSYmLS1qJiZDIT1NOyl7aWYodFtoK0FdPT10W2grQS1MXSl7Zm9yKHZhciBxPTA7cTx6JiZ0W2grcV09PXRbaCtxLUxdOysrcSk7aWYocT5BKXtpZihBPXEsRD1MLHE+TilicmVhazt2YXIgQj1NYXRoLm1pbihMLHEtMiksSD0wO2ZvcihGPTA7RjxCOysrRil7dmFyIFc9aC1MK0YrMzI3NjgmMzI3NjcsRz1XLWdbV10rMzI3NjgmMzI3Njc7Rz5IJiYoSD1HLE09Vyl9fX1MKz0oQz1NKS0oTT1nW0NdKSszMjc2OCYzMjc2N31pZihEKXt3W1ArK109MjY4NDM1NDU2fCRyW0FdPDwxOHx4cltEXTt2YXIgVj0zMSYkcltBXSxKPTMxJnhyW0RdO0UrPW1yW1ZdK3lyW0pdLCsrU1syNTcrVl0sKytrW0pdLFI9aCtBLCsreH1lbHNlIHdbUCsrXT10W2hdLCsrU1t0W2hdXX19dT1Ccih0LGwsbix3LFMsayxFLFAsSSxoLUksdSl9cmV0dXJuIEFyKGEsMCxyK0ZyKHUpK3MpfSh0LG51bGw9PWkubGV2ZWw/NjppLmxldmVsLG51bGw9PWkubWVtP01hdGguY2VpbCgxLjUqTWF0aC5tYXgoOCxNYXRoLm1pbigxMyxNYXRoLmxvZyh0Lmxlbmd0aCkpKSk6MTIraS5tZW0sZSxyLCEwKX0sSnI9ZnVuY3Rpb24odCxpLGUpe2Zvcig7ZTsrK2kpdFtpXT1lLGU+Pj49OH0sS3I9ZnVuY3Rpb24odCxpKXt2YXIgZT1pLmZpbGVuYW1lO2lmKHRbMF09MzEsdFsxXT0xMzksdFsyXT04LHRbOF09aS5sZXZlbDwyPzQ6OT09aS5sZXZlbD8yOjAsdFs5XT0zLDAhPWkubXRpbWUmJkpyKHQsNCxNYXRoLmZsb29yKG5ldyBEYXRlKGkubXRpbWV8fERhdGUubm93KCkpLzFlMykpLGUpe3RbM109ODtmb3IodmFyIHI9MDtyPD1lLmxlbmd0aDsrK3IpdFtyKzEwXT1lLmNoYXJDb2RlQXQocil9fSxZcj1mdW5jdGlvbih0KXtyZXR1cm4gMTArKHQuZmlsZW5hbWUmJnQuZmlsZW5hbWUubGVuZ3RoKzF8fDApfTtmdW5jdGlvbiBYcih0LGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgZT1HcigpLHI9dC5sZW5ndGg7ZS5wKHQpO3ZhciBzPVZyKHQsaSxZcihpKSw4KSxuPXMubGVuZ3RoO3JldHVybiBLcihzLGkpLEpyKHMsbi04LGUuZCgpKSxKcihzLG4tNCxyKSxzfWZ1bmN0aW9uIFFyKHQsaSl7dmFyIGU9dC5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHRFbmNvZGVyKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KTtmb3IodmFyIHI9bmV3IHByKHQubGVuZ3RoKyh0Lmxlbmd0aD4+PjEpKSxzPTAsbj1mdW5jdGlvbih0KXtyW3MrK109dH0sbz0wO288ZTsrK28pe2lmKHMrNT5yLmxlbmd0aCl7dmFyIGE9bmV3IHByKHMrOCsoZS1vPDwxKSk7YS5zZXQocikscj1hfXZhciBsPXQuY2hhckNvZGVBdChvKTtsPDEyOHx8aT9uKGwpOmw8MjA0OD8obigxOTJ8bD4+PjYpLG4oMTI4fDYzJmwpKTpsPjU1Mjk1JiZsPDU3MzQ0PyhuKDI0MHwobD02NTUzNisoMTA0NzU1MiZsKXwxMDIzJnQuY2hhckNvZGVBdCgrK28pKT4+PjE4KSxuKDEyOHxsPj4+MTImNjMpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSk6KG4oMjI0fGw+Pj4xMiksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKX1yZXR1cm4gQXIociwwLHMpfWZ1bmN0aW9uIFpyKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wLGU9MDtlPHQubGVuZ3RoO2UrKylpPShpPDw1KS1pK3QuY2hhckNvZGVBdChlKSxpfD0wO3JldHVybiBNYXRoLmFicyhpKX0odCklMTAwPEcoMTAwKmksMCwxMDAseHQpfXZhciB0cz1cImRpc2FibGVkXCIsaXM9XCJzYW1wbGVkXCIsZXM9XCJhY3RpdmVcIixycz1cImJ1ZmZlcmluZ1wiLHNzPVwicGF1c2VkXCIsbnM9XCJ0cmlnZ2VyXCIsb3M9bnMrXCJfYWN0aXZhdGVkXCIsYXM9bnMrXCJfcGVuZGluZ1wiLGxzPW5zK1wiX1wiK3RzO2Z1bmN0aW9uIHVzKHQsaSl7cmV0dXJuIGkuc29tZSgoaT0+XCJyZWdleFwiPT09aS5tYXRjaGluZyYmbmV3IFJlZ0V4cChpLnVybCkudGVzdCh0KSkpfWNsYXNzIGhze2NvbnN0cnVjdG9yKHQpe3RoaXMuUHQ9dH10cmlnZ2VyU3RhdHVzKHQpe3ZhciBpPXRoaXMuUHQubWFwKChpPT5pLnRyaWdnZXJTdGF0dXModCkpKTtyZXR1cm4gaS5pbmNsdWRlcyhvcyk/b3M6aS5pbmNsdWRlcyhhcyk/YXM6bHN9c3RvcCgpe3RoaXMuUHQuZm9yRWFjaCgodD0+dC5zdG9wKCkpKX19Y2xhc3MgZHN7Y29uc3RydWN0b3IodCl7dGhpcy5QdD10fXRyaWdnZXJTdGF0dXModCl7dmFyIGk9bmV3IFNldDtmb3IodmFyIGUgb2YgdGhpcy5QdClpLmFkZChlLnRyaWdnZXJTdGF0dXModCkpO3N3aXRjaChpLmRlbGV0ZShscyksaS5zaXplKXtjYXNlIDA6cmV0dXJuIGxzO2Nhc2UgMTpyZXR1cm4gQXJyYXkuZnJvbShpKVswXTtkZWZhdWx0OnJldHVybiBhc319c3RvcCgpe3RoaXMuUHQuZm9yRWFjaCgodD0+dC5zdG9wKCkpKX19Y2xhc3MgdnN7dHJpZ2dlclN0YXR1cygpe3JldHVybiBhc31zdG9wKCl7fX12YXIgY3M9dD0+XCJzZXNzaW9uUmVjb3JkaW5nXCJpbiB0O2NsYXNzIGZze2NvbnN0cnVjdG9yKHQpe3RoaXMuUnQ9W10sdGhpcy5JdD1bXSx0aGlzLnVybEJsb2NrZWQ9ITEsdGhpcy5faW5zdGFuY2U9dH1vbkNvbmZpZyh0KXt2YXIgaSxlO3RoaXMuUnQ9KGNzKHQpP251bGw9PShpPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmkudXJsVHJpZ2dlcnM6bnVsbD09dD92b2lkIDA6dC51cmxUcmlnZ2Vycyl8fFtdLHRoaXMuSXQ9KGNzKHQpP251bGw9PShlPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmUudXJsQmxvY2tsaXN0Om51bGw9PXQ/dm9pZCAwOnQudXJsQmxvY2tsaXN0KXx8W119b25SZW1vdGVDb25maWcodCl7dGhpcy5vbkNvbmZpZyh0KX1UdCh0KXt2YXIgaTtyZXR1cm4gMD09PXRoaXMuUnQubGVuZ3RoP2xzOihudWxsPT0oaT10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOmkuZ2V0X3Byb3BlcnR5KGRpKSk9PT10P29zOmFzfXRyaWdnZXJTdGF0dXModCl7dmFyIGk9dGhpcy5UdCh0KSxlPWk9PT1vcz9vczppPT09YXM/YXM6bHM7cmV0dXJuIHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX3JlcGxheV91cmxfdHJpZ2dlcl9zdGF0dXM6ZX0pLGV9Y2hlY2tVcmxUcmlnZ2VyQ29uZGl0aW9ucyhpLGUscil7aWYodm9pZCAwIT09dCYmdC5sb2NhdGlvbi5ocmVmKXt2YXIgcz10LmxvY2F0aW9uLmhyZWYsbj10aGlzLnVybEJsb2NrZWQsbz11cyhzLHRoaXMuSXQpO24mJm98fChvJiYhbj9pKCk6IW8mJm4mJmUoKSx1cyhzLHRoaXMuUnQpJiZyKFwidXJsXCIpKX19c3RvcCgpe319Y2xhc3MgcHN7Y29uc3RydWN0b3IodCl7dGhpcy5saW5rZWRGbGFnPW51bGwsdGhpcy5saW5rZWRGbGFnU2Vlbj0hMSx0aGlzLkN0PSgpPT57fSx0aGlzLl9pbnN0YW5jZT10fXRyaWdnZXJTdGF0dXMoKXt2YXIgdD1hcztyZXR1cm4gQSh0aGlzLmxpbmtlZEZsYWcpJiYodD1scyksdGhpcy5saW5rZWRGbGFnU2VlbiYmKHQ9b3MpLHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX3JlcGxheV9saW5rZWRfZmxhZ190cmlnZ2VyX3N0YXR1czp0fSksdH1vbkNvbmZpZyh0LGkpe3ZhciBlO2lmKHRoaXMubGlua2VkRmxhZz0oY3ModCk/bnVsbD09KGU9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6ZS5saW5rZWRGbGFnOm51bGw9PXQ/dm9pZCAwOnQubGlua2VkRmxhZyl8fG51bGwsIUEodGhpcy5saW5rZWRGbGFnKSYmIXRoaXMubGlua2VkRmxhZ1NlZW4pe3ZhciByPU0odGhpcy5saW5rZWRGbGFnKT90aGlzLmxpbmtlZEZsYWc6dGhpcy5saW5rZWRGbGFnLmZsYWcscz1NKHRoaXMubGlua2VkRmxhZyk/bnVsbDp0aGlzLmxpbmtlZEZsYWcudmFyaWFudDt0aGlzLkN0PXRoaXMuX2luc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCgodCxlKT0+e3ZhciBuPSExO2lmKEkoZSkmJnIgaW4gZSl7dmFyIG89ZVtyXTtuPWoobyk/ITA9PT1vOnM/bz09PXM6ISFvfXRoaXMubGlua2VkRmxhZ1NlZW49bixuJiZpKHIscyl9KSl9fW9uUmVtb3RlQ29uZmlnKHQsaSl7dGhpcy5vbkNvbmZpZyh0LGkpfXN0b3AoKXt0aGlzLkN0KCl9fWNsYXNzIGdze2NvbnN0cnVjdG9yKHQpe3RoaXMuTXQ9W10sdGhpcy5faW5zdGFuY2U9dH1vbkNvbmZpZyh0KXt2YXIgaTt0aGlzLk10PShjcyh0KT9udWxsPT0oaT10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDppLmV2ZW50VHJpZ2dlcnM6bnVsbD09dD92b2lkIDA6dC5ldmVudFRyaWdnZXJzKXx8W119b25SZW1vdGVDb25maWcodCl7dGhpcy5vbkNvbmZpZyh0KX1PdCh0KXt2YXIgaTtyZXR1cm4gMD09PXRoaXMuTXQubGVuZ3RoP2xzOihudWxsPT0oaT10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOmkuZ2V0X3Byb3BlcnR5KHZpKSk9PT10P29zOmFzfXRyaWdnZXJTdGF0dXModCl7dmFyIGk9dGhpcy5PdCh0KSxlPWk9PT1vcz9vczppPT09YXM/YXM6bHM7cmV0dXJuIHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX3JlcGxheV9ldmVudF90cmlnZ2VyX3N0YXR1czplfSksZX1zdG9wKCl7fX1mdW5jdGlvbiBfcyh0KXtyZXR1cm4gdC5pc1JlY29yZGluZ0VuYWJsZWQ/cnM6dHN9ZnVuY3Rpb24gbXModCl7aWYoIXQucmVjZWl2ZWRGbGFncylyZXR1cm4gcnM7aWYoIXQuaXNSZWNvcmRpbmdFbmFibGVkKXJldHVybiB0cztpZih0LnVybFRyaWdnZXJNYXRjaGluZy51cmxCbG9ja2VkKXJldHVybiBzczt2YXIgaT0hMD09PXQuaXNTYW1wbGVkLGU9bmV3IGhzKFt0LmV2ZW50VHJpZ2dlck1hdGNoaW5nLHQudXJsVHJpZ2dlck1hdGNoaW5nLHQubGlua2VkRmxhZ01hdGNoaW5nXSkudHJpZ2dlclN0YXR1cyh0LnNlc3Npb25JZCk7cmV0dXJuIGk/aXM6ZT09PW9zP2VzOmU9PT1hcz9yczohMT09PXQuaXNTYW1wbGVkP3RzOmVzfWZ1bmN0aW9uIHlzKHQpe2lmKCF0LnJlY2VpdmVkRmxhZ3MpcmV0dXJuIHJzO2lmKCF0LmlzUmVjb3JkaW5nRW5hYmxlZClyZXR1cm4gdHM7aWYodC51cmxUcmlnZ2VyTWF0Y2hpbmcudXJsQmxvY2tlZClyZXR1cm4gc3M7dmFyIGk9bmV3IGRzKFt0LmV2ZW50VHJpZ2dlck1hdGNoaW5nLHQudXJsVHJpZ2dlck1hdGNoaW5nLHQubGlua2VkRmxhZ01hdGNoaW5nXSkudHJpZ2dlclN0YXR1cyh0LnNlc3Npb25JZCksZT1pIT09bHMscj1qKHQuaXNTYW1wbGVkKTtyZXR1cm4gZSYmaT09PWFzP3JzOmUmJmk9PT1sc3x8ciYmIXQuaXNTYW1wbGVkP3RzOiEwPT09dC5pc1NhbXBsZWQ/aXM6ZXN9dmFyIGJzPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsd3M9RXQoYnMpO2Z1bmN0aW9uIFNzKCl7dmFyIHQ7cmV0dXJuIG51bGw9PXZ8fG51bGw9PSh0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KHQ9dC5ycndlYik/dm9pZCAwOnQucmVjb3JkfXZhciBrcz0zZTUsJHM9W3NyLk1vdXNlTW92ZSxzci5Nb3VzZUludGVyYWN0aW9uLHNyLlNjcm9sbCxzci5WaWV3cG9ydFJlc2l6ZSxzci5JbnB1dCxzci5Ub3VjaE1vdmUsc3IuTWVkaWFJbnRlcmFjdGlvbixzci5EcmFnXSx4cz10PT4oe3Jyd2ViTWV0aG9kOnQsZW5xdWV1ZWRBdDpEYXRlLm5vdygpLGF0dGVtcHQ6MX0pO2Z1bmN0aW9uIEVzKHQpe3JldHVybiBmdW5jdGlvbih0LGkpe2Zvcih2YXIgZT1cIlwiLHI9MDtyPHQubGVuZ3RoOyl7dmFyIHM9dFtyKytdO2UrPVN0cmluZy5mcm9tQ2hhckNvZGUocyl9cmV0dXJuIGV9KFhyKFFyKEpTT04uc3RyaW5naWZ5KHQpKSkpfWZ1bmN0aW9uIFBzKHQpe3JldHVybiB0LnR5cGU9PT1yci5DdXN0b20mJlwic2Vzc2lvbklkbGVcIj09PXQuZGF0YS50YWd9Y2xhc3MgUnN7Z2V0IHNlc3Npb25JZCgpe3JldHVybiB0aGlzLkZ0fWdldCBBdCgpe3JldHVybiB0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuc2Vzc2lvbl9pZGxlX3RocmVzaG9sZF9tc3x8M2U1fWdldCBzdGFydGVkKCl7cmV0dXJuIHRoaXMuRHR9Z2V0IGp0KCl7aWYoIXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IG5ldyBFcnJvcihicytcIiBtdXN0IGJlIHN0YXJ0ZWQgd2l0aCBhIHZhbGlkIHNlc3Npb25NYW5hZ2VyLlwiKTtyZXR1cm4gdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXJ9Z2V0IEx0KCl7dmFyIHQsaTtyZXR1cm4gdGhpcy5OdC50cmlnZ2VyU3RhdHVzKHRoaXMuc2Vzc2lvbklkKT09PWFzPzZlNDpudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKT92b2lkIDA6aS5mdWxsX3NuYXBzaG90X2ludGVydmFsX21pbGxpcykmJnZvaWQgMCE9PXQ/dDprc31nZXQgVXQoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoaGkpO3JldHVybiBqKHQpP3Q6bnVsbH1nZXQgenQoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5IKT92b2lkIDA6dC5kYXRhWyhudWxsPT0oaT10aGlzLkgpP3ZvaWQgMDppLmRhdGEubGVuZ3RoKS0xXSx7c2Vzc2lvblN0YXJ0VGltZXN0YW1wOnJ9PXRoaXMuanQuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO3JldHVybiBlP2UudGltZXN0YW1wLXI6bnVsbH1nZXQgcXQoKXt2YXIgaT0hIXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShpaSksZT0hdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc7cmV0dXJuIHQmJmkmJmV9Z2V0IEJ0KCl7dmFyIHQ9ISF0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoZWkpLGk9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVuYWJsZV9yZWNvcmRpbmdfY29uc29sZV9sb2c7cmV0dXJuIG51bGwhPWk/aTp0fWdldCBIdCgpe3ZhciB0LGksZSxyLHMsbixvPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jYXB0dXJlQ2FudmFzLGE9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG5pKSxsPW51bGwhPT0odD1udWxsIT09KGk9bnVsbD09bz92b2lkIDA6by5yZWNvcmRDYW52YXMpJiZ2b2lkIDAhPT1pP2k6bnVsbD09YT92b2lkIDA6YS5lbmFibGVkKSYmdm9pZCAwIT09dCYmdCx1PW51bGwhPT0oZT1udWxsIT09KHI9bnVsbD09bz92b2lkIDA6by5jYW52YXNGcHMpJiZ2b2lkIDAhPT1yP3I6bnVsbD09YT92b2lkIDA6YS5mcHMpJiZ2b2lkIDAhPT1lP2U6NCxoPW51bGwhPT0ocz1udWxsIT09KG49bnVsbD09bz92b2lkIDA6by5jYW52YXNRdWFsaXR5KSYmdm9pZCAwIT09bj9uOm51bGw9PWE/dm9pZCAwOmEucXVhbGl0eSkmJnZvaWQgMCE9PXM/czouNDtpZihcInN0cmluZ1wiPT10eXBlb2YgaCl7dmFyIGQ9cGFyc2VGbG9hdChoKTtoPWlzTmFOKGQpPy40OmR9cmV0dXJue2VuYWJsZWQ6bCxmcHM6Ryh1LDAsMTIsd3MuY3JlYXRlTG9nZ2VyKFwiY2FudmFzIHJlY29yZGluZyBmcHNcIiksNCkscXVhbGl0eTpHKGgsMCwxLHdzLmNyZWF0ZUxvZ2dlcihcImNhbnZhcyByZWNvcmRpbmcgcXVhbGl0eVwiKSwuNCl9fWdldCBXdCgpe3ZhciB0LGksZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkocmkpLHI9e3JlY29yZEhlYWRlcnM6bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKT92b2lkIDA6dC5yZWNvcmRIZWFkZXJzLHJlY29yZEJvZHk6bnVsbD09KGk9dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKT92b2lkIDA6aS5yZWNvcmRCb2R5fSxzPShudWxsPT1yP3ZvaWQgMDpyLnJlY29yZEhlYWRlcnMpfHwobnVsbD09ZT92b2lkIDA6ZS5yZWNvcmRIZWFkZXJzKSxuPShudWxsPT1yP3ZvaWQgMDpyLnJlY29yZEJvZHkpfHwobnVsbD09ZT92b2lkIDA6ZS5yZWNvcmRCb2R5KSxvPUkodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLm5ldHdvcmtfdGltaW5nOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLGE9ISEoaihvKT9vOm51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZVBlcmZvcm1hbmNlKTtyZXR1cm4gc3x8bnx8YT97cmVjb3JkSGVhZGVyczpzLHJlY29yZEJvZHk6bixyZWNvcmRQZXJmb3JtYW5jZTphfTp2b2lkIDB9Z2V0IEd0KCl7dmFyIHQsaSxlLHIscyxuLG89dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHNpKSxhPXttYXNrQWxsSW5wdXRzOm51bGw9PSh0PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOnQubWFza0FsbElucHV0cyxtYXNrVGV4dFNlbGVjdG9yOm51bGw9PShpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOmkubWFza1RleHRTZWxlY3RvcixibG9ja1NlbGVjdG9yOm51bGw9PShlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOmUuYmxvY2tTZWxlY3Rvcn0sbD1udWxsIT09KHI9bnVsbD09YT92b2lkIDA6YS5tYXNrQWxsSW5wdXRzKSYmdm9pZCAwIT09cj9yOm51bGw9PW8/dm9pZCAwOm8ubWFza0FsbElucHV0cyx1PW51bGwhPT0ocz1udWxsPT1hP3ZvaWQgMDphLm1hc2tUZXh0U2VsZWN0b3IpJiZ2b2lkIDAhPT1zP3M6bnVsbD09bz92b2lkIDA6by5tYXNrVGV4dFNlbGVjdG9yLGg9bnVsbCE9PShuPW51bGw9PWE/dm9pZCAwOmEuYmxvY2tTZWxlY3RvcikmJnZvaWQgMCE9PW4/bjpudWxsPT1vP3ZvaWQgMDpvLmJsb2NrU2VsZWN0b3I7cmV0dXJuIEMobCkmJkModSkmJkMoaCk/dm9pZCAwOnttYXNrQWxsSW5wdXRzOm51bGw9PWx8fGwsbWFza1RleHRTZWxlY3Rvcjp1LGJsb2NrU2VsZWN0b3I6aH19Z2V0IFZ0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG9pKTtyZXR1cm4gRCh0KT90Om51bGx9Z2V0IEp0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGFpKTtyZXR1cm4gRCh0KT90Om51bGx9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLkt0P3RoaXMuWXQoe3JlY2VpdmVkRmxhZ3M6dGhpcy5LdCxpc1JlY29yZGluZ0VuYWJsZWQ6dGhpcy5xdCxpc1NhbXBsZWQ6dGhpcy5VdCx1cmxUcmlnZ2VyTWF0Y2hpbmc6dGhpcy5YdCxldmVudFRyaWdnZXJNYXRjaGluZzp0aGlzLlF0LGxpbmtlZEZsYWdNYXRjaGluZzp0aGlzLlp0LHNlc3Npb25JZDp0aGlzLnNlc3Npb25JZH0pOnJzfWNvbnN0cnVjdG9yKHQpe2lmKHRoaXMuWXQ9X3MsdGhpcy5LdD0hMSx0aGlzLnRpPVtdLHRoaXMuaWk9XCJ1bmtub3duXCIsdGhpcy5laT1EYXRlLm5vdygpLHRoaXMuTnQ9bmV3IHZzLHRoaXMucmk9dm9pZCAwLHRoaXMuc2k9dm9pZCAwLHRoaXMubmk9dm9pZCAwLHRoaXMub2k9dm9pZCAwLHRoaXMuYWk9dm9pZCAwLHRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT0hMSx0aGlzLmxpPSgpPT57dGhpcy51aSgpfSx0aGlzLmhpPSgpPT57dGhpcy50cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb2ZmbGluZVwiLHt9KX0sdGhpcy5kaT0oKT0+e3RoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJicm93c2VyIG9ubGluZVwiLHt9KX0sdGhpcy52aT0oKT0+e2lmKG51bGwhPW8mJm8udmlzaWJpbGl0eVN0YXRlKXt2YXIgdD1cIndpbmRvdyBcIitvLnZpc2liaWxpdHlTdGF0ZTt0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KHQse30pfX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLkR0PSExLHRoaXMuY2k9XCIvcy9cIix0aGlzLmZpPXZvaWQgMCx0aGlzLkt0PSExLCF0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyB3cy5lcnJvcihcInN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlclwiKSxuZXcgRXJyb3IoYnMrXCIgc3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyLiBUaGlzIGlzIGEgYnVnLlwiKTtpZihcImFsd2F5c1wiPT09dGhpcy5faW5zdGFuY2UuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoYnMrJyBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyk7dGhpcy5adD1uZXcgcHModGhpcy5faW5zdGFuY2UpLHRoaXMuWHQ9bmV3IGZzKHRoaXMuX2luc3RhbmNlKSx0aGlzLlF0PW5ldyBncyh0aGlzLl9pbnN0YW5jZSk7dmFye3Nlc3Npb25JZDppLHdpbmRvd0lkOmV9PXRoaXMuanQuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKTt0aGlzLkZ0PWksdGhpcy5waT1lLHRoaXMuSD10aGlzLmdpKCksdGhpcy5BdD49dGhpcy5qdC5zZXNzaW9uVGltZW91dE1zJiZ3cy53YXJuKFwic2Vzc2lvbl9pZGxlX3RocmVzaG9sZF9tcyAoXCIrdGhpcy5BdCtcIikgaXMgZ3JlYXRlciB0aGFuIHRoZSBzZXNzaW9uIHRpbWVvdXQgKFwiK3RoaXMuanQuc2Vzc2lvblRpbWVvdXRNcytcIikuIFNlc3Npb24gd2lsbCBuZXZlciBiZSBkZXRlY3RlZCBhcyBpZGxlXCIpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKGkpe3RoaXMucXQ/KHRoaXMubWkoaSkscXQodCxcImJlZm9yZXVubG9hZFwiLHRoaXMubGkpLHF0KHQsXCJvZmZsaW5lXCIsdGhpcy5oaSkscXQodCxcIm9ubGluZVwiLHRoaXMuZGkpLHF0KHQsXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy52aSksdGhpcy55aSgpLHRoaXMuYmkoKSxBKHRoaXMucmkpJiYodGhpcy5yaT10aGlzLl9pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+e3RyeXtpZihcIiRwYWdldmlld1wiPT09dC5ldmVudCl7dmFyIGk9bnVsbCE9dCYmdC5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybD90aGlzLndpKG51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kY3VycmVudF91cmwpOlwiXCI7aWYoIWkpcmV0dXJuO3RoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcGFnZXZpZXdcIix7aHJlZjppfSl9fWNhdGNoKHQpe3dzLmVycm9yKFwiQ291bGQgbm90IGFkZCAkcGFnZXZpZXcgdG8gcnJ3ZWIgc2Vzc2lvblwiLHQpfX0pKSksdGhpcy5zaXx8KHRoaXMuc2k9dGhpcy5qdC5vblNlc3Npb25JZCgoKHQsaSxlKT0+e3ZhciByLHM7ZSYmKHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9pZF9jaGFuZ2VcIix7c2Vzc2lvbklkOnQsd2luZG93SWQ6aSxjaGFuZ2VSZWFzb246ZX0pLG51bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KHI9ci5wZXJzaXN0ZW5jZSl8fHIudW5yZWdpc3Rlcih2aSksbnVsbD09KHM9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0ocz1zLnBlcnNpc3RlbmNlKXx8cy51bnJlZ2lzdGVyKGRpKSl9KSkpKTp0aGlzLnN0b3BSZWNvcmRpbmcoKX1zdG9wUmVjb3JkaW5nKCl7dmFyIGksZSxyLHM7dGhpcy5EdCYmdGhpcy5maSYmKHRoaXMuZmkoKSx0aGlzLmZpPXZvaWQgMCx0aGlzLkR0PSExLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMubGkpLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLmhpKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLmRpKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy52aSksdGhpcy5naSgpLGNsZWFySW50ZXJ2YWwodGhpcy5TaSksbnVsbD09KGk9dGhpcy5yaSl8fGkuY2FsbCh0aGlzKSx0aGlzLnJpPXZvaWQgMCxudWxsPT0oZT10aGlzLmFpKXx8ZS5jYWxsKHRoaXMpLHRoaXMuYWk9dm9pZCAwLG51bGw9PShyPXRoaXMuc2kpfHxyLmNhbGwodGhpcyksdGhpcy5zaT12b2lkIDAsbnVsbD09KHM9dGhpcy5vaSl8fHMuY2FsbCh0aGlzKSx0aGlzLm9pPXZvaWQgMCx0aGlzLlF0LnN0b3AoKSx0aGlzLlh0LnN0b3AoKSx0aGlzLlp0LnN0b3AoKSx3cy5pbmZvKFwic3RvcHBlZFwiKSl9a2koKXt2YXIgdDtudWxsPT0odD10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHQudW5yZWdpc3RlcihoaSl9JGkodCl7dmFyIGksZT10aGlzLkZ0IT09dCxyPXRoaXMuVnQ7aWYoRChyKSl7dmFyIHM9dGhpcy5VdCxuPWV8fCFqKHMpLG89bj9acih0LHIpOnM7biYmKG8/dGhpcy54aShpcyk6d3Mud2FybihcIlNhbXBsZSByYXRlIChcIityK1wiKSBoYXMgZGV0ZXJtaW5lZCB0aGF0IHRoaXMgc2Vzc2lvbklkIChcIit0K1wiKSB3aWxsIG5vdCBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXCIpLHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJzYW1wbGluZ0RlY2lzaW9uTWFkZVwiLHtzYW1wbGVSYXRlOnIsaXNTYW1wbGVkOm99KSksbnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHtbaGldOm99KX1lbHNlIHRoaXMua2koKX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaSxlLHIsczsodGhpcy50cnlBZGRDdXN0b21FdmVudChcIiRyZW1vdGVfY29uZmlnX3JlY2VpdmVkXCIsdCksdGhpcy5FaSh0KSxudWxsIT0oaT10LnNlc3Npb25SZWNvcmRpbmcpJiZpLmVuZHBvaW50KSYmKHRoaXMuY2k9bnVsbD09KHM9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6cy5lbmRwb2ludCk7dGhpcy55aSgpLFwiYW55XCI9PT0obnVsbD09KGU9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6ZS50cmlnZ2VyTWF0Y2hUeXBlKT8odGhpcy5ZdD1tcyx0aGlzLk50PW5ldyBocyhbdGhpcy5RdCx0aGlzLlh0XSkpOih0aGlzLll0PXlzLHRoaXMuTnQ9bmV3IGRzKFt0aGlzLlF0LHRoaXMuWHRdKSksdGhpcy5faW5zdGFuY2UucmVnaXN0ZXJfZm9yX3Nlc3Npb24oeyRzZGtfZGVidWdfcmVwbGF5X3JlbW90ZV90cmlnZ2VyX21hdGNoaW5nX2NvbmZpZzpudWxsPT0ocj10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDpyLnRyaWdnZXJNYXRjaFR5cGV9KSx0aGlzLlh0Lm9uQ29uZmlnKHQpLHRoaXMuUXQub25Db25maWcodCksdGhpcy5adC5vbkNvbmZpZyh0LCgodCxpKT0+e3RoaXMueGkoXCJsaW5rZWRfZmxhZ19tYXRjaGVkXCIse2ZsYWc6dCx2YXJpYW50Oml9KX0pKSx0aGlzLkt0PSEwLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoKX15aSgpe0QodGhpcy5WdCkmJkEodGhpcy5vaSkmJih0aGlzLm9pPXRoaXMuanQub25TZXNzaW9uSWQoKHQ9Pnt0aGlzLiRpKHQpfSkpKX1FaSh0KXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dmFyIGksZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSxyPSgpPT57dmFyIGkscixzLG4sbyxhLGwsdSxoLGQ9bnVsbD09KGk9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6aS5zYW1wbGVSYXRlLHY9QShkKT9udWxsOnBhcnNlRmxvYXQoZCk7QSh2KSYmdGhpcy5raSgpO3ZhciBjPW51bGw9PShyPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOnIubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO2UucmVnaXN0ZXIoe1tpaV06ISF0LnNlc3Npb25SZWNvcmRpbmcsW2VpXTpudWxsPT0ocz10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDpzLmNvbnNvbGVMb2dSZWNvcmRpbmdFbmFibGVkLFtyaV06Zyh7Y2FwdHVyZVBlcmZvcm1hbmNlOnQuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT0obj10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDpuLm5ldHdvcmtQYXlsb2FkQ2FwdHVyZSksW3NpXTpudWxsPT0obz10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDpvLm1hc2tpbmcsW25pXTp7ZW5hYmxlZDpudWxsPT0oYT10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDphLnJlY29yZENhbnZhcyxmcHM6bnVsbD09KGw9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6bC5jYW52YXNGcHMscXVhbGl0eTpudWxsPT0odT10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDp1LmNhbnZhc1F1YWxpdHl9LFtvaV06dixbYWldOkMoYyk/bnVsbDpjLFtsaV06bnVsbD09KGg9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6aC5zY3JpcHRDb25maWd9KX07cigpLG51bGw9PShpPXRoaXMubmkpfHxpLmNhbGwodGhpcyksdGhpcy5uaT10aGlzLmp0Lm9uU2Vzc2lvbklkKHIpfX1sb2codCxpKXt2YXIgZTt2b2lkIDA9PT1pJiYoaT1cImxvZ1wiKSxudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uUmVjb3JkaW5nKXx8ZS5vblJSd2ViRW1pdCh7dHlwZTo2LGRhdGE6e3BsdWdpbjpcInJyd2ViL2NvbnNvbGVAMVwiLHBheWxvYWQ6e2xldmVsOmksdHJhY2U6W10scGF5bG9hZDpbSlNPTi5zdHJpbmdpZnkodCldfX0sdGltZXN0YW1wOkRhdGUubm93KCl9KX1taSh0KXtpZighQyhPYmplY3QuYXNzaWduKSYmIUMoQXJyYXkuZnJvbSkmJiEodGhpcy5EdHx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmd8fHRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpKSl7dmFyIGk7aWYodGhpcy5EdD0hMCx0aGlzLmp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCksU3MoKSl0aGlzLlBpKCk7ZWxzZSBudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8aS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHRoaXMuUmksKHQ9PntpZih0KXJldHVybiB3cy5lcnJvcihcImNvdWxkIG5vdCBsb2FkIHJlY29yZGVyXCIsdCk7dGhpcy5QaSgpfSkpO3dzLmluZm8oXCJzdGFydGluZ1wiKSx0aGlzLnN0YXR1cz09PWVzJiZ0aGlzLnhpKHR8fFwicmVjb3JkaW5nX2luaXRpYWxpemVkXCIpfX1nZXQgUmkoKXt2YXIgdDtyZXR1cm4obnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKXx8bnVsbD09KHQ9dC5nZXRfcHJvcGVydHkobGkpKT92b2lkIDA6dC5zY3JpcHQpfHxcInJlY29yZGVyXCJ9SWkodCl7dmFyIGk7cmV0dXJuIDM9PT10LnR5cGUmJi0xIT09JHMuaW5kZXhPZihudWxsPT0oaT10LmRhdGEpP3ZvaWQgMDppLnNvdXJjZSl9VGkodCl7dmFyIGk9dGhpcy5JaSh0KTtpfHx0aGlzLmlpfHx0LnRpbWVzdGFtcC10aGlzLmVpPnRoaXMuQXQmJih0aGlzLmlpPSEwLGNsZWFySW50ZXJ2YWwodGhpcy5TaSksdGhpcy50cnlBZGRDdXN0b21FdmVudChcInNlc3Npb25JZGxlXCIse2V2ZW50VGltZXN0YW1wOnQudGltZXN0YW1wLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDp0aGlzLmVpLHRocmVzaG9sZDp0aGlzLkF0LGJ1ZmZlckxlbmd0aDp0aGlzLkguZGF0YS5sZW5ndGgsYnVmZmVyU2l6ZTp0aGlzLkguc2l6ZX0pLHRoaXMudWkoKSk7dmFyIGU9ITE7aWYoaSYmKHRoaXMuZWk9dC50aW1lc3RhbXAsdGhpcy5paSkpe3ZhciByPVwidW5rbm93blwiPT09dGhpcy5paTt0aGlzLmlpPSExLHJ8fCh0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwic2Vzc2lvbk5vTG9uZ2VySWRsZVwiLHtyZWFzb246XCJ1c2VyIGFjdGl2aXR5XCIsdHlwZTp0LnR5cGV9KSxlPSEwKX1pZighdGhpcy5paSl7dmFye3dpbmRvd0lkOnMsc2Vzc2lvbklkOm59PXRoaXMuanQuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoIWksdC50aW1lc3RhbXApLG89dGhpcy5GdCE9PW4sYT10aGlzLnBpIT09czt0aGlzLnBpPXMsdGhpcy5GdD1uLG98fGE/KHRoaXMuc3RvcFJlY29yZGluZygpLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoXCJzZXNzaW9uX2lkX2NoYW5nZWRcIikpOmUmJnRoaXMuQ2koKX19TWkodCl7dHJ5e3JldHVybiB0LnJyd2ViTWV0aG9kKCksITB9Y2F0Y2goaSl7cmV0dXJuIHRoaXMudGkubGVuZ3RoPDEwP3RoaXMudGkucHVzaCh7ZW5xdWV1ZWRBdDp0LmVucXVldWVkQXR8fERhdGUubm93KCksYXR0ZW1wdDp0LmF0dGVtcHQrKyxycndlYk1ldGhvZDp0LnJyd2ViTWV0aG9kfSk6d3Mud2FybihcImNvdWxkIG5vdCBlbWl0IHF1ZXVlZCBycndlYiBldmVudC5cIixpLHQpLCExfX10cnlBZGRDdXN0b21FdmVudCh0LGkpe3JldHVybiB0aGlzLk1pKHhzKCgoKT0+U3MoKS5hZGRDdXN0b21FdmVudCh0LGkpKSkpfU9pKCl7cmV0dXJuIHRoaXMuTWkoeHMoKCgpPT5TcygpLnRha2VGdWxsU25hcHNob3QoKSkpKX1QaSgpe3ZhciB0LGksZSxyLHM9e2Jsb2NrQ2xhc3M6XCJwaC1uby1jYXB0dXJlXCIsYmxvY2tTZWxlY3Rvcjp2b2lkIDAsaWdub3JlQ2xhc3M6XCJwaC1pZ25vcmUtaW5wdXRcIixtYXNrVGV4dENsYXNzOlwicGgtbWFza1wiLG1hc2tUZXh0U2VsZWN0b3I6dm9pZCAwLG1hc2tUZXh0Rm46dm9pZCAwLG1hc2tBbGxJbnB1dHM6ITAsbWFza0lucHV0T3B0aW9uczp7cGFzc3dvcmQ6ITB9LG1hc2tJbnB1dEZuOnZvaWQgMCxzbGltRE9NT3B0aW9uczp7fSxjb2xsZWN0Rm9udHM6ITEsaW5saW5lU3R5bGVzaGVldDohMCxyZWNvcmRDcm9zc09yaWdpbklmcmFtZXM6ITF9LG49dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nO2Zvcih2YXJbbyxhXW9mIE9iamVjdC5lbnRyaWVzKG58fHt9KSlvIGluIHMmJihcIm1hc2tJbnB1dE9wdGlvbnNcIj09PW8/cy5tYXNrSW5wdXRPcHRpb25zPWcoe3Bhc3N3b3JkOiEwfSxhKTpzW29dPWEpOyh0aGlzLkh0JiZ0aGlzLkh0LmVuYWJsZWQmJihzLnJlY29yZENhbnZhcz0hMCxzLnNhbXBsaW5nPXtjYW52YXM6dGhpcy5IdC5mcHN9LHMuZGF0YVVSTE9wdGlvbnM9e3R5cGU6XCJpbWFnZS93ZWJwXCIscXVhbGl0eTp0aGlzLkh0LnF1YWxpdHl9KSx0aGlzLkd0KSYmKHMubWFza0FsbElucHV0cz1udWxsPT09KGk9dGhpcy5HdC5tYXNrQWxsSW5wdXRzKXx8dm9pZCAwPT09aXx8aSxzLm1hc2tUZXh0U2VsZWN0b3I9bnVsbCE9PShlPXRoaXMuR3QubWFza1RleHRTZWxlY3RvcikmJnZvaWQgMCE9PWU/ZTp2b2lkIDAscy5ibG9ja1NlbGVjdG9yPW51bGwhPT0ocj10aGlzLkd0LmJsb2NrU2VsZWN0b3IpJiZ2b2lkIDAhPT1yP3I6dm9pZCAwKTt2YXIgbD1TcygpO2lmKGwpe3RoaXMuRmk9bnVsbCE9PSh0PXRoaXMuRmkpJiZ2b2lkIDAhPT10P3Q6bmV3IGZyKGwse3JlZmlsbFJhdGU6dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLl9fbXV0YXRpb25UaHJvdHRsZXJSZWZpbGxSYXRlLGJ1Y2tldFNpemU6dGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLl9fbXV0YXRpb25UaHJvdHRsZXJCdWNrZXRTaXplLG9uQmxvY2tlZE5vZGU6KHQsaSk9Pnt2YXIgZT1cIlRvbyBtYW55IG11dGF0aW9ucyBvbiBub2RlICdcIit0K1wiJy4gUmF0ZSBsaW1pdGluZy4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gU1ZHIGFuaW1hdGlvbnMgb3Igc29tZXRoaW5nIHNpbWlsYXJcIjt3cy5pbmZvKGUse25vZGU6aX0pLHRoaXMubG9nKGJzK1wiIFwiK2UsXCJ3YXJuXCIpfX0pO3ZhciB1PXRoaXMuQWkoKTt0aGlzLmZpPWwoZyh7ZW1pdDp0PT57dGhpcy5vblJSd2ViRW1pdCh0KX0scGx1Z2luczp1fSxzKSksdGhpcy5laT1EYXRlLm5vdygpLHRoaXMuaWk9aih0aGlzLmlpKT90aGlzLmlpOlwidW5rbm93blwiLHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9vcHRpb25zXCIse3Nlc3Npb25SZWNvcmRpbmdPcHRpb25zOnMsYWN0aXZlUGx1Z2luczp1Lm1hcCgodD0+bnVsbD09dD92b2lkIDA6dC5uYW1lKSl9KSx0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiJHBvc3Rob2dfY29uZmlnXCIse2NvbmZpZzp0aGlzLl9pbnN0YW5jZS5jb25maWd9KX1lbHNlIHdzLmVycm9yKFwib25TY3JpcHRMb2FkZWQgd2FzIGNhbGxlZCBidXQgcnJ3ZWJSZWNvcmQgaXMgbm90IGF2YWlsYWJsZS4gVGhpcyBpbmRpY2F0ZXMgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nLlwiKX1DaSgpe2lmKHRoaXMuU2kmJmNsZWFySW50ZXJ2YWwodGhpcy5TaSksITAhPT10aGlzLmlpKXt2YXIgdD10aGlzLkx0O3QmJih0aGlzLlNpPXNldEludGVydmFsKCgoKT0+e3RoaXMuT2koKX0pLHQpKX19QWkoKXt2YXIgdCxpLGU9W10scj1udWxsPT0odD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PSh0PXQucnJ3ZWJQbHVnaW5zKT92b2lkIDA6dC5nZXRSZWNvcmRDb25zb2xlUGx1Z2luO3ImJnRoaXMuQnQmJmUucHVzaChyKCkpO3ZhciBzPW51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KGk9aS5ycndlYlBsdWdpbnMpP3ZvaWQgMDppLmdldFJlY29yZE5ldHdvcmtQbHVnaW47dGhpcy5XdCYmUihzKSYmKCFjZS5pbmNsdWRlcyhsb2NhdGlvbi5ob3N0bmFtZSl8fHRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT9lLnB1c2gocyhjcih0aGlzLl9pbnN0YW5jZS5jb25maWcsdGhpcy5XdCkpKTp3cy5pbmZvKFwiTmV0d29ya0NhcHR1cmUgbm90IHN0YXJ0ZWQgYmVjYXVzZSB3ZSBhcmUgb24gbG9jYWxob3N0LlwiKSk7cmV0dXJuIGV9b25SUndlYkVtaXQodCl7dmFyIGk7aWYodGhpcy5EaSgpLHQmJkkodCkpe2lmKHQudHlwZT09PXJyLk1ldGEpe3ZhciBlPXRoaXMud2kodC5kYXRhLmhyZWYpO2lmKHRoaXMuamk9ZSwhZSlyZXR1cm47dC5kYXRhLmhyZWY9ZX1lbHNlIHRoaXMuTGkoKTtpZih0aGlzLlh0LmNoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKCgpPT50aGlzLk5pKCkpLCgoKT0+dGhpcy5VaSgpKSwodD0+dGhpcy56aSh0KSkpLCF0aGlzLlh0LnVybEJsb2NrZWR8fChyPXQpLnR5cGU9PT1yci5DdXN0b20mJlwicmVjb3JkaW5nIHBhdXNlZFwiPT09ci5kYXRhLnRhZyl7dmFyIHI7dC50eXBlPT09cnIuRnVsbFNuYXBzaG90JiZ0aGlzLkNpKCksdC50eXBlPT09cnIuRnVsbFNuYXBzaG90JiZ0aGlzLkt0JiZ0aGlzLk50LnRyaWdnZXJTdGF0dXModGhpcy5zZXNzaW9uSWQpPT09YXMmJnRoaXMuZ2koKTt2YXIgcz10aGlzLkZpP3RoaXMuRmkudGhyb3R0bGVNdXRhdGlvbnModCk6dDtpZihzKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaT10O2lmKGkmJkkoaSkmJjY9PT1pLnR5cGUmJkkoaS5kYXRhKSYmXCJycndlYi9jb25zb2xlQDFcIj09PWkuZGF0YS5wbHVnaW4pe2kuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoPjEwJiYoaS5kYXRhLnBheWxvYWQucGF5bG9hZD1pLmRhdGEucGF5bG9hZC5wYXlsb2FkLnNsaWNlKDAsMTApLGkuZGF0YS5wYXlsb2FkLnBheWxvYWQucHVzaChcIi4uLlt0cnVuY2F0ZWRdXCIpKTtmb3IodmFyIGU9W10scj0wO3I8aS5kYXRhLnBheWxvYWQucGF5bG9hZC5sZW5ndGg7cisrKWkuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0mJmkuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0ubGVuZ3RoPjJlMz9lLnB1c2goaS5kYXRhLnBheWxvYWQucGF5bG9hZFtyXS5zbGljZSgwLDJlMykrXCIuLi5bdHJ1bmNhdGVkXVwiKTplLnB1c2goaS5kYXRhLnBheWxvYWQucGF5bG9hZFtyXSk7cmV0dXJuIGkuZGF0YS5wYXlsb2FkLnBheWxvYWQ9ZSx0fXJldHVybiB0fShzKTtpZih0aGlzLlRpKG4pLCEwIT09dGhpcy5paXx8UHMobikpe2lmKFBzKG4pKXt2YXIgbz1uLmRhdGEucGF5bG9hZDtpZihvKXt2YXIgYT1vLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCxsPW8udGhyZXNob2xkO24udGltZXN0YW1wPWErbH19dmFyIHU9bnVsbD09PShpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jb21wcmVzc19ldmVudHMpfHx2b2lkIDA9PT1pfHxpP2Z1bmN0aW9uKHQpe2lmKGlyKHQpPDEwMjQpcmV0dXJuIHQ7dHJ5e2lmKHQudHlwZT09PXJyLkZ1bGxTbmFwc2hvdClyZXR1cm4gZyh7fSx0LHtkYXRhOkVzKHQuZGF0YSksY3Y6XCIyMDI0LTEwXCJ9KTtpZih0LnR5cGU9PT1yci5JbmNyZW1lbnRhbFNuYXBzaG90JiZ0LmRhdGEuc291cmNlPT09c3IuTXV0YXRpb24pcmV0dXJuIGcoe30sdCx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTpnKHt9LHQuZGF0YSx7dGV4dHM6RXModC5kYXRhLnRleHRzKSxhdHRyaWJ1dGVzOkVzKHQuZGF0YS5hdHRyaWJ1dGVzKSxyZW1vdmVzOkVzKHQuZGF0YS5yZW1vdmVzKSxhZGRzOkVzKHQuZGF0YS5hZGRzKX0pfSk7aWYodC50eXBlPT09cnIuSW5jcmVtZW50YWxTbmFwc2hvdCYmdC5kYXRhLnNvdXJjZT09PXNyLlN0eWxlU2hlZXRSdWxlKXJldHVybiBnKHt9LHQse2N2OlwiMjAyNC0xMFwiLGRhdGE6Zyh7fSx0LmRhdGEse2FkZHM6dC5kYXRhLmFkZHM/RXModC5kYXRhLmFkZHMpOnZvaWQgMCxyZW1vdmVzOnQuZGF0YS5yZW1vdmVzP0VzKHQuZGF0YS5yZW1vdmVzKTp2b2lkIDB9KX0pfWNhdGNoKHQpe3dzLmVycm9yKFwiY291bGQgbm90IGNvbXByZXNzIGV2ZW50IC0gd2lsbCB1c2UgdW5jb21wcmVzc2VkIGV2ZW50XCIsdCl9cmV0dXJuIHR9KG4pOm4saD17JHNuYXBzaG90X2J5dGVzOmlyKHUpLCRzbmFwc2hvdF9kYXRhOnUsJHNlc3Npb25faWQ6dGhpcy5GdCwkd2luZG93X2lkOnRoaXMucGl9O3RoaXMuc3RhdHVzIT09dHM/dGhpcy5xaShoKTp0aGlzLmdpKCl9fX19fUxpKCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0KXt2YXIgaT10aGlzLndpKHQubG9jYXRpb24uaHJlZik7dGhpcy5qaSE9PWkmJih0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiJHVybF9jaGFuZ2VkXCIse2hyZWY6aX0pLHRoaXMuamk9aSl9fURpKCl7aWYodGhpcy50aS5sZW5ndGgpe3ZhciB0PVsuLi50aGlzLnRpXTt0aGlzLnRpPVtdLHQuZm9yRWFjaCgodD0+e0RhdGUubm93KCktdC5lbnF1ZXVlZEF0PD0yZTMmJnRoaXMuTWkodCl9KSl9fXdpKHQpe3ZhciBpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztpZihpLm1hc2tOZXR3b3JrUmVxdWVzdEZuKXt2YXIgZSxyPXt1cmw6dH07cmV0dXJuIG51bGw9PShlPXI9aS5tYXNrTmV0d29ya1JlcXVlc3RGbihyKSk/dm9pZCAwOmUudXJsfXJldHVybiB0fWdpKCl7cmV0dXJuIHRoaXMuSD17c2l6ZTowLGRhdGE6W10sc2Vzc2lvbklkOnRoaXMuRnQsd2luZG93SWQ6dGhpcy5waX0sdGhpcy5IfXVpKCl7dGhpcy5CaSYmKGNsZWFyVGltZW91dCh0aGlzLkJpKSx0aGlzLkJpPXZvaWQgMCk7dmFyIHQ9dGhpcy5KdCxpPXRoaXMuenQsZT1EKGkpJiZpPj0wLHI9RCh0KSYmZSYmaTx0O2lmKHRoaXMuc3RhdHVzPT09cnN8fHRoaXMuc3RhdHVzPT09c3N8fHRoaXMuc3RhdHVzPT09dHN8fHIpcmV0dXJuIHRoaXMuQmk9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnVpKCl9KSwyZTMpLHRoaXMuSDt0aGlzLkguZGF0YS5sZW5ndGg+MCYmZXIodGhpcy5IKS5mb3JFYWNoKCh0PT57dGhpcy5IaSh7JHNuYXBzaG90X2J5dGVzOnQuc2l6ZSwkc25hcHNob3RfZGF0YTp0LmRhdGEsJHNlc3Npb25faWQ6dC5zZXNzaW9uSWQsJHdpbmRvd19pZDp0LndpbmRvd0lkLCRsaWI6XCJ3ZWJcIiwkbGliX3ZlcnNpb246Yy5MSUJfVkVSU0lPTn0pfSkpO3JldHVybiB0aGlzLmdpKCl9cWkodCl7dmFyIGksZT0yKygobnVsbD09KGk9dGhpcy5IKT92b2lkIDA6aS5kYXRhLmxlbmd0aCl8fDApOyF0aGlzLmlpJiYodGhpcy5ILnNpemUrdC4kc25hcHNob3RfYnl0ZXMrZT45NDM3MTguNHx8dGhpcy5ILnNlc3Npb25JZCE9PXRoaXMuRnQpJiYodGhpcy5IPXRoaXMudWkoKSksdGhpcy5ILnNpemUrPXQuJHNuYXBzaG90X2J5dGVzLHRoaXMuSC5kYXRhLnB1c2godC4kc25hcHNob3RfZGF0YSksdGhpcy5CaXx8dGhpcy5paXx8KHRoaXMuQmk9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnVpKCl9KSwyZTMpKX1IaSh0KXt0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJHNuYXBzaG90XCIsdCx7X3VybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdGhpcy5jaSksX25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwicmVjb3JkaW5nc1wiLHNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc6ITB9KX16aSh0KXt2YXIgaTt0aGlzLk50LnRyaWdnZXJTdGF0dXModGhpcy5zZXNzaW9uSWQpPT09YXMmJihudWxsPT0oaT10aGlzLl9pbnN0YW5jZSl8fG51bGw9PShpPWkucGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHtbXCJ1cmxcIj09PXQ/ZGk6dmldOnRoaXMuRnR9KSx0aGlzLnVpKCksdGhpcy54aSh0K1wiX3RyaWdnZXJfbWF0Y2hlZFwiKSl9TmkoKXt0aGlzLlh0LnVybEJsb2NrZWR8fCh0aGlzLlh0LnVybEJsb2NrZWQ9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLlNpKSx3cy5pbmZvKFwicmVjb3JkaW5nIHBhdXNlZCBkdWUgdG8gVVJMIGJsb2NrZXJcIiksdGhpcy50cnlBZGRDdXN0b21FdmVudChcInJlY29yZGluZyBwYXVzZWRcIix7cmVhc29uOlwidXJsIGJsb2NrZXJcIn0pKX1VaSgpe3RoaXMuWHQudXJsQmxvY2tlZCYmKHRoaXMuWHQudXJsQmxvY2tlZD0hMSx0aGlzLk9pKCksdGhpcy5DaSgpLHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcmVzdW1lZFwiLHtyZWFzb246XCJsZWZ0IGJsb2NrZWQgdXJsXCJ9KSx3cy5pbmZvKFwicmVjb3JkaW5nIHJlc3VtZWRcIikpfWJpKCl7MCE9PXRoaXMuUXQuTXQubGVuZ3RoJiZBKHRoaXMuYWkpJiYodGhpcy5haT10aGlzLl9pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+e3RyeXt0aGlzLlF0Lk10LmluY2x1ZGVzKHQuZXZlbnQpJiZ0aGlzLnppKFwiZXZlbnRcIil9Y2F0Y2godCl7d3MuZXJyb3IoXCJDb3VsZCBub3QgYWN0aXZhdGUgZXZlbnQgdHJpZ2dlclwiLHQpfX0pKSl9b3ZlcnJpZGVMaW5rZWRGbGFnKCl7dGhpcy5adC5saW5rZWRGbGFnU2Vlbj0hMCx0aGlzLk9pKCksdGhpcy54aShcImxpbmtlZF9mbGFnX292ZXJyaWRkZW5cIil9b3ZlcnJpZGVTYW1wbGluZygpe3ZhciB0O251bGw9PSh0PXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8dC5yZWdpc3Rlcih7W2hpXTohMH0pLHRoaXMuT2koKSx0aGlzLnhpKFwic2FtcGxpbmdfb3ZlcnJpZGRlblwiKX1vdmVycmlkZVRyaWdnZXIodCl7dGhpcy56aSh0KX14aSh0LGkpe3RoaXMuX2luc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2Vzc2lvbl9yZWNvcmRpbmdfc3RhcnRfcmVhc29uOnR9KSx3cy5pbmZvKHQucmVwbGFjZShcIl9cIixcIiBcIiksaSkseShbXCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIixcInNlc3Npb25faWRfY2hhbmdlZFwiXSx0KXx8dGhpcy50cnlBZGRDdXN0b21FdmVudCh0LGkpfWdldCBzZGtEZWJ1Z1Byb3BlcnRpZXMoKXt2YXJ7c2Vzc2lvblN0YXJ0VGltZXN0YW1wOnR9PXRoaXMuanQuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO3JldHVybnskcmVjb3JkaW5nX3N0YXR1czp0aGlzLnN0YXR1cywkc2RrX2RlYnVnX3JlcGxheV9pbnRlcm5hbF9idWZmZXJfbGVuZ3RoOnRoaXMuSC5kYXRhLmxlbmd0aCwkc2RrX2RlYnVnX3JlcGxheV9pbnRlcm5hbF9idWZmZXJfc2l6ZTp0aGlzLkguc2l6ZSwkc2RrX2RlYnVnX2N1cnJlbnRfc2Vzc2lvbl9kdXJhdGlvbjp0aGlzLnp0LCRzZGtfZGVidWdfc2Vzc2lvbl9zdGFydDp0fX19dmFyIElzPUV0KFwiW1NlZ21lbnRJbnRlZ3JhdGlvbl1cIik7ZnVuY3Rpb24gVHModCxpKXt2YXIgZT10LmNvbmZpZy5zZWdtZW50O2lmKCFlKXJldHVybiBpKCk7IWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5jb25maWcuc2VnbWVudDtpZighZSlyZXR1cm4gaSgpO3ZhciByPWU9Pnt2YXIgcj0oKT0+ZS5hbm9ueW1vdXNJZCgpfHxDZSgpO3QuY29uZmlnLmdldF9kZXZpY2VfaWQ9cixlLmlkKCkmJih0LnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplLmlkKCksJGRldmljZV9pZDpyKCl9KSx0LnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eSh3aSxcImlkZW50aWZpZWRcIikpLGkoKX0scz1lLnVzZXIoKTtcInRoZW5cImluIHMmJlIocy50aGVuKT9zLnRoZW4oKHQ9PnIodCkpKTpyKHMpfSh0LCgoKT0+e2UucmVnaXN0ZXIoKHQ9PntQcm9taXNlJiZQcm9taXNlLnJlc29sdmV8fElzLndhcm4oXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBQcm9taXNlIHN1cHBvcnQsIGFuZCBjYW4gbm90IHVzZSB0aGUgc2VnbWVudCBpbnRlZ3JhdGlvblwiKTt2YXIgaT0oaSxlKT0+e2lmKCFlKXJldHVybiBpO2kuZXZlbnQudXNlcklkfHxpLmV2ZW50LmFub255bW91c0lkPT09dC5nZXRfZGlzdGluY3RfaWQoKXx8KElzLmluZm8oXCJObyB1c2VySWQgc2V0LCByZXNldHRpbmcgUG9zdEhvZ1wiKSx0LnJlc2V0KCkpLGkuZXZlbnQudXNlcklkJiZpLmV2ZW50LnVzZXJJZCE9PXQuZ2V0X2Rpc3RpbmN0X2lkKCkmJihJcy5pbmZvKFwiVXNlcklkIHNldCwgaWRlbnRpZnlpbmcgd2l0aCBQb3N0SG9nXCIpLHQuaWRlbnRpZnkoaS5ldmVudC51c2VySWQpKTt2YXIgcj10LmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyhlLGkuZXZlbnQucHJvcGVydGllcyk7cmV0dXJuIGkuZXZlbnQucHJvcGVydGllcz1PYmplY3QuYXNzaWduKHt9LHIsaS5ldmVudC5wcm9wZXJ0aWVzKSxpfTtyZXR1cm57bmFtZTpcIlBvc3RIb2cgSlNcIix0eXBlOlwiZW5yaWNobWVudFwiLHZlcnNpb246XCIxLjAuMFwiLGlzTG9hZGVkOigpPT4hMCxsb2FkOigpPT5Qcm9taXNlLnJlc29sdmUoKSx0cmFjazp0PT5pKHQsdC5ldmVudC5ldmVudCkscGFnZTp0PT5pKHQsXCIkcGFnZXZpZXdcIiksaWRlbnRpZnk6dD0+aSh0LFwiJGlkZW50aWZ5XCIpLHNjcmVlbjp0PT5pKHQsXCIkc2NyZWVuXCIpfX0pKHQpKS50aGVuKCgoKT0+e2koKX0pKX0pKX12YXIgQ3M9XCJwb3N0aG9nLWpzXCI7ZnVuY3Rpb24gTXModCxpKXt2YXJ7b3JnYW5pemF0aW9uOmUscHJvamVjdElkOnIscHJlZml4OnMsc2V2ZXJpdHlBbGxvd0xpc3Q6bj1bXCJlcnJvclwiXSxzZW5kRXhjZXB0aW9uc1RvUG9zdEhvZzpvPSEwfT12b2lkIDA9PT1pP3t9Omk7cmV0dXJuIGk9Pnt2YXIgYSxsLHUsaCxkO2lmKCEoXCIqXCI9PT1ufHxuLmluY2x1ZGVzKGkubGV2ZWwpKXx8IXQuX19sb2FkZWQpcmV0dXJuIGk7aS50YWdzfHwoaS50YWdzPXt9KTt2YXIgdj10LnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIrdC5jb25maWcudG9rZW4rXCIvcGVyc29uL1wiK3QuZ2V0X2Rpc3RpbmN0X2lkKCkpO2kudGFnc1tcIlBvc3RIb2cgUGVyc29uIFVSTFwiXT12LHQuc2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKSYmKGkudGFnc1tcIlBvc3RIb2cgUmVjb3JkaW5nIFVSTFwiXT10LmdldF9zZXNzaW9uX3JlcGxheV91cmwoe3dpdGhUaW1lc3RhbXA6ITB9KSk7dmFyIGM9KG51bGw9PShhPWkuZXhjZXB0aW9uKT92b2lkIDA6YS52YWx1ZXMpfHxbXSxmPWMubWFwKCh0PT5nKHt9LHQse3N0YWNrdHJhY2U6dC5zdGFja3RyYWNlP2coe30sdC5zdGFja3RyYWNlLHt0eXBlOlwicmF3XCIsZnJhbWVzOih0LnN0YWNrdHJhY2UuZnJhbWVzfHxbXSkubWFwKCh0PT5nKHt9LHQse3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIn0pKSl9KTp2b2lkIDB9KSkpLHA9eyRleGNlcHRpb25fbWVzc2FnZToobnVsbD09KGw9Y1swXSk/dm9pZCAwOmwudmFsdWUpfHxpLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PSh1PWNbMF0pP3ZvaWQgMDp1LnR5cGUsJGV4Y2VwdGlvbl9wZXJzb25VUkw6diwkZXhjZXB0aW9uX2xldmVsOmkubGV2ZWwsJGV4Y2VwdGlvbl9saXN0OmYsJHNlbnRyeV9ldmVudF9pZDppLmV2ZW50X2lkLCRzZW50cnlfZXhjZXB0aW9uOmkuZXhjZXB0aW9uLCRzZW50cnlfZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PShoPWNbMF0pP3ZvaWQgMDpoLnZhbHVlKXx8aS5tZXNzYWdlLCRzZW50cnlfZXhjZXB0aW9uX3R5cGU6bnVsbD09KGQ9Y1swXSk/dm9pZCAwOmQudHlwZSwkc2VudHJ5X3RhZ3M6aS50YWdzfTtyZXR1cm4gZSYmciYmKHAuJHNlbnRyeV91cmw9KHN8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrZStcIi9pc3N1ZXMvP3Byb2plY3Q9XCIrcitcIiZxdWVyeT1cIitpLmV2ZW50X2lkKSxvJiZ0LmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHApLGl9fWNsYXNzIE9ze2NvbnN0cnVjdG9yKHQsaSxlLHIscyxuKXt0aGlzLm5hbWU9Q3MsdGhpcy5zZXR1cE9uY2U9ZnVuY3Rpb24obyl7byhNcyh0LHtvcmdhbml6YXRpb246aSxwcm9qZWN0SWQ6ZSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpzLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm51bGw9PW58fG59KSl9fX12YXIgRnM9bnVsbCE9dCYmdC5sb2NhdGlvbj9tZSh0LmxvY2F0aW9uLmhhc2gsXCJfX3Bvc3Rob2dcIil8fG1lKGxvY2F0aW9uLmhhc2gsXCJzdGF0ZVwiKTpudWxsLEFzPVwiX3Bvc3RIb2dUb29sYmFyUGFyYW1zXCIsRHM9RXQoXCJbVG9vbGJhcl1cIiksanM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLHRbdC5MT0FESU5HPTFdPVwiTE9BRElOR1wiLHRbdC5MT0FERUQ9Ml09XCJMT0FERURcIix0fShqc3x8e30pO2NsYXNzIExze2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5zdGFuY2U9dH1XaSh0KXt2LnBoX3Rvb2xiYXJfc3RhdGU9dH1HaSgpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9di5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09dD90OmpzLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcihpLGUscil7aWYodm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHZvaWQgMD09PXImJihyPXZvaWQgMCksIXR8fCFvKXJldHVybiExO2k9bnVsbCE9aT9pOnQubG9jYXRpb24scj1udWxsIT1yP3I6dC5oaXN0b3J5O3RyeXtpZighZSl7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKHQpe3JldHVybiExfWU9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIHMsbj1Gc3x8bWUoaS5oYXNoLFwiX19wb3N0aG9nXCIpfHxtZShpLmhhc2gsXCJzdGF0ZVwiKSxhPW4/QXQoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KG4pKSkpKXx8QXQoKCgpPT5KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKTpudWxsO3JldHVybiBhJiZcInBoX2F1dGhvcml6ZVwiPT09YS5hY3Rpb24/KChzPWEpLnNvdXJjZT1cInVybFwiLHMmJk9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoYS5kZXNpcmVkSGFzaD9pLmhhc2g9YS5kZXNpcmVkSGFzaDpyP3IucmVwbGFjZVN0YXRlKHIuc3RhdGUsXCJcIixpLnBhdGhuYW1lK2kuc2VhcmNoKTppLmhhc2g9XCJcIikpOigocz1KU09OLnBhcnNlKGUuZ2V0SXRlbShBcyl8fFwie31cIikpLnNvdXJjZT1cImxvY2Fsc3RvcmFnZVwiLGRlbGV0ZSBzLnVzZXJJbnRlbnQpLCEoIXMudG9rZW58fHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuIT09cy50b2tlbikmJih0aGlzLmxvYWRUb29sYmFyKHMpLCEwKX1jYXRjaCh0KXtyZXR1cm4hMX19VmkodCl7dmFyIGk9di5waF9sb2FkX3Rvb2xiYXJ8fHYucGhfbG9hZF9lZGl0b3I7IUEoaSkmJlIoaSk/aSh0LHRoaXMuaW5zdGFuY2UpOkRzLndhcm4oXCJObyB0b29sYmFyIGxvYWQgZnVuY3Rpb24gZm91bmRcIil9bG9hZFRvb2xiYXIoaSl7dmFyIGU9IShudWxsPT1vfHwhby5nZXRFbGVtZW50QnlJZChSaSkpO2lmKCF0fHxlKXJldHVybiExO3ZhciByPVwiY3VzdG9tXCI9PT10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIucmVnaW9uJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljcyxzPWcoe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxpLHthcGlVUkw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIil9LHI/e2luc3RydW1lbnQ6ITF9Ont9KTtpZih0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFzLEpTT04uc3RyaW5naWZ5KGcoe30scyx7c291cmNlOnZvaWQgMH0pKSksdGhpcy5HaSgpPT09anMuTE9BREVEKXRoaXMuVmkocyk7ZWxzZSBpZih0aGlzLkdpKCk9PT1qcy5VTklOSVRJQUxJWkVEKXt2YXIgbjt0aGlzLldpKGpzLkxPQURJTkcpLG51bGw9PShuPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxuLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcInRvb2xiYXJcIiwodD0+e2lmKHQpcmV0dXJuIERzLmVycm9yKFwiW1Rvb2xiYXJdIEZhaWxlZCB0byBsb2FkXCIsdCksdm9pZCB0aGlzLldpKGpzLlVOSU5JVElBTElaRUQpO3RoaXMuV2koanMuTE9BREVEKSx0aGlzLlZpKHMpfSkpLHF0KHQsXCJ0dXJib2xpbmtzOmxvYWRcIiwoKCk9Pnt0aGlzLldpKGpzLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIocyl9KSl9cmV0dXJuITB9SmkodCl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIodCl9bWF5YmVMb2FkRWRpdG9yKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dm9pZCAwKSx2b2lkIDA9PT1pJiYoaT12b2lkIDApLHZvaWQgMD09PWUmJihlPXZvaWQgMCksdGhpcy5tYXliZUxvYWRUb29sYmFyKHQsaSxlKX19dmFyIE5zPUV0KFwiW1RyYWNpbmdIZWFkZXJzXVwiKTtjbGFzcyBVc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLktpPXZvaWQgMCx0aGlzLllpPXZvaWQgMCx0aGlzLmx0PSgpPT57dmFyIHQsaTtDKHRoaXMuS2kpJiYobnVsbD09KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0odD10LnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx0Ll9wYXRjaFhIUih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzfHxbXSx0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO0ModGhpcy5ZaSkmJihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShpPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fGkuX3BhdGNoRmV0Y2godGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKX0sdGhpcy5faW5zdGFuY2U9dH1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInRyYWNpbmctaGVhZGVyc1wiLChpPT57aWYoaSlyZXR1cm4gTnMuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTt0KCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdCxpO3RoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5udCh0aGlzLmx0KToobnVsbD09KHQ9dGhpcy5LaSl8fHQuY2FsbCh0aGlzKSxudWxsPT0oaT10aGlzLllpKXx8aS5jYWxsKHRoaXMpLHRoaXMuS2k9dm9pZCAwLHRoaXMuWWk9dm9pZCAwKX19dmFyIHpzPUV0KFwiW1dlYiBWaXRhbHNdXCIpLHFzPTllNTtjbGFzcyBCc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLlhpPSExLHRoaXMuQz0hMSx0aGlzLkg9e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9LHRoaXMuUWk9KCk9PntjbGVhclRpbWVvdXQodGhpcy5aaSksMCE9PXRoaXMuSC5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMuSC5tZXRyaWNzLnJlZHVjZSgoKHQsaSk9Pmcoe30sdCx7W1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX2V2ZW50XCJdOmcoe30saSksW1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX3ZhbHVlXCJdOmkudmFsdWV9KSkse30pKSx0aGlzLkg9e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KX0sdGhpcy50ZT10PT57dmFyIGksZT1udWxsPT0oaT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO2lmKEMoZSkpenMuZXJyb3IoXCJDb3VsZCBub3QgcmVhZCBzZXNzaW9uIElELiBEcm9wcGluZyBtZXRyaWNzIVwiKTtlbHNle3RoaXMuSD10aGlzLkh8fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLmllKCk7aWYoIUMocikpaWYoQShudWxsPT10P3ZvaWQgMDp0Lm5hbWUpfHxBKG51bGw9PXQ/dm9pZCAwOnQudmFsdWUpKXpzLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIix0KTtlbHNlIGlmKHRoaXMuZWUmJnQudmFsdWU+PXRoaXMuZWUpenMuZXJyb3IoXCJJZ25vcmluZyBtZXRyaWMgd2l0aCB2YWx1ZSA+PSBcIit0aGlzLmVlLHQpO2Vsc2UgdGhpcy5ILnVybCE9PXImJih0aGlzLlFpKCksdGhpcy5aaT1zZXRUaW1lb3V0KHRoaXMuUWksdGhpcy5mbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcykpLEModGhpcy5ILnVybCkmJih0aGlzLkgudXJsPXIpLHRoaXMuSC5maXJzdE1ldHJpY1RpbWVzdGFtcD1DKHRoaXMuSC5maXJzdE1ldHJpY1RpbWVzdGFtcCk/RGF0ZS5ub3coKTp0aGlzLkguZmlyc3RNZXRyaWNUaW1lc3RhbXAsdC5hdHRyaWJ1dGlvbiYmdC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJih0LmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuSC5tZXRyaWNzLnB1c2goZyh7fSx0LHskY3VycmVudF91cmw6ciwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5ILm1ldHJpY3MubGVuZ3RoPT09dGhpcy5hbGxvd2VkTWV0cmljcy5sZW5ndGgmJnRoaXMuUWkoKX19LHRoaXMubHQ9KCk9Pnt2YXIgdCxpLGUscixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO0Mocyl8fEMocy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDp0LG9uQ0xTOmksb25GQ1A6ZSxvbklOUDpyfT1zLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLHQmJmkmJmUmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmdCh0aGlzLnRlLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkNMU1wiKT4tMSYmaSh0aGlzLnRlLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkZDUFwiKT4tMSYmZSh0aGlzLnRlLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLnRlLmJpbmQodGhpcykpLHRoaXMuQz0hMCk6enMuZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuWGk9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLnByb3BzW1h0XSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBhbGxvd2VkTWV0cmljcygpe3ZhciB0LGksZT1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT9udWxsPT0odD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dm9pZCAwOnQud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3JldHVybiBDKGUpPyhudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbWnRdKXx8W1wiQ0xTXCIsXCJGQ1BcIixcIklOUFwiLFwiTENQXCJdOmV9Z2V0IGZsdXNoVG9DYXB0dXJlVGltZW91dE1zKCl7cmV0dXJuKEkodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHNfZGVsYXllZF9mbHVzaF9tczp2b2lkIDApfHw1ZTN9Z2V0IGVlKCl7dmFyIHQ9SSh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJkQodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZTpxcztyZXR1cm4gMDx0JiZ0PD02ZTQ/cXM6dH1nZXQgaXNFbmFibGVkKCl7dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5wcm90b2NvbDtpZihcImh0dHA6XCIhPT10JiZcImh0dHBzOlwiIT09dClyZXR1cm4genMuaW5mbyhcIldlYiBWaXRhbHMgYXJlIGRpc2FibGVkIG9uIG5vbi1odHRwL2h0dHBzIHByb3RvY29sc1wiKSwhMTt2YXIgaT1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOmoodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMDtyZXR1cm4gaihpKT9pOnRoaXMuWGl9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuQyYmKHpzLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLm50KHRoaXMubHQpKX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT1JKHQuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISF0LmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGU9SSh0LmNhcHR1cmVQZXJmb3JtYW5jZSk/dC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tYdF06aX0pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbWnRdOmV9KSksdGhpcy5YaT1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcIndlYi12aXRhbHNcIiwoaT0+e2k/enMuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTp0KCl9KSl9aWUoKXt2YXIgaT10P3QubG9jYXRpb24uaHJlZjp2b2lkIDA7cmV0dXJuIGl8fHpzLmVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBjdXJyZW50IFVSTFwiKSxpfX12YXIgSHM9RXQoXCJbSGVhdG1hcHNdXCIpO2Z1bmN0aW9uIFdzKHQpe3JldHVybiBJKHQpJiZcImNsaWVudFhcImluIHQmJlwiY2xpZW50WVwiaW4gdCYmRCh0LmNsaWVudFgpJiZEKHQuY2xpZW50WSl9Y2xhc3MgR3N7Y29uc3RydWN0b3IodCl7dmFyIGk7dGhpcy5yYWdlY2xpY2tzPW5ldyB1ZSx0aGlzLlhpPSExLHRoaXMuQz0hMSx0aGlzLnJlPW51bGwsdGhpcy5pbnN0YW5jZT10LHRoaXMuWGk9IShudWxsPT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkucHJvcHNbVnRdKX1nZXQgZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcygpe3ZhciB0PTVlMztyZXR1cm4gSSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKSYmdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMmJih0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzKSx0fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gQyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKT9DKHRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwcyk/dGhpcy5YaTp0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHM6ITEhPT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzfXN0YXJ0SWZFbmFibGVkKCl7aWYodGhpcy5pc0VuYWJsZWQpe2lmKHRoaXMuQylyZXR1cm47SHMuaW5mbyhcInN0YXJ0aW5nLi4uXCIpLHRoaXMuc2UoKSx0aGlzLnJlPXNldEludGVydmFsKHRoaXMubmUuYmluZCh0aGlzKSx0aGlzLmZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMpfWVsc2V7dmFyIHQsaTtjbGVhckludGVydmFsKG51bGwhPT0odD10aGlzLnJlKSYmdm9pZCAwIT09dD90OnZvaWQgMCksbnVsbD09KGk9dGhpcy5vZSl8fGkuc3RvcCgpLHRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX19b25SZW1vdGVDb25maWcodCl7dmFyIGk9ISF0LmhlYXRtYXBzO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tWdF06aX0pLHRoaXMuWGk9aSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0QW5kQ2xlYXJCdWZmZXIoKXt2YXIgdD10aGlzLkg7cmV0dXJuIHRoaXMuSD12b2lkIDAsdH1hZSh0KXt0aGlzLmxlKHQub3JpZ2luYWxFdmVudCxcImRlYWRjbGlja1wiKX1zZSgpe3QmJm8mJihxdCh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5uZS5iaW5kKHRoaXMpKSxxdChvLFwiY2xpY2tcIiwoaT0+dGhpcy5sZShpfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJtb3VzZW1vdmVcIiwoaT0+dGhpcy51ZShpfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLHRoaXMub2U9bmV3IFllKHRoaXMuaW5zdGFuY2UsSmUsdGhpcy5hZS5iaW5kKHRoaXMpKSx0aGlzLm9lLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5DPSEwKX1oZShpLGUpe3ZhciByPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxZKCkscz10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWCgpLG49dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbEVsZW1lbnQoKSxvPWZ1bmN0aW9uKGksZSxyKXtmb3IodmFyIHM9aTtzJiZNaShzKSYmIU9pKHMsXCJib2R5XCIpOyl7aWYocz09PXIpcmV0dXJuITE7aWYoeShlLG51bGw9PXQ/dm9pZCAwOnQuZ2V0Q29tcHV0ZWRTdHlsZShzKS5wb3NpdGlvbikpcmV0dXJuITA7cz1IaShzKX1yZXR1cm4hMX0oemkoaSksW1wiZml4ZWRcIixcInN0aWNreVwiXSxuKTtyZXR1cm57eDppLmNsaWVudFgrKG8/MDpzKSx5OmkuY2xpZW50WSsobz8wOnIpLHRhcmdldF9maXhlZDpvLHR5cGU6ZX19bGUodCxpKXt2YXIgZTtpZih2b2lkIDA9PT1pJiYoaT1cImNsaWNrXCIpLCFDaSh0LnRhcmdldCkmJldzKHQpKXt2YXIgcj10aGlzLmhlKHQsaSk7bnVsbCE9KGU9dGhpcy5yYWdlY2xpY2tzKSYmZS5pc1JhZ2VDbGljayh0LmNsaWVudFgsdC5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5kZShnKHt9LHIse3R5cGU6XCJyYWdlY2xpY2tcIn0pKSx0aGlzLmRlKHIpfX11ZSh0KXshQ2kodC50YXJnZXQpJiZXcyh0KSYmKGNsZWFyVGltZW91dCh0aGlzLnZlKSx0aGlzLnZlPXNldFRpbWVvdXQoKCgpPT57dGhpcy5kZSh0aGlzLmhlKHQsXCJtb3VzZW1vdmVcIikpfSksNTAwKSl9ZGUoaSl7aWYodCl7dmFyIGU9dC5sb2NhdGlvbi5ocmVmO3RoaXMuSD10aGlzLkh8fHt9LHRoaXMuSFtlXXx8KHRoaXMuSFtlXT1bXSksdGhpcy5IW2VdLnB1c2goaSl9fW5lKCl7dGhpcy5IJiYhVCh0aGlzLkgpJiZ0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGhlYXRtYXBcIix7JGhlYXRtYXBfZGF0YTp0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9KX19Y2xhc3MgVnN7Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1kb1BhZ2VWaWV3KGksZSl7dmFyIHIscz10aGlzLmNlKGksZSk7cmV0dXJuIHRoaXMuZmU9e3BhdGhuYW1lOm51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOlwiXCIscGFnZVZpZXdJZDplLHRpbWVzdGFtcDppfSx0aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnJlc2V0Q29udGV4dCgpLHN9ZG9QYWdlTGVhdmUodCl7dmFyIGk7cmV0dXJuIHRoaXMuY2UodCxudWxsPT0oaT10aGlzLmZlKT92b2lkIDA6aS5wYWdlVmlld0lkKX1kb0V2ZW50KCl7dmFyIHQ7cmV0dXJueyRwYWdldmlld19pZDpudWxsPT0odD10aGlzLmZlKT92b2lkIDA6dC5wYWdlVmlld0lkfX1jZSh0LGkpe3ZhciBlPXRoaXMuZmU7aWYoIWUpcmV0dXJueyRwYWdldmlld19pZDppfTt2YXIgcj17JHBhZ2V2aWV3X2lkOmksJHByZXZfcGFnZXZpZXdfaWQ6ZS5wYWdlVmlld0lkfSxzPXRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIuZ2V0Q29udGV4dCgpO2lmKHMmJiF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllcyl7dmFye21heFNjcm9sbEhlaWdodDpuLGxhc3RTY3JvbGxZOm8sbWF4U2Nyb2xsWTphLG1heENvbnRlbnRIZWlnaHQ6bCxsYXN0Q29udGVudFk6dSxtYXhDb250ZW50WTpofT1zO2lmKCEoQyhuKXx8QyhvKXx8QyhhKXx8QyhsKXx8Qyh1KXx8QyhoKSkpe249TWF0aC5jZWlsKG4pLG89TWF0aC5jZWlsKG8pLGE9TWF0aC5jZWlsKGEpLGw9TWF0aC5jZWlsKGwpLHU9TWF0aC5jZWlsKHUpLGg9TWF0aC5jZWlsKGgpO3ZhciBkPW48PTE/MTpHKG8vbiwwLDEseHQpLHY9bjw9MT8xOkcoYS9uLDAsMSx4dCksYz1sPD0xPzE6Ryh1L2wsMCwxLHh0KSxmPWw8PTE/MTpHKGgvbCwwLDEseHQpO3I9TXQocix7JHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGw6bywkcHJldl9wYWdldmlld19sYXN0X3Njcm9sbF9wZXJjZW50YWdlOmQsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbDphLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGxfcGVyY2VudGFnZTp2LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudDp1LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudF9wZXJjZW50YWdlOmMsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnQ6aCwkcHJldl9wYWdldmlld19tYXhfY29udGVudF9wZXJjZW50YWdlOmZ9KX19cmV0dXJuIGUucGF0aG5hbWUmJihyLiRwcmV2X3BhZ2V2aWV3X3BhdGhuYW1lPWUucGF0aG5hbWUpLGUudGltZXN0YW1wJiYoci4kcHJldl9wYWdldmlld19kdXJhdGlvbj0odC5nZXRUaW1lKCktZS50aW1lc3RhbXAuZ2V0VGltZSgpKS8xZTMpLHJ9fXZhciBKcz1mdW5jdGlvbih0KXt2YXIgaSxlLHIscyxuPVwiXCI7Zm9yKGk9ZT0wLHI9KHQ9KHQrXCJcIikucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIikpLmxlbmd0aCxzPTA7czxyO3MrKyl7dmFyIG89dC5jaGFyQ29kZUF0KHMpLGE9bnVsbDtvPDEyOD9lKys6YT1vPjEyNyYmbzwyMDQ4P1N0cmluZy5mcm9tQ2hhckNvZGUobz4+NnwxOTIsNjMmb3wxMjgpOlN0cmluZy5mcm9tQ2hhckNvZGUobz4+MTJ8MjI0LG8+PjYmNjN8MTI4LDYzJm98MTI4KSxGKGEpfHwoZT5pJiYobis9dC5zdWJzdHJpbmcoaSxlKSksbis9YSxpPWU9cysxKX1yZXR1cm4gZT5pJiYobis9dC5zdWJzdHJpbmcoaSx0Lmxlbmd0aCkpLG59LEtzPSEhdXx8ISFsLFlzPVwidGV4dC9wbGFpblwiLFhzPSh0LGkpPT57dmFyW2Uscl09dC5zcGxpdChcIj9cIikscz1nKHt9LGkpO251bGw9PXJ8fHIuc3BsaXQoXCImXCIpLmZvckVhY2goKHQ9Pnt2YXJbaV09dC5zcGxpdChcIj1cIik7ZGVsZXRlIHNbaV19KSk7dmFyIG49cGUocyk7cmV0dXJuIGUrXCI/XCIrKG49bj8ocj9yK1wiJlwiOlwiXCIpK246cil9LFFzPSh0LGkpPT5KU09OLnN0cmluZ2lmeSh0LCgodCxpKT0+XCJiaWdpbnRcIj09dHlwZW9mIGk/aS50b1N0cmluZygpOmkpLGkpLFpzPXQ9Pnt2YXJ7ZGF0YTppLGNvbXByZXNzaW9uOmV9PXQ7aWYoaSl7aWYoZT09PWRlLkdaaXBKUyl7dmFyIHI9WHIoUXIoUXMoaSkpLHttdGltZTowfSkscz1uZXcgQmxvYihbcl0se3R5cGU6WXN9KTtyZXR1cm57Y29udGVudFR5cGU6WXMsYm9keTpzLGVzdGltYXRlZFNpemU6cy5zaXplfX1pZihlPT09ZGUuQmFzZTY0KXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaSxlLHIscyxuLG89XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGE9MCxsPTAsdT1cIlwiLGg9W107aWYoIXQpcmV0dXJuIHQ7dD1Kcyh0KTtkb3tpPShuPXQuY2hhckNvZGVBdChhKyspPDwxNnx0LmNoYXJDb2RlQXQoYSsrKTw8OHx0LmNoYXJDb2RlQXQoYSsrKSk+PjE4JjYzLGU9bj4+MTImNjMscj1uPj42JjYzLHM9NjMmbixoW2wrK109by5jaGFyQXQoaSkrby5jaGFyQXQoZSkrby5jaGFyQXQocikrby5jaGFyQXQocyl9d2hpbGUoYTx0Lmxlbmd0aCk7c3dpdGNoKHU9aC5qb2luKFwiXCIpLHQubGVuZ3RoJTMpe2Nhc2UgMTp1PXUuc2xpY2UoMCwtMikrXCI9PVwiO2JyZWFrO2Nhc2UgMjp1PXUuc2xpY2UoMCwtMSkrXCI9XCJ9cmV0dXJuIHV9KFFzKGkpKSxvPSh0PT5cImRhdGE9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6UXModCkpKShuKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixib2R5Om8sZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbb10pLnNpemV9fXZhciBhPVFzKGkpO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIixib2R5OmEsZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbYV0pLnNpemV9fX0sdG49W107bCYmdG4ucHVzaCh7dHJhbnNwb3J0OlwiZmV0Y2hcIixtZXRob2Q6dD0+e3ZhciBpLGUse2NvbnRlbnRUeXBlOnIsYm9keTpzLGVzdGltYXRlZFNpemU6bn09bnVsbCE9PShpPVpzKHQpKSYmdm9pZCAwIT09aT9pOnt9LG89bmV3IEhlYWRlcnM7Q3QodC5oZWFkZXJzLChmdW5jdGlvbih0LGkpe28uYXBwZW5kKGksdCl9KSksciYmby5hcHBlbmQoXCJDb250ZW50LVR5cGVcIixyKTt2YXIgYT10LnVybCx1PW51bGw7aWYoaCl7dmFyIGQ9bmV3IGg7dT17c2lnbmFsOmQuc2lnbmFsLHRpbWVvdXQ6c2V0VGltZW91dCgoKCk9PmQuYWJvcnQoKSksdC50aW1lb3V0KX19bChhLGcoe21ldGhvZDoobnVsbD09dD92b2lkIDA6dC5tZXRob2QpfHxcIkdFVFwiLGhlYWRlcnM6byxrZWVwYWxpdmU6XCJQT1NUXCI9PT10Lm1ldGhvZCYmKG58fDApPDUyNDI4LjgsYm9keTpzLHNpZ25hbDpudWxsPT0oZT11KT92b2lkIDA6ZS5zaWduYWx9LHQuZmV0Y2hPcHRpb25zKSkudGhlbigoaT0+aS50ZXh0KCkudGhlbigoZT0+e3ZhciByPXtzdGF0dXNDb2RlOmkuc3RhdHVzLHRleHQ6ZX07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3IuanNvbj1KU09OLnBhcnNlKGUpfWNhdGNoKHQpe3h0LmVycm9yKHQpfW51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2socil9KSkpKS5jYXRjaCgoaT0+e3h0LmVycm9yKGkpLG51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soe3N0YXR1c0NvZGU6MCx0ZXh0Oml9KX0pKS5maW5hbGx5KCgoKT0+dT9jbGVhclRpbWVvdXQodS50aW1lb3V0KTpudWxsKSl9fSksdSYmdG4ucHVzaCh7dHJhbnNwb3J0OlwiWEhSXCIsbWV0aG9kOnQ9Pnt2YXIgaSxlPW5ldyB1O2Uub3Blbih0Lm1ldGhvZHx8XCJHRVRcIix0LnVybCwhMCk7dmFye2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KGk9WnModCkpJiZ2b2lkIDAhPT1pP2k6e307Q3QodC5oZWFkZXJzLChmdW5jdGlvbih0LGkpe2Uuc2V0UmVxdWVzdEhlYWRlcihpLHQpfSkpLHImJmUuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLHIpLHQudGltZW91dCYmKGUudGltZW91dD10LnRpbWVvdXQpLHQuZGlzYWJsZVhIUkNyZWRlbnRpYWxzfHwoZS53aXRoQ3JlZGVudGlhbHM9ITApLGUub25yZWFkeXN0YXRlY2hhbmdlPSgpPT57aWYoND09PWUucmVhZHlTdGF0ZSl7dmFyIGk9e3N0YXR1c0NvZGU6ZS5zdGF0dXMsdGV4dDplLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09ZS5zdGF0dXMpdHJ5e2kuanNvbj1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KX1jYXRjaCh0KXt9bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhpKX19LGUuc2VuZChzKX19KSxudWxsIT1uJiZuLnNlbmRCZWFjb24mJnRuLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6dD0+e3ZhciBpPVhzKHQudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGUse2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KGU9WnModCkpJiZ2b2lkIDAhPT1lP2U6e30sbz1cInN0cmluZ1wiPT10eXBlb2Ygcz9uZXcgQmxvYihbc10se3R5cGU6cn0pOnM7bi5zZW5kQmVhY29uKGksbyl9Y2F0Y2godCl7fX19KTt2YXIgZW49ZnVuY3Rpb24odCxpKXtpZighZnVuY3Rpb24odCl7dHJ5e25ldyBSZWdFeHAodCl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuITB9KGkpKXJldHVybiExO3RyeXtyZXR1cm4gbmV3IFJlZ0V4cChpKS50ZXN0KHQpfWNhdGNoKHQpe3JldHVybiExfX07ZnVuY3Rpb24gcm4odCxpLGUpe3JldHVybiBRcyh7ZGlzdGluY3RfaWQ6dCx1c2VyUHJvcGVydGllc1RvU2V0OmksdXNlclByb3BlcnRpZXNUb1NldE9uY2U6ZX0pfXZhciBzbj17ZXhhY3Q6KHQsaSk9Pmkuc29tZSgoaT0+dC5zb21lKCh0PT5pPT09dCkpKSksaXNfbm90Oih0LGkpPT5pLmV2ZXJ5KChpPT50LmV2ZXJ5KCh0PT5pIT09dCkpKSkscmVnZXg6KHQsaSk9Pmkuc29tZSgoaT0+dC5zb21lKCh0PT5lbihpLHQpKSkpKSxub3RfcmVnZXg6KHQsaSk9PmkuZXZlcnkoKGk9PnQuZXZlcnkoKHQ9PiFlbihpLHQpKSkpKSxpY29udGFpbnM6KHQsaSk9PmkubWFwKG5uKS5zb21lKChpPT50Lm1hcChubikuc29tZSgodD0+aS5pbmNsdWRlcyh0KSkpKSksbm90X2ljb250YWluczoodCxpKT0+aS5tYXAobm4pLmV2ZXJ5KChpPT50Lm1hcChubikuZXZlcnkoKHQ9PiFpLmluY2x1ZGVzKHQpKSkpKX0sbm49dD0+dC50b0xvd2VyQ2FzZSgpLG9uPUV0KFwiW0Vycm9yIHRyYWNraW5nXVwiKTtjbGFzcyBhbntjb25zdHJ1Y3Rvcih0KXt2YXIgaSxlO3RoaXMucGU9W10sdGhpcy5nZT1uZXcgdnQoW25ldyBjdCxuZXcga3QsbmV3IHB0LG5ldyBmdCxuZXcgd3QsbmV3IGJ0LG5ldyBfdCxuZXcgU3RdLFtudCxsdF0pLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5wZT1udWxsIT09KGk9bnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShLdCkpJiZ2b2lkIDAhPT1pP2k6W119b25SZW1vdGVDb25maWcodCl7dmFyIGksZSxyLHM9bnVsbCE9PShpPW51bGw9PShlPXQuZXJyb3JUcmFja2luZyk/dm9pZCAwOmUuc3VwcHJlc3Npb25SdWxlcykmJnZvaWQgMCE9PWk/aTpbXSxuPW51bGw9PShyPXQuZXJyb3JUcmFja2luZyk/dm9pZCAwOnIuY2FwdHVyZUV4dGVuc2lvbkV4Y2VwdGlvbnM7dGhpcy5wZT1zLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0t0XTp0aGlzLnBlLFtZdF06bn0pfWdldCBfZSgpe3ZhciB0LGk9ISF0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoWXQpLGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3JldHVybiBudWxsIT09KHQ9bnVsbCE9ZT9lOmkpJiZ2b2lkIDAhPT10JiZ0fWJ1aWxkUHJvcGVydGllcyh0LGkpe3JldHVybiB0aGlzLmdlLmJ1aWxkRnJvbVVua25vd24odCx7c3ludGhldGljRXhjZXB0aW9uOm51bGw9PWk/dm9pZCAwOmkuc3ludGhldGljRXhjZXB0aW9uLG1lY2hhbmlzbTp7aGFuZGxlZDpudWxsPT1pP3ZvaWQgMDppLmhhbmRsZWR9fSl9c2VuZEV4Y2VwdGlvbkV2ZW50KHQpe2lmKHRoaXMubWUodCkpb24uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgYSBzdXBwcmVzc2lvbiBydWxlIG1hdGNoZWRcIik7ZWxzZXtpZih0aGlzLl9lfHwhdGhpcy55ZSh0KSlyZXR1cm4gdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRleGNlcHRpb25cIix0LHtfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJleGNlcHRpb25FdmVudFwifSk7b24uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgaXQgd2FzIHRocm93biBieSBhbiBleHRlbnNpb25cIil9fW1lKHQpe3ZhciBpPXQuJGV4Y2VwdGlvbl9saXN0O2lmKCFpfHwhUChpKXx8MD09PWkubGVuZ3RoKXJldHVybiExO3ZhciBlPWkucmVkdWNlKCgodCxpKT0+e3Zhcnt0eXBlOmUsdmFsdWU6cn09aTtyZXR1cm4gTShlKSYmZS5sZW5ndGg+MCYmdC4kZXhjZXB0aW9uX3R5cGVzLnB1c2goZSksTShyKSYmci5sZW5ndGg+MCYmdC4kZXhjZXB0aW9uX3ZhbHVlcy5wdXNoKHIpLHR9KSx7JGV4Y2VwdGlvbl90eXBlczpbXSwkZXhjZXB0aW9uX3ZhbHVlczpbXX0pO3JldHVybiB0aGlzLnBlLnNvbWUoKHQ9Pnt2YXIgaT10LnZhbHVlcy5tYXAoKHQ9Pnt2YXIgaSxyPXNuW3Qub3BlcmF0b3JdLHM9UCh0LnZhbHVlKT90LnZhbHVlOlt0LnZhbHVlXSxuPW51bGwhPT0oaT1lW3Qua2V5XSkmJnZvaWQgMCE9PWk/aTpbXTtyZXR1cm4gcy5sZW5ndGg+MCYmcihzLG4pfSkpO3JldHVyblwiT1JcIj09PXQudHlwZT9pLnNvbWUoQm9vbGVhbik6aS5ldmVyeShCb29sZWFuKX0pKX15ZSh0KXt2YXIgaT10LiRleGNlcHRpb25fbGlzdDtyZXR1cm4hKCFpfHwhUChpKSkmJmkuZmxhdE1hcCgodD0+e3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10LnN0YWNrdHJhY2UpP3ZvaWQgMDplLmZyYW1lcykmJnZvaWQgMCE9PWk/aTpbXX0pKS5zb21lKCh0PT50LmZpbGVuYW1lJiZ0LmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJjaHJvbWUtZXh0ZW5zaW9uOi8vXCIpKSl9fXZhciBsbj1cIk1vYmlsZVwiLHVuPVwiaU9TXCIsaG49XCJBbmRyb2lkXCIsZG49XCJUYWJsZXRcIix2bj1obitcIiBcIitkbixjbj1cImlQYWRcIixmbj1cIkFwcGxlXCIscG49Zm4rXCIgV2F0Y2hcIixnbj1cIlNhZmFyaVwiLF9uPVwiQmxhY2tCZXJyeVwiLG1uPVwiU2Ftc3VuZ1wiLHluPW1uK1wiQnJvd3NlclwiLGJuPW1uK1wiIEludGVybmV0XCIsd249XCJDaHJvbWVcIixTbj13bitcIiBPU1wiLGtuPXduK1wiIFwiK3VuLCRuPVwiSW50ZXJuZXQgRXhwbG9yZXJcIix4bj0kbitcIiBcIitsbixFbj1cIk9wZXJhXCIsUG49RW4rXCIgTWluaVwiLFJuPVwiRWRnZVwiLEluPVwiTWljcm9zb2Z0IFwiK1JuLFRuPVwiRmlyZWZveFwiLENuPVRuK1wiIFwiK3VuLE1uPVwiTmludGVuZG9cIixPbj1cIlBsYXlTdGF0aW9uXCIsRm49XCJYYm94XCIsQW49aG4rXCIgXCIrbG4sRG49bG4rXCIgXCIrZ24sam49XCJXaW5kb3dzXCIsTG49am4rXCIgUGhvbmVcIixObj1cIk5va2lhXCIsVW49XCJPdXlhXCIsem49XCJHZW5lcmljXCIscW49em4rXCIgXCIrbG4udG9Mb3dlckNhc2UoKSxCbj16bitcIiBcIitkbi50b0xvd2VyQ2FzZSgpLEhuPVwiS29ucXVlcm9yXCIsV249XCIoXFxcXGQrKFxcXFwuXFxcXGQrKT8pXCIsR249bmV3IFJlZ0V4cChcIlZlcnNpb24vXCIrV24pLFZuPW5ldyBSZWdFeHAoRm4sXCJpXCIpLEpuPW5ldyBSZWdFeHAoT24rXCIgXFxcXHcrXCIsXCJpXCIpLEtuPW5ldyBSZWdFeHAoTW4rXCIgXFxcXHcrXCIsXCJpXCIpLFluPW5ldyBSZWdFeHAoX24rXCJ8UGxheUJvb2t8QkIxMFwiLFwiaVwiKSxYbj17XCJOVDMuNTFcIjpcIk5UIDMuMTFcIixcIk5UNC4wXCI6XCJOVCA0LjBcIixcIjUuMFwiOlwiMjAwMFwiLDUuMTpcIlhQXCIsNS4yOlwiWFBcIixcIjYuMFwiOlwiVmlzdGFcIiw2LjE6XCI3XCIsNi4yOlwiOFwiLDYuMzpcIjguMVwiLDYuNDpcIjEwXCIsXCIxMC4wXCI6XCIxMFwifTt2YXIgUW49KHQsaSk9PmkmJnkoaSxmbil8fGZ1bmN0aW9uKHQpe3JldHVybiB5KHQsZ24pJiYheSh0LHduKSYmIXkodCxobil9KHQpLFpuPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGk9aXx8XCJcIix5KHQsXCIgT1BSL1wiKSYmeSh0LFwiTWluaVwiKT9Qbjp5KHQsXCIgT1BSL1wiKT9FbjpZbi50ZXN0KHQpP19uOnkodCxcIklFXCIrbG4pfHx5KHQsXCJXUERlc2t0b3BcIik/eG46eSh0LHluKT9ibjp5KHQsUm4pfHx5KHQsXCJFZGcvXCIpP0luOnkodCxcIkZCSU9TXCIpP1wiRmFjZWJvb2sgXCIrbG46eSh0LFwiVUNXRUJcIil8fHkodCxcIlVDQnJvd3NlclwiKT9cIlVDIEJyb3dzZXJcIjp5KHQsXCJDcmlPU1wiKT9rbjp5KHQsXCJDck1vXCIpfHx5KHQsd24pP3duOnkodCxobikmJnkodCxnbik/QW46eSh0LFwiRnhpT1NcIik/Q246eSh0LnRvTG93ZXJDYXNlKCksSG4udG9Mb3dlckNhc2UoKSk/SG46UW4odCxpKT95KHQsbG4pP0RuOmduOnkodCxUbik/VG46eSh0LFwiTVNJRVwiKXx8eSh0LFwiVHJpZGVudC9cIik/JG46eSh0LFwiR2Vja29cIik/VG46XCJcIn0sdG89e1t4bl06W25ldyBSZWdFeHAoXCJydjpcIitXbildLFtJbl06W25ldyBSZWdFeHAoUm4rXCI/XFxcXC9cIitXbildLFt3bl06W25ldyBSZWdFeHAoXCIoXCIrd24rXCJ8Q3JNbylcXFxcL1wiK1duKV0sW2tuXTpbbmV3IFJlZ0V4cChcIkNyaU9TXFxcXC9cIitXbildLFwiVUMgQnJvd3NlclwiOltuZXcgUmVnRXhwKFwiKFVDQnJvd3NlcnxVQ1dFQilcXFxcL1wiK1duKV0sW2duXTpbR25dLFtEbl06W0duXSxbRW5dOltuZXcgUmVnRXhwKFwiKE9wZXJhfE9QUilcXFxcL1wiK1duKV0sW1RuXTpbbmV3IFJlZ0V4cChUbitcIlxcXFwvXCIrV24pXSxbQ25dOltuZXcgUmVnRXhwKFwiRnhpT1NcXFxcL1wiK1duKV0sW0huXTpbbmV3IFJlZ0V4cChcIktvbnF1ZXJvcls6L10/XCIrV24sXCJpXCIpXSxbX25dOltuZXcgUmVnRXhwKF9uK1wiIFwiK1duKSxHbl0sW0FuXTpbbmV3IFJlZ0V4cChcImFuZHJvaWRcXFxcc1wiK1duLFwiaVwiKV0sW2JuXTpbbmV3IFJlZ0V4cCh5bitcIlxcXFwvXCIrV24pXSxbJG5dOltuZXcgUmVnRXhwKFwiKHJ2OnxNU0lFIClcIitXbildLE1vemlsbGE6W25ldyBSZWdFeHAoXCJydjpcIitXbildfSxpbz1mdW5jdGlvbih0LGkpe3ZhciBlPVpuKHQsaSkscj10b1tlXTtpZihDKHIpKXJldHVybiBudWxsO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbj1yW3NdLG89dC5tYXRjaChuKTtpZihvKXJldHVybiBwYXJzZUZsb2F0KG9bby5sZW5ndGgtMl0pfXJldHVybiBudWxsfSxlbz1bW25ldyBSZWdFeHAoRm4rXCI7IFwiK0ZuK1wiICguKj8pWyk7XVwiLFwiaVwiKSx0PT5bRm4sdCYmdFsxXXx8XCJcIl1dLFtuZXcgUmVnRXhwKE1uLFwiaVwiKSxbTW4sXCJcIl1dLFtuZXcgUmVnRXhwKE9uLFwiaVwiKSxbT24sXCJcIl1dLFtZbixbX24sXCJcIl1dLFtuZXcgUmVnRXhwKGpuLFwiaVwiKSwodCxpKT0+e2lmKC9QaG9uZS8udGVzdChpKXx8L1dQRGVza3RvcC8udGVzdChpKSlyZXR1cm5bTG4sXCJcIl07aWYobmV3IFJlZ0V4cChsbikudGVzdChpKSYmIS9JRU1vYmlsZVxcYi8udGVzdChpKSlyZXR1cm5bam4rXCIgXCIrbG4sXCJcIl07dmFyIGU9L1dpbmRvd3MgTlQgKFswLTkuXSspL2kuZXhlYyhpKTtpZihlJiZlWzFdKXt2YXIgcj1lWzFdLHM9WG5bcl18fFwiXCI7cmV0dXJuL2FybS9pLnRlc3QoaSkmJihzPVwiUlRcIiksW2puLHNdfXJldHVybltqbixcIlwiXX1dLFsvKChpUGhvbmV8aVBhZHxpUG9kKS4qP09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT98aVBob25lKS8sdD0+e2lmKHQmJnRbM10pe3ZhciBpPVt0WzNdLHRbNF0sdFs1XXx8XCIwXCJdO3JldHVyblt1bixpLmpvaW4oXCIuXCIpXX1yZXR1cm5bdW4sXCJcIl19XSxbLyh3YXRjaC4qXFwvKFxcZCtcXC5cXGQrXFwuXFxkKyl8d2F0Y2ggb3MsKFxcZCtcXC5cXGQrKSwpL2ksdD0+e3ZhciBpPVwiXCI7cmV0dXJuIHQmJnQubGVuZ3RoPj0zJiYoaT1DKHRbMl0pP3RbM106dFsyXSksW1wid2F0Y2hPU1wiLGldfV0sW25ldyBSZWdFeHAoXCIoXCIraG4rXCIgKFxcXFxkKylcXFxcLihcXFxcZCspXFxcXC4/KFxcXFxkKyk/fFwiK2huK1wiKVwiLFwiaVwiKSx0PT57aWYodCYmdFsyXSl7dmFyIGk9W3RbMl0sdFszXSx0WzRdfHxcIjBcIl07cmV0dXJuW2huLGkuam9pbihcIi5cIildfXJldHVybltobixcIlwiXX1dLFsvTWFjIE9TIFggKFxcZCspW18uXShcXGQrKVtfLl0/KFxcZCspPy9pLHQ9Pnt2YXIgaT1bXCJNYWMgT1MgWFwiLFwiXCJdO2lmKHQmJnRbMV0pe3ZhciBlPVt0WzFdLHRbMl0sdFszXXx8XCIwXCJdO2lbMV09ZS5qb2luKFwiLlwiKX1yZXR1cm4gaX1dLFsvTWFjL2ksW1wiTWFjIE9TIFhcIixcIlwiXV0sWy9Dck9TLyxbU24sXCJcIl1dLFsvTGludXh8ZGViaWFuL2ksW1wiTGludXhcIixcIlwiXV1dLHJvPWZ1bmN0aW9uKHQpe3JldHVybiBLbi50ZXN0KHQpP01uOkpuLnRlc3QodCk/T246Vm4udGVzdCh0KT9GbjpuZXcgUmVnRXhwKFVuLFwiaVwiKS50ZXN0KHQpP1VuOm5ldyBSZWdFeHAoXCIoXCIrTG4rXCJ8V1BEZXNrdG9wKVwiLFwiaVwiKS50ZXN0KHQpP0xuOi9pUGFkLy50ZXN0KHQpP2NuOi9pUG9kLy50ZXN0KHQpP1wiaVBvZCBUb3VjaFwiOi9pUGhvbmUvLnRlc3QodCk/XCJpUGhvbmVcIjovKHdhdGNoKSg/OiA/b3NbLC9dfFxcZCxcXGRcXC8pW1xcZC5dKy9pLnRlc3QodCk/cG46WW4udGVzdCh0KT9fbjovKGtvYm8pXFxzKGVyZWFkZXJ8dG91Y2gpL2kudGVzdCh0KT9cIktvYm9cIjpuZXcgUmVnRXhwKE5uLFwiaVwiKS50ZXN0KHQpP05uOi8oa2ZbYS16XXsyfXdpfGFlb1tjLXJdezJ9KSggYnVpfFxcKSkvaS50ZXN0KHQpfHwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaS50ZXN0KHQpP1wiS2luZGxlIEZpcmVcIjovKEFuZHJvaWR8WlRFKS9pLnRlc3QodCk/IW5ldyBSZWdFeHAobG4pLnRlc3QodCl8fC8oOTEzOEJ8VEI3ODJCfE5leHVzIFs5N118cGl4ZWwgY3xIVUFXRUlTSFR8QlRWfG5vYmxlIG5vb2t8c21hcnQgdWx0cmEgNikvaS50ZXN0KHQpPy9waXhlbFtcXGRheGwgXXsxLDZ9L2kudGVzdCh0KSYmIS9waXhlbCBjL2kudGVzdCh0KXx8LyhodWF3ZWltZWQtYWwwMHx0YWgtfEFQQXxTTS1HOTJ8aTk4MHx6dGV8VTMwNEFBKS9pLnRlc3QodCl8fC9sbXk0N3YvaS50ZXN0KHQpJiYhL1FUQVFaMy9pLnRlc3QodCk/aG46dm46aG46bmV3IFJlZ0V4cChcIihwZGF8XCIrbG4rXCIpXCIsXCJpXCIpLnRlc3QodCk/cW46bmV3IFJlZ0V4cChkbixcImlcIikudGVzdCh0KSYmIW5ldyBSZWdFeHAoZG4rXCIgcGNcIixcImlcIikudGVzdCh0KT9CbjpcIlwifSxzbz1cImh0dHBzPzovLyguKilcIixubz1bXCJnY2xpZFwiLFwiZ2Nsc3JjXCIsXCJkY2xpZFwiLFwiZ2JyYWlkXCIsXCJ3YnJhaWRcIixcImZiY2xpZFwiLFwibXNjbGtpZFwiLFwidHdjbGlkXCIsXCJsaV9mYXRfaWRcIixcImlnc2hpZFwiLFwidHRjbGlkXCIsXCJyZHRfY2lkXCIsXCJlcGlrXCIsXCJxY2xpZFwiLFwic2NjaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLG9vPU90KFtcInV0bV9zb3VyY2VcIixcInV0bV9tZWRpdW1cIixcInV0bV9jYW1wYWlnblwiLFwidXRtX2NvbnRlbnRcIixcInV0bV90ZXJtXCIsXCJnYWRfc291cmNlXCIsXCJtY19jaWRcIl0sbm8pLGFvPVwiPG1hc2tlZD5cIixsbz1bXCJsaV9mYXRfaWRcIl07ZnVuY3Rpb24gdW8odCxpLGUpe2lmKCFvKXJldHVybnt9O3ZhciByLHM9aT9PdChbXSxubyxlfHxbXSk6W10sbj1obyhfZShvLlVSTCxzLGFvKSx0KSxhPShyPXt9LEN0KGxvLChmdW5jdGlvbih0KXt2YXIgaT1EZS5KKHQpO3JbdF09aXx8bnVsbH0pKSxyKTtyZXR1cm4gTXQoYSxuKX1mdW5jdGlvbiBobyh0LGkpe3ZhciBlPW9vLmNvbmNhdChpfHxbXSkscj17fTtyZXR1cm4gQ3QoZSwoZnVuY3Rpb24oaSl7dmFyIGU9Z2UodCxpKTtyW2ldPWV8fG51bGx9KSkscn1mdW5jdGlvbiB2byh0KXt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gdD8wPT09dC5zZWFyY2goc28rXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09dC5zZWFyY2goc28rXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09dC5zZWFyY2goc28rXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT10LnNlYXJjaChzbytcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0odCksZT1cInlhaG9vXCIhPWk/XCJxXCI6XCJwXCIscj17fTtpZighRihpKSl7ci4kc2VhcmNoX2VuZ2luZT1pO3ZhciBzPW8/Z2Uoby5yZWZlcnJlcixlKTpcIlwiO3MubGVuZ3RoJiYoci5waF9rZXl3b3JkPXMpfXJldHVybiByfWZ1bmN0aW9uIGNvKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX1mdW5jdGlvbiBmbygpe3JldHVybihudWxsPT1vP3ZvaWQgMDpvLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9ZnVuY3Rpb24gcG8odCxpKXt2YXIgZT10P090KFtdLG5vLGl8fFtdKTpbXSxyPW51bGw9PWE/dm9pZCAwOmEuaHJlZi5zdWJzdHJpbmcoMCwxZTMpO3JldHVybntyOmZvKCkuc3Vic3RyaW5nKDAsMWUzKSx1OnI/X2UocixlLGFvKTp2b2lkIDB9fWZ1bmN0aW9uIGdvKHQpe3ZhciBpLHtyOmUsdTpyfT10LHM9eyRyZWZlcnJlcjplLCRyZWZlcnJpbmdfZG9tYWluOm51bGw9PWU/dm9pZCAwOlwiJGRpcmVjdFwiPT1lP1wiJGRpcmVjdFwiOm51bGw9PShpPWZlKGUpKT92b2lkIDA6aS5ob3N0fTtpZihyKXtzLiRjdXJyZW50X3VybD1yO3ZhciBuPWZlKHIpO3MuJGhvc3Q9bnVsbD09bj92b2lkIDA6bi5ob3N0LHMuJHBhdGhuYW1lPW51bGw9PW4/dm9pZCAwOm4ucGF0aG5hbWU7dmFyIG89aG8ocik7TXQocyxvKX1pZihlKXt2YXIgYT12byhlKTtNdChzLGEpfXJldHVybiBzfWZ1bmN0aW9uIF9vKCl7dHJ5e3JldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmV9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBtbygpe3RyeXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiB5byhpLGUpe2lmKCFkKXJldHVybnt9O3ZhciByLHMsbixvPWk/T3QoW10sbm8sZXx8W10pOltdLFtsLHVdPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8ZW8ubGVuZ3RoO2krKyl7dmFyW2Uscl09ZW9baV0scz1lLmV4ZWModCksbj1zJiYoUihyKT9yKHMsdCk6cik7aWYobilyZXR1cm4gbn1yZXR1cm5bXCJcIixcIlwiXX0oZCk7cmV0dXJuIE10KGp0KHskb3M6bCwkb3NfdmVyc2lvbjp1LCRicm93c2VyOlpuKGQsbmF2aWdhdG9yLnZlbmRvciksJGRldmljZTpybyhkKSwkZGV2aWNlX3R5cGU6KHM9ZCxuPXJvKHMpLG49PT1jbnx8bj09PXZufHxcIktvYm9cIj09PW58fFwiS2luZGxlIEZpcmVcIj09PW58fG49PT1Cbj9kbjpuPT09TW58fG49PT1Gbnx8bj09PU9ufHxuPT09VW4/XCJDb25zb2xlXCI6bj09PXBuP1wiV2VhcmFibGVcIjpuP2xuOlwiRGVza3RvcFwiKSwkdGltZXpvbmU6X28oKSwkdGltZXpvbmVfb2Zmc2V0Om1vKCl9KSx7JGN1cnJlbnRfdXJsOl9lKG51bGw9PWE/dm9pZCAwOmEuaHJlZixvLGFvKSwkaG9zdDpudWxsPT1hP3ZvaWQgMDphLmhvc3QsJHBhdGhuYW1lOm51bGw9PWE/dm9pZCAwOmEucGF0aG5hbWUsJHJhd191c2VyX2FnZW50OmQubGVuZ3RoPjFlMz9kLnN1YnN0cmluZygwLDk5NykrXCIuLi5cIjpkLCRicm93c2VyX3ZlcnNpb246aW8oZCxuYXZpZ2F0b3IudmVuZG9yKSwkYnJvd3Nlcl9sYW5ndWFnZTpjbygpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDoocj1jbygpLFwic3RyaW5nXCI9PXR5cGVvZiByP3Iuc3BsaXQoXCItXCIpWzBdOnZvaWQgMCksJHNjcmVlbl9oZWlnaHQ6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4uaGVpZ2h0LCRzY3JlZW5fd2lkdGg6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4ud2lkdGgsJHZpZXdwb3J0X2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LmlubmVySGVpZ2h0LCR2aWV3cG9ydF93aWR0aDpudWxsPT10P3ZvaWQgMDp0LmlubmVyV2lkdGgsJGxpYjpcIndlYlwiLCRsaWJfdmVyc2lvbjpjLkxJQl9WRVJTSU9OLCRpbnNlcnRfaWQ6TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDEwKSwkdGltZTpEYXRlLm5vdygpLzFlM30pfXZhciBibz1FdChcIltGZWF0dXJlRmxhZ3NdXCIpLHdvPVwiJGFjdGl2ZV9mZWF0dXJlX2ZsYWdzXCIsU289XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnc1wiLGtvPVwiJGZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLCRvPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLHhvPVwiJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkXCIsRW89dD0+e3ZhciBpPXt9O2Zvcih2YXJbZSxyXW9mIEZ0KHR8fHt9KSlyJiYoaVtlXT1yKTtyZXR1cm4gaX0sUG89dD0+e3ZhciBpPXQuZmxhZ3M7cmV0dXJuIGk/KHQuZmVhdHVyZUZsYWdzPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhpKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsIT09KGU9aVt0XS52YXJpYW50KSYmdm9pZCAwIT09ZT9lOmlbdF0uZW5hYmxlZF19KSkpLHQuZmVhdHVyZUZsYWdQYXlsb2Fkcz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkuZmlsdGVyKCh0PT5pW3RdLmVuYWJsZWQpKS5maWx0ZXIoKHQ9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZH0pKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsPT0oZT1pW3RdLm1ldGFkYXRhKT92b2lkIDA6ZS5wYXlsb2FkXX0pKSkpOmJvLndhcm4oXCJVc2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSBmZWF0dXJlIGZsYWdzIGVuZHBvaW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIFBvc3RIb2cgc2VydmVyIHRvIHRoZSBsYXRlc3QgdmVyc2lvblwiKSx0fSxSbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5GZWF0dXJlRmxhZ3M9XCJmZWF0dXJlX2ZsYWdzXCIsdC5SZWNvcmRpbmdzPVwicmVjb3JkaW5nc1wiLHR9KHt9KTtjbGFzcyBJb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJlPSExLHRoaXMud2U9ITEsdGhpcy5TZT0hMSx0aGlzLmtlPSExLHRoaXMuJGU9ITEsdGhpcy54ZT0hMSx0aGlzLkVlPSExLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9W119ZmxhZ3MoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcpdGhpcy54ZT0hMDtlbHNle3ZhciB0PSF0aGlzLlBlJiYodGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkKTt0aGlzLlJlKHtkaXNhYmxlRmxhZ3M6dH0pfX1nZXQgaGFzTG9hZGVkRmxhZ3MoKXtyZXR1cm4gdGhpcy53ZX1nZXRGbGFncygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmdldEZsYWdWYXJpYW50cygpKX1nZXRGbGFnc1dpdGhEZXRhaWxzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHBpKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShTbyksZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoJG8pO2lmKCFlJiYhaSlyZXR1cm4gdHx8e307dmFyIHI9TXQoe30sdHx8e30pLHM9Wy4uLm5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKGV8fHt9KSwuLi5PYmplY3Qua2V5cyhpfHx7fSldKV07Zm9yKHZhciBuIG9mIHMpe3ZhciBvLGEsbD1yW25dLHU9bnVsbD09aT92b2lkIDA6aVtuXSxoPUModSk/bnVsbCE9PShvPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJnZvaWQgMCE9PW8mJm86ISF1LGQ9Qyh1KT9sLnZhcmlhbnQ6XCJzdHJpbmdcIj09dHlwZW9mIHU/dTp2b2lkIDAsdj1udWxsPT1lP3ZvaWQgMDplW25dLGM9Zyh7fSxsLHtlbmFibGVkOmgsdmFyaWFudDpoP251bGwhPWQ/ZDpudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQ6dm9pZCAwfSk7aWYoaCE9PShudWxsPT1sP3ZvaWQgMDpsLmVuYWJsZWQpJiYoYy5vcmlnaW5hbF9lbmFibGVkPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCksZCE9PShudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQpJiYoYy5vcmlnaW5hbF92YXJpYW50PW51bGw9PWw/dm9pZCAwOmwudmFyaWFudCksdiljLm1ldGFkYXRhPWcoe30sbnVsbD09bD92b2lkIDA6bC5tZXRhZGF0YSx7cGF5bG9hZDp2LG9yaWdpbmFsX3BheWxvYWQ6bnVsbD09bHx8bnVsbD09KGE9bC5tZXRhZGF0YSk/dm9pZCAwOmEucGF5bG9hZH0pO3Jbbl09Y31yZXR1cm4gdGhpcy5iZXx8KGJvLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgZGV0YWlscyFcIix7ZmxhZ0RldGFpbHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6ZSxmaW5hbERldGFpbHM6cn0pLHRoaXMuYmU9ITApLHJ9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGNpKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShTbyk7aWYoIWkpcmV0dXJuIHR8fHt9O2Zvcih2YXIgZT1NdCh7fSx0KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuYmV8fChiby53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOnQsb3ZlcnJpZGRlbkZsYWdzOmksZmluYWxGbGFnczplfSksdGhpcy5iZT0hMCksZX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoa28pLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRvKTtpZighaSlyZXR1cm4gdHx8e307Zm9yKHZhciBlPU10KHt9LHR8fHt9KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuYmV8fChiby53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6aSxmaW5hbFBheWxvYWRzOmV9KSx0aGlzLmJlPSEwKSxlfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMua2V8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuUGV8fCh0aGlzLlBlPXNldFRpbWVvdXQoKCgpPT57dGhpcy5SZSgpfSksNSkpfUllKCl7Y2xlYXJUaW1lb3V0KHRoaXMuUGUpLHRoaXMuUGU9dm9pZCAwfWVuc3VyZUZsYWdzTG9hZGVkKCl7dGhpcy53ZXx8dGhpcy5TZXx8dGhpcy5QZXx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHQpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9dH1zZXRSZWxvYWRpbmdQYXVzZWQodCl7dGhpcy5rZT10fVJlKHQpe3ZhciBpO2lmKHRoaXMuSWUoKSwhdGhpcy5faW5zdGFuY2UuTCgpKWlmKHRoaXMuU2UpdGhpcy4kZT0hMDtlbHNle3ZhciBlPXt0b2tlbjp0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksZ3JvdXBzOnRoaXMuX2luc3RhbmNlLmdldEdyb3VwcygpLCRhbm9uX2Rpc3RpbmN0X2lkOnRoaXMuJGFub25fZGlzdGluY3RfaWQscGVyc29uX3Byb3BlcnRpZXM6Zyh7fSwobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSx0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoZ2kpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoX2kpfTsobnVsbCE9dCYmdC5kaXNhYmxlRmxhZ3N8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3MpJiYoZS5kaXNhYmxlX2ZsYWdzPSEwKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcscz1yP1wiL2ZsYWdzLz92PTJcIjpcIi9mbGFncy8/dj0yJmNvbmZpZz10cnVlXCIsbj10aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz9cIiZvbmx5X2V2YWx1YXRlX3N1cnZleV9mZWF0dXJlX2ZsYWdzPXRydWVcIjpcIlwiLG89dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHMrbik7ciYmKGUudGltZXpvbmU9X28oKSksdGhpcy5TZT0hMCx0aGlzLl9pbnN0YW5jZS5UZSh7bWV0aG9kOlwiUE9TVFwiLHVybDpvLGRhdGE6ZSxjb21wcmVzc2lvbjp0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZGUuQmFzZTY0LHRpbWVvdXQ6dGhpcy5faW5zdGFuY2UuY29uZmlnLmZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6dD0+e3ZhciBpLHIscz0hMDsoMjAwPT09dC5zdGF0dXNDb2RlJiYodGhpcy4kZXx8KHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwKSxzPSExKSx0aGlzLlNlPSExLHRoaXMueGUpfHwodGhpcy54ZT0hMCx0aGlzLl9pbnN0YW5jZS5DZShudWxsIT09KHI9dC5qc29uKSYmdm9pZCAwIT09cj9yOnt9KSk7aWYoIWUuZGlzYWJsZV9mbGFnc3x8dGhpcy4kZSlpZih0aGlzLkVlPSFzLHQuanNvbiYmbnVsbCE9KGk9dC5qc29uLnF1b3RhTGltaXRlZCkmJmkuaW5jbHVkZXMoUm8uRmVhdHVyZUZsYWdzKSliby53YXJuKFwiWW91IGhhdmUgaGl0IHlvdXIgZmVhdHVyZSBmbGFncyBxdW90YSBsaW1pdCwgYW5kIHdpbGwgbm90IGJlIGFibGUgdG8gbG9hZCBmZWF0dXJlIGZsYWdzIHVudGlsIHRoZSBxdW90YSBpcyByZXNldC4gIFBsZWFzZSB2aXNpdCBodHRwczovL3Bvc3Rob2cuY29tL2RvY3MvYmlsbGluZy9saW1pdHMtYWxlcnRzIHRvIGxlYXJuIG1vcmUuXCIpO2Vsc2V7dmFyIG47aWYoIWUuZGlzYWJsZV9mbGFncyl0aGlzLnJlY2VpdmVkRmVhdHVyZUZsYWdzKG51bGwhPT0obj10Lmpzb24pJiZ2b2lkIDAhPT1uP246e30scyk7dGhpcy4kZSYmKHRoaXMuJGU9ITEsdGhpcy5SZSgpKX19fSl9fWdldEZlYXR1cmVGbGFnKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMud2V8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpW3RdLHI9XCJcIitlLHM9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHhvKXx8dm9pZCAwLG49dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGJpKXx8e307aWYoKGkuc2VuZF9ldmVudHx8IShcInNlbmRfZXZlbnRcImluIGkpKSYmKCEodCBpbiBuKXx8IW5bdF0uaW5jbHVkZXMocikpKXt2YXIgbyxhLGwsdSxoLGQsdixjLGY7UChuW3RdKT9uW3RdLnB1c2gocik6blt0XT1bcl0sbnVsbD09KG89dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxvLnJlZ2lzdGVyKHtbYmldOm59KTt2YXIgcD10aGlzLmdldEZlYXR1cmVGbGFnRGV0YWlscyh0KSxnPXskZmVhdHVyZV9mbGFnOnQsJGZlYXR1cmVfZmxhZ19yZXNwb25zZTplLCRmZWF0dXJlX2ZsYWdfcGF5bG9hZDp0aGlzLmdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXx8bnVsbCwkZmVhdHVyZV9mbGFnX3JlcXVlc3RfaWQ6cywkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9yZXNwb25zZToobnVsbD09KGE9dGhpcy5faW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fG51bGw9PShhPWEuZmVhdHVyZUZsYWdzKT92b2lkIDA6YVt0XSl8fG51bGwsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcGF5bG9hZDoobnVsbD09KGw9dGhpcy5faW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fG51bGw9PShsPWwuZmVhdHVyZUZsYWdQYXlsb2Fkcyk/dm9pZCAwOmxbdF0pfHxudWxsLCR1c2VkX2Jvb3RzdHJhcF92YWx1ZTohdGhpcy5FZX07QyhudWxsPT1wfHxudWxsPT0odT1wLm1ldGFkYXRhKT92b2lkIDA6dS52ZXJzaW9uKXx8KGcuJGZlYXR1cmVfZmxhZ192ZXJzaW9uPXAubWV0YWRhdGEudmVyc2lvbik7dmFyIF8sbT1udWxsIT09KGg9bnVsbD09cHx8bnVsbD09KGQ9cC5yZWFzb24pP3ZvaWQgMDpkLmRlc2NyaXB0aW9uKSYmdm9pZCAwIT09aD9oOm51bGw9PXB8fG51bGw9PSh2PXAucmVhc29uKT92b2lkIDA6di5jb2RlO2lmKG0mJihnLiRmZWF0dXJlX2ZsYWdfcmVhc29uPW0pLG51bGwhPXAmJm51bGwhPShjPXAubWV0YWRhdGEpJiZjLmlkJiYoZy4kZmVhdHVyZV9mbGFnX2lkPXAubWV0YWRhdGEuaWQpLEMobnVsbD09cD92b2lkIDA6cC5vcmlnaW5hbF92YXJpYW50KSYmQyhudWxsPT1wP3ZvaWQgMDpwLm9yaWdpbmFsX2VuYWJsZWQpfHwoZy4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3Jlc3BvbnNlPUMocC5vcmlnaW5hbF92YXJpYW50KT9wLm9yaWdpbmFsX2VuYWJsZWQ6cC5vcmlnaW5hbF92YXJpYW50KSxudWxsIT1wJiZudWxsIT0oZj1wLm1ldGFkYXRhKSYmZi5vcmlnaW5hbF9wYXlsb2FkKWcuJGZlYXR1cmVfZmxhZ19vcmlnaW5hbF9wYXlsb2FkPW51bGw9PXB8fG51bGw9PShfPXAubWV0YWRhdGEpP3ZvaWQgMDpfLm9yaWdpbmFsX3BheWxvYWQ7dGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCIsZyl9cmV0dXJuIGV9Ym8ud2FybignZ2V0RmVhdHVyZUZsYWcgZm9yIGtleSBcIicrdCtcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWdldEZlYXR1cmVGbGFnRGV0YWlscyh0KXtyZXR1cm4gdGhpcy5nZXRGbGFnc1dpdGhEZXRhaWxzKClbdF19Z2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpe3JldHVybiB0aGlzLmdldEZsYWdQYXlsb2FkcygpW3RdfWdldFJlbW90ZUNvbmZpZ1BheWxvYWQodCxpKXt2YXIgZT10aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW47dGhpcy5faW5zdGFuY2UuVGUoe21ldGhvZDpcIlBPU1RcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2ZsYWdzLz92PTImY29uZmlnPXRydWVcIiksZGF0YTp7ZGlzdGluY3RfaWQ6dGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdG9rZW46ZX0sY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmRlLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixzPW51bGw9PShyPWUuanNvbik/dm9pZCAwOnIuZmVhdHVyZUZsYWdQYXlsb2FkcztpKChudWxsPT1zP3ZvaWQgMDpzW3RdKXx8dm9pZCAwKX19KX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMud2V8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZlYXR1cmVGbGFnKHQsaSk7cmV0dXJuIEMoZSk/dm9pZCAwOiEhZX1iby53YXJuKCdpc0ZlYXR1cmVFbmFibGVkIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLnB1c2godCl9cmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz10aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5maWx0ZXIoKGk9PmkhPT10KSl9cmVjZWl2ZWRGZWF0dXJlRmxhZ3ModCxpKXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dGhpcy53ZT0hMDt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpLHI9dGhpcy5nZXRGbGFnUGF5bG9hZHMoKSxzPXRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpOyFmdW5jdGlvbih0LGksZSxyLHMpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09cyYmKHM9e30pO3ZhciBuPVBvKHQpLG89bi5mbGFncyxhPW4uZmVhdHVyZUZsYWdzLGw9bi5mZWF0dXJlRmxhZ1BheWxvYWRzO2lmKGEpe3ZhciB1PXQucmVxdWVzdElkO2lmKFAoYSkpe2JvLndhcm4oXCJ2MSBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBsYXRlc3QgdmVyc2lvbi5cIik7dmFyIGg9e307aWYoYSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyloW2FbZF1dPSEwO2kmJmkucmVnaXN0ZXIoe1t3b106YSxbY2ldOmh9KX1lbHNle3ZhciB2PWEsYz1sLGY9bzt0LmVycm9yc1doaWxlQ29tcHV0aW5nRmxhZ3MmJih2PWcoe30sZSx2KSxjPWcoe30scixjKSxmPWcoe30scyxmKSksaSYmaS5yZWdpc3RlcihnKHtbd29dOk9iamVjdC5rZXlzKEVvKHYpKSxbY2ldOnZ8fHt9LFtrb106Y3x8e30sW3BpXTpmfHx7fX0sdT97W3hvXTp1fTp7fSkpfX19KHQsdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UsZSxyLHMpLHRoaXMuTWUoaSl9fW92ZXJyaWRlKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLGJvLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOnQsc3VwcHJlc3NXYXJuaW5nOml9KX1vdmVycmlkZUZlYXR1cmVGbGFncyh0KXtpZighdGhpcy5faW5zdGFuY2UuX19sb2FkZWR8fCF0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSlyZXR1cm4gYm8udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmZlYXR1cmVGbGFncy5vdmVycmlkZUZlYXR1cmVGbGFnc1wiKTtpZighMT09PXQpcmV0dXJuIHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoU28pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoJG8pLHZvaWQgdGhpcy5NZSgpO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoXCJmbGFnc1wiaW4gdHx8XCJwYXlsb2Fkc1wiaW4gdCkpe3ZhciBpLGU9dDtpZih0aGlzLmJlPUJvb2xlYW4obnVsbCE9PShpPWUuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09aSYmaSksXCJmbGFnc1wiaW4gZSlpZighMT09PWUuZmxhZ3MpdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3RlcihTbyk7ZWxzZSBpZihlLmZsYWdzKWlmKFAoZS5mbGFncykpe2Zvcih2YXIgcj17fSxzPTA7czxlLmZsYWdzLmxlbmd0aDtzKyspcltlLmZsYWdzW3NdXT0hMDt0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1NvXTpyfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1NvXTplLmZsYWdzfSk7cmV0dXJuXCJwYXlsb2Fkc1wiaW4gZSYmKCExPT09ZS5wYXlsb2Fkcz90aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKCRvKTplLnBheWxvYWRzJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7WyRvXTplLnBheWxvYWRzfSkpLHZvaWQgdGhpcy5NZSgpfXRoaXMuTWUoKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLmFkZEZlYXR1cmVGbGFnc0hhbmRsZXIodCksdGhpcy53ZSl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMuT2UoKTt0KGksZSl9cmV0dXJuKCk9PnRoaXMucmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt2YXIgcixzPSh0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmkpfHxbXSkuZmluZCgoaT0+aS5mbGFnS2V5PT09dCkpLG49e1tcIiRmZWF0dXJlX2Vucm9sbG1lbnQvXCIrdF06aX0sbz17JGZlYXR1cmVfZmxhZzp0LCRmZWF0dXJlX2Vucm9sbG1lbnQ6aSwkc2V0Om59O3MmJihvLiRlYXJseV9hY2Nlc3NfZmVhdHVyZV9uYW1lPXMubmFtZSksZSYmKG8uJGZlYXR1cmVfZW5yb2xsbWVudF9zdGFnZT1lKSx0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixvKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuLCExKTt2YXIgYT1nKHt9LHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkse1t0XTppfSk7bnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbd29dOk9iamVjdC5rZXlzKEVvKGEpKSxbY2ldOmF9KSx0aGlzLk1lKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShmaSkscz1lP1wiJlwiK2UubWFwKCh0PT5cInN0YWdlPVwiK3QpKS5qb2luKFwiJlwiKTpcIlwiO2lmKHImJiFpKXJldHVybiB0KHIpO3RoaXMuX2luc3RhbmNlLlRlKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9lYXJseV9hY2Nlc3NfZmVhdHVyZXMvP3Rva2VuPVwiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitzKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57dmFyIGUscjtpZihpLmpzb24pe3ZhciBzPWkuanNvbi5lYXJseUFjY2Vzc0ZlYXR1cmVzO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUudW5yZWdpc3RlcihmaSksbnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbZmldOnN9KSx0KHMpfX19KX1PZSgpe3ZhciB0PXRoaXMuZ2V0RmxhZ3MoKSxpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCk7cmV0dXJue2ZsYWdzOnQuZmlsdGVyKCh0PT5pW3RdKSksZmxhZ1ZhcmlhbnRzOk9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XSkpLnJlZHVjZSgoKHQsZSk9Pih0W2VdPWlbZV0sdCkpLHt9KX19TWUodCl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMuT2UoKTt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5mb3JFYWNoKChyPT5yKGksZSx7ZXJyb3JzTG9hZGluZzp0fSkpKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGdpKXx8e307dGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1tnaV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKGdpKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoX2kpfHx7fTswIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57ZVtpXT1nKHt9LGVbaV0sdFtpXSksZGVsZXRlIHRbaV19KSksdGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1tfaV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KXtpZih0KXt2YXIgaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoX2kpfHx7fTt0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcih7W19pXTpnKHt9LGkse1t0XTp7fX0pfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKF9pKX1yZXNldCgpe3RoaXMud2U9ITEsdGhpcy5TZT0hMSx0aGlzLmtlPSExLHRoaXMuJGU9ITEsdGhpcy54ZT0hMSx0aGlzLkVlPSExLHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwLHRoaXMuSWUoKSx0aGlzLmJlPSExfX12YXIgVG89W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3MgQ297Y29uc3RydWN0b3IodCxpKXt0aGlzLkE9dCx0aGlzLnByb3BzPXt9LHRoaXMuRmU9ITEsdGhpcy5BZT0odD0+e3ZhciBpPVwiXCI7cmV0dXJuIHQudG9rZW4mJihpPXQudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSx0LnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIit0LnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIitpK1wiX3Bvc3Rob2dcIn0pKHQpLHRoaXMuaXQ9dGhpcy5EZSh0KSx0aGlzLmxvYWQoKSx0LmRlYnVnJiZ4dC5pbmZvKFwiUGVyc2lzdGVuY2UgbG9hZGVkXCIsdC5wZXJzaXN0ZW5jZSxnKHt9LHRoaXMucHJvcHMpKSx0aGlzLnVwZGF0ZV9jb25maWcodCx0LGkpLHRoaXMuc2F2ZSgpfWlzRGlzYWJsZWQoKXtyZXR1cm4hIXRoaXMuamV9RGUodCl7LTE9PT1Uby5pbmRleE9mKHQucGVyc2lzdGVuY2UudG9Mb3dlckNhc2UoKSkmJih4dC5jcml0aWNhbChcIlVua25vd24gcGVyc2lzdGVuY2UgdHlwZSBcIit0LnBlcnNpc3RlbmNlK1wiOyBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlK2Nvb2tpZVwiKSx0LnBlcnNpc3RlbmNlPVwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiKTt2YXIgaT10LnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJsb2NhbHN0b3JhZ2VcIj09PWkmJkxlLkcoKT9MZTpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PWkmJlVlLkcoKT9VZTpcInNlc3Npb25zdG9yYWdlXCI9PT1pJiZIZS5HKCk/SGU6XCJtZW1vcnlcIj09PWk/cWU6XCJjb29raWVcIj09PWk/RGU6VWUuRygpP1VlOkRlfXByb3BlcnRpZXMoKXt2YXIgdD17fTtyZXR1cm4gQ3QodGhpcy5wcm9wcywoZnVuY3Rpb24oaSxlKXtpZihlPT09Y2kmJkkoaSkpZm9yKHZhciByPU9iamVjdC5rZXlzKGkpLG49MDtuPHIubGVuZ3RoO24rKyl0W1wiJGZlYXR1cmUvXCIrcltuXV09aVtyW25dXTtlbHNlIGE9ZSxsPSExLChGKG89VGkpP2w6cyYmby5pbmRleE9mPT09cz8tMSE9by5pbmRleE9mKGEpOihDdChvLChmdW5jdGlvbih0KXtpZihsfHwobD10PT09YSkpcmV0dXJuIEl0fSkpLGwpKXx8KHRbZV09aSk7dmFyIG8sYSxsfSkpLHR9bG9hZCgpe2lmKCF0aGlzLmplKXt2YXIgdD10aGlzLml0LksodGhpcy5BZSk7dCYmKHRoaXMucHJvcHM9TXQoe30sdCkpfX1zYXZlKCl7dGhpcy5qZXx8dGhpcy5pdC5ZKHRoaXMuQWUsdGhpcy5wcm9wcyx0aGlzLkxlLHRoaXMuTmUsdGhpcy5VZSx0aGlzLkEuZGVidWcpfXJlbW92ZSgpe3RoaXMuaXQuWCh0aGlzLkFlLCExKSx0aGlzLml0LlgodGhpcy5BZSwhMCl9Y2xlYXIoKXt0aGlzLnJlbW92ZSgpLHRoaXMucHJvcHM9e319cmVnaXN0ZXJfb25jZSh0LGksZSl7aWYoSSh0KSl7QyhpKSYmKGk9XCJOb25lXCIpLHRoaXMuTGU9QyhlKT90aGlzLnplOmU7dmFyIHI9ITE7aWYoQ3QodCwoKHQsZSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnByb3BzW2VdIT09aXx8KHRoaXMucHJvcHNbZV09dCxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3Rlcih0LGkpe2lmKEkodCkpe3RoaXMuTGU9QyhpKT90aGlzLnplOmk7dmFyIGU9ITE7aWYoQ3QodCwoKGkscik9Pnt0Lmhhc093blByb3BlcnR5KHIpJiZ0aGlzLnByb3BzW3JdIT09aSYmKHRoaXMucHJvcHNbcl09aSxlPSEwKX0pKSxlKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX11bnJlZ2lzdGVyKHQpe3QgaW4gdGhpcy5wcm9wcyYmKGRlbGV0ZSB0aGlzLnByb3BzW3RdLHRoaXMuc2F2ZSgpKX11cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCl7aWYoIXRoaXMuRmUpe3ZhciB0PXVvKHRoaXMuQS5jdXN0b21fY2FtcGFpZ25fcGFyYW1zLHRoaXMuQS5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLkEuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyk7VChqdCh0KSl8fHRoaXMucmVnaXN0ZXIodCksdGhpcy5GZT0hMH19dXBkYXRlX3NlYXJjaF9rZXl3b3JkKCl7dmFyIHQ7dGhpcy5yZWdpc3RlcigodD1udWxsPT1vP3ZvaWQgMDpvLnJlZmVycmVyKT92byh0KTp7fSl9dXBkYXRlX3JlZmVycmVyX2luZm8oKXt2YXIgdDt0aGlzLnJlZ2lzdGVyX29uY2UoeyRyZWZlcnJlcjpmbygpLCRyZWZlcnJpbmdfZG9tYWluOm51bGwhPW8mJm8ucmVmZXJyZXImJihudWxsPT0odD1mZShvLnJlZmVycmVyKSk/dm9pZCAwOnQuaG9zdCl8fFwiJGRpcmVjdFwifSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1skaV18fHRoaXMucHJvcHNbeGldfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1tFaV06cG8odGhpcy5BLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuQS5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKX0sdm9pZCAwKX1nZXRfaW5pdGlhbF9wcm9wcygpe3ZhciB0PXt9O0N0KFt4aSwkaV0sKGk9Pnt2YXIgZT10aGlzLnByb3BzW2ldO2UmJkN0KGUsKGZ1bmN0aW9uKGksZSl7dFtcIiRpbml0aWFsX1wiK3coZSldPWl9KSl9KSk7dmFyIGksZSxyPXRoaXMucHJvcHNbRWldO2lmKHIpe3ZhciBzPShpPWdvKHIpLGU9e30sQ3QoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrdyhpKV09dH0pKSxlKTtNdCh0LHMpfXJldHVybiB0fXNhZmVfbWVyZ2UodCl7cmV0dXJuIEN0KHRoaXMucHJvcHMsKGZ1bmN0aW9uKGksZSl7ZSBpbiB0fHwodFtlXT1pKX0pKSx0fXVwZGF0ZV9jb25maWcodCxpLGUpe2lmKHRoaXMuemU9dGhpcy5MZT10LmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuc2V0X2Rpc2FibGVkKHQuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8ISFlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4odC5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUodC5zZWN1cmVfY29va2llKSx0LnBlcnNpc3RlbmNlIT09aS5wZXJzaXN0ZW5jZSl7dmFyIHI9dGhpcy5EZSh0KSxzPXRoaXMucHJvcHM7dGhpcy5jbGVhcigpLHRoaXMuaXQ9cix0aGlzLnByb3BzPXMsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZCh0KXt0aGlzLmplPXQsdGhpcy5qZT90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4odCl7dCE9PXRoaXMuTmUmJih0aGlzLk5lPXQsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X3NlY3VyZSh0KXt0IT09dGhpcy5VZSYmKHRoaXMuVWU9dCx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1zZXRfZXZlbnRfdGltZXIodCxpKXt2YXIgZT10aGlzLnByb3BzW1d0XXx8e307ZVt0XT1pLHRoaXMucHJvcHNbV3RdPWUsdGhpcy5zYXZlKCl9cmVtb3ZlX2V2ZW50X3RpbWVyKHQpe3ZhciBpPSh0aGlzLnByb3BzW1d0XXx8e30pW3RdO3JldHVybiBDKGkpfHwoZGVsZXRlIHRoaXMucHJvcHNbV3RdW3RdLHRoaXMuc2F2ZSgpKSxpfWdldF9wcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5wcm9wc1t0XX1zZXRfcHJvcGVydHkodCxpKXt0aGlzLnByb3BzW3RdPWksdGhpcy5zYXZlKCl9fXZhciBNbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5CdXR0b249XCJidXR0b25cIix0LlRhYj1cInRhYlwiLHQuU2VsZWN0b3I9XCJzZWxlY3RvclwiLHR9KHt9KSxPbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ub3BMZWZ0PVwidG9wX2xlZnRcIix0LlRvcFJpZ2h0PVwidG9wX3JpZ2h0XCIsdC5Ub3BDZW50ZXI9XCJ0b3BfY2VudGVyXCIsdC5NaWRkbGVMZWZ0PVwibWlkZGxlX2xlZnRcIix0Lk1pZGRsZVJpZ2h0PVwibWlkZGxlX3JpZ2h0XCIsdC5NaWRkbGVDZW50ZXI9XCJtaWRkbGVfY2VudGVyXCIsdC5MZWZ0PVwibGVmdFwiLHQuQ2VudGVyPVwiY2VudGVyXCIsdC5SaWdodD1cInJpZ2h0XCIsdC5OZXh0VG9UcmlnZ2VyPVwibmV4dF90b190cmlnZ2VyXCIsdH0oe30pLEZvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlBvcG92ZXI9XCJwb3BvdmVyXCIsdC5BUEk9XCJhcGlcIix0LldpZGdldD1cIndpZGdldFwiLHQuRXh0ZXJuYWxTdXJ2ZXk9XCJleHRlcm5hbF9zdXJ2ZXlcIix0fSh7fSksQW89ZnVuY3Rpb24odCl7cmV0dXJuIHQuT3Blbj1cIm9wZW5cIix0Lk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsdC5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsdC5SYXRpbmc9XCJyYXRpbmdcIix0Lkxpbms9XCJsaW5rXCIsdH0oe30pLERvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIix0LkVuZD1cImVuZFwiLHQuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsdC5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIix0fSh7fSksam89ZnVuY3Rpb24odCl7cmV0dXJuIHQuT25jZT1cIm9uY2VcIix0LlJlY3VycmluZz1cInJlY3VycmluZ1wiLHQuQWx3YXlzPVwiYWx3YXlzXCIsdH0oe30pLExvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNIT1dOPVwic3VydmV5IHNob3duXCIsdC5ESVNNSVNTRUQ9XCJzdXJ2ZXkgZGlzbWlzc2VkXCIsdC5TRU5UPVwic3VydmV5IHNlbnRcIix0fSh7fSksTm89ZnVuY3Rpb24odCl7cmV0dXJuIHQuU1VSVkVZX0lEPVwiJHN1cnZleV9pZFwiLHQuU1VSVkVZX05BTUU9XCIkc3VydmV5X25hbWVcIix0LlNVUlZFWV9SRVNQT05TRT1cIiRzdXJ2ZXlfcmVzcG9uc2VcIix0LlNVUlZFWV9JVEVSQVRJT049XCIkc3VydmV5X2l0ZXJhdGlvblwiLHQuU1VSVkVZX0lURVJBVElPTl9TVEFSVF9EQVRFPVwiJHN1cnZleV9pdGVyYXRpb25fc3RhcnRfZGF0ZVwiLHQuU1VSVkVZX1BBUlRJQUxMWV9DT01QTEVURUQ9XCIkc3VydmV5X3BhcnRpYWxseV9jb21wbGV0ZWRcIix0LlNVUlZFWV9TVUJNSVNTSU9OX0lEPVwiJHN1cnZleV9zdWJtaXNzaW9uX2lkXCIsdC5TVVJWRVlfUVVFU1RJT05TPVwiJHN1cnZleV9xdWVzdGlvbnNcIix0LlNVUlZFWV9DT01QTEVURUQ9XCIkc3VydmV5X2NvbXBsZXRlZFwiLHR9KHt9KSxVbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuSW5saW5lPVwiaW5saW5lXCIsdH0oe30pO2NsYXNzIHpve2NvbnN0cnVjdG9yKCl7dGhpcy5xZT17fSx0aGlzLnFlPXt9fW9uKHQsaSl7cmV0dXJuIHRoaXMucWVbdF18fCh0aGlzLnFlW3RdPVtdKSx0aGlzLnFlW3RdLnB1c2goaSksKCk9Pnt0aGlzLnFlW3RdPXRoaXMucWVbdF0uZmlsdGVyKCh0PT50IT09aSkpfX1lbWl0KHQsaSl7Zm9yKHZhciBlIG9mIHRoaXMucWVbdF18fFtdKWUoaSk7Zm9yKHZhciByIG9mIHRoaXMucWVbXCIqXCJdfHxbXSlyKHQsaSl9fWNsYXNzIHFve2NvbnN0cnVjdG9yKHQpe3RoaXMuQmU9bmV3IHpvLHRoaXMuSGU9KHQsaSk9PnRoaXMuV2UodCxpKSYmdGhpcy5HZSh0LGkpJiZ0aGlzLlZlKHQsaSksdGhpcy5XZT0odCxpKT0+bnVsbD09aXx8IWkuZXZlbnR8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KT09PShudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuSmU9bmV3IFNldCx0aGlzLktlPW5ldyBTZXR9aW5pdCgpe3ZhciB0O2lmKCFDKG51bGw9PSh0PXRoaXMuX2luc3RhbmNlKT92b2lkIDA6dC5ZZSkpe3ZhciBpO251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5ZZSgoKHQsaSk9Pnt0aGlzLm9uKHQsaSl9KSl9fXJlZ2lzdGVyKHQpe3ZhciBpLGU7aWYoIUMobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLlllKSYmKHQuZm9yRWFjaCgodD0+e3ZhciBpLGU7bnVsbD09KGk9dGhpcy5LZSl8fGkuYWRkKHQpLG51bGw9PShlPXQuc3RlcHMpfHxlLmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10aGlzLkplKXx8aS5hZGQoKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT0oZT10aGlzLl9pbnN0YW5jZSkmJmUuYXV0b2NhcHR1cmUpKXt2YXIgcixzPW5ldyBTZXQ7dC5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dC5zdGVwcyl8fGkuZm9yRWFjaCgodD0+e251bGwhPXQmJnQuc2VsZWN0b3ImJnMuYWRkKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpfSkpfSkpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKHMpfX1vbih0LGkpe3ZhciBlO251bGwhPWkmJjAhPXQubGVuZ3RoJiYodGhpcy5KZS5oYXModCl8fHRoaXMuSmUuaGFzKG51bGw9PWk/dm9pZCAwOmkuZXZlbnQpKSYmdGhpcy5LZSYmKG51bGw9PShlPXRoaXMuS2UpP3ZvaWQgMDplLnNpemUpPjAmJnRoaXMuS2UuZm9yRWFjaCgodD0+e3RoaXMuWGUoaSx0KSYmdGhpcy5CZS5lbWl0KFwiYWN0aW9uQ2FwdHVyZWRcIix0Lm5hbWUpfSkpfVFlKHQpe3RoaXMub25BY3Rpb24oXCJhY3Rpb25DYXB0dXJlZFwiLChpPT50KGkpKSl9WGUodCxpKXtpZihudWxsPT0obnVsbD09aT92b2lkIDA6aS5zdGVwcykpcmV0dXJuITE7Zm9yKHZhciBlIG9mIGkuc3RlcHMpaWYodGhpcy5IZSh0LGUpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuQmUub24odCxpKX1HZSh0LGkpe2lmKG51bGwhPWkmJmkudXJsKXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJGN1cnJlbnRfdXJsO2lmKCFyfHxcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZighcW8uWmUocixudWxsPT1pP3ZvaWQgMDppLnVybCwobnVsbD09aT92b2lkIDA6aS51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBaZShpLGUscil7c3dpdGNoKHIpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZlbihpLGUpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGU9PT1pO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHM9cW8udHIoZSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gZW4oaSxzKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgdHIodCl7cmV0dXJuIHQucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCsqPy5dL2csXCJcXFxcJCZcIikucmVwbGFjZSgvLS9nLFwiXFxcXHgyZFwiKX1WZSh0LGkpe2lmKChudWxsIT1pJiZpLmhyZWZ8fG51bGwhPWkmJmkudGFnX25hbWV8fG51bGwhPWkmJmkudGV4dCkmJiF0aGlzLmlyKHQpLnNvbWUoKHQ9PiEobnVsbCE9aSYmaS5ocmVmJiYhcW8uWmUodC5ocmVmfHxcIlwiLG51bGw9PWk/dm9pZCAwOmkuaHJlZiwobnVsbD09aT92b2lkIDA6aS5ocmVmX21hdGNoaW5nKXx8XCJleGFjdFwiKSkmJigobnVsbD09aXx8IWkudGFnX25hbWV8fHQudGFnX25hbWU9PT0obnVsbD09aT92b2lkIDA6aS50YWdfbmFtZSkpJiYhKG51bGwhPWkmJmkudGV4dCYmIXFvLlplKHQudGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikmJiFxby5aZSh0LiRlbF90ZXh0fHxcIlwiLG51bGw9PWk/dm9pZCAwOmkudGV4dCwobnVsbD09aT92b2lkIDA6aS50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSkpKSkpcmV0dXJuITE7aWYobnVsbCE9aSYmaS5zZWxlY3Rvcil7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRlbGVtZW50X3NlbGVjdG9ycztpZighcilyZXR1cm4hMTtpZighci5pbmNsdWRlcyhudWxsPT1pP3ZvaWQgMDppLnNlbGVjdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1pcih0KXtyZXR1cm4gbnVsbD09KG51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHN9fXZhciBCbz1FdChcIltTdXJ2ZXlzXVwiKTt2YXIgSG89XCJzZWVuU3VydmV5X1wiLFdvPSh0LGkpPT57dmFyIGU9XCIkc3VydmV5X1wiK2krXCIvXCIrdC5pZDtyZXR1cm4gdC5jdXJyZW50X2l0ZXJhdGlvbiYmdC5jdXJyZW50X2l0ZXJhdGlvbj4wJiYoZT1cIiRzdXJ2ZXlfXCIraStcIi9cIit0LmlkK1wiL1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGV9LEdvPXQ9Pnt2YXIgaT1cIlwiK0hvK3QuaWQ7cmV0dXJuIHQuY3VycmVudF9pdGVyYXRpb24mJnQuY3VycmVudF9pdGVyYXRpb24+MCYmKGk9XCJcIitIbyt0LmlkK1wiX1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGl9LFZvPVtGby5Qb3BvdmVyLEZvLldpZGdldCxGby5BUEldLEpvPXtpZ25vcmVDb25kaXRpb25zOiExLGlnbm9yZURlbGF5OiExLGRpc3BsYXlUeXBlOlVvLlBvcG92ZXJ9O2NsYXNzIEtve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5lcj1uZXcgTWFwLHRoaXMucnI9bmV3IE1hcH1yZWdpc3Rlcih0KXt2YXIgaTtDKG51bGw9PShpPXRoaXMuX2luc3RhbmNlKT92b2lkIDA6aS5ZZSl8fCh0aGlzLnNyKHQpLHRoaXMubnIodCkpfW5yKHQpe3ZhciBpPXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5hY3Rpb25zKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuYWN0aW9ucyl8fG51bGw9PShlPWUudmFsdWVzKT92b2lkIDA6ZS5sZW5ndGgpPjB9KSk7aWYoMCE9PWkubGVuZ3RoKXtpZihudWxsPT10aGlzLmFyKXt0aGlzLmFyPW5ldyBxbyh0aGlzLl9pbnN0YW5jZSksdGhpcy5hci5pbml0KCk7dGhpcy5hci5RZSgodD0+e3RoaXMub25BY3Rpb24odCl9KSl9aS5mb3JFYWNoKCh0PT57dmFyIGksZSxyLHMsbjt0LmNvbmRpdGlvbnMmJm51bGwhPShpPXQuY29uZGl0aW9ucykmJmkuYWN0aW9ucyYmbnVsbCE9KGU9dC5jb25kaXRpb25zKSYmbnVsbCE9KGU9ZS5hY3Rpb25zKSYmZS52YWx1ZXMmJihudWxsPT0ocj10LmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLmFjdGlvbnMpfHxudWxsPT0ocj1yLnZhbHVlcyk/dm9pZCAwOnIubGVuZ3RoKT4wJiYobnVsbD09KHM9dGhpcy5hcil8fHMucmVnaXN0ZXIodC5jb25kaXRpb25zLmFjdGlvbnMudmFsdWVzKSxudWxsPT0obj10LmNvbmRpdGlvbnMpfHxudWxsPT0obj1uLmFjdGlvbnMpfHxudWxsPT0obj1uLnZhbHVlcyl8fG4uZm9yRWFjaCgoaT0+e2lmKGkmJmkubmFtZSl7dmFyIGU9dGhpcy5yci5nZXQoaS5uYW1lKTtlJiZlLnB1c2godC5pZCksdGhpcy5yci5zZXQoaS5uYW1lLGV8fFt0LmlkXSl9fSkpKX0pKX19c3IodCl7dmFyIGk7aWYoMCE9PXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5ldmVudHMpJiYobnVsbD09KGU9dC5jb25kaXRpb25zKXx8bnVsbD09KGU9ZS5ldmVudHMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpLmxlbmd0aCl7bnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxpLlllKCgodCxpKT0+e3RoaXMub25FdmVudCh0LGkpfSkpLHQuZm9yRWFjaCgodD0+e3ZhciBpO251bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuZXZlbnRzKXx8bnVsbD09KGk9aS52YWx1ZXMpfHxpLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMuZXIuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMuZXIuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKX0pKX19b25FdmVudCh0LGkpe3ZhciBlLHIscz0obnVsbD09KGU9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oZT1lLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5wcm9wc1t5aV0pfHxbXTtpZihMby5TSE9XTj09PXQmJmkmJnMubGVuZ3RoPjApe3ZhciBuO0JvLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbWF0Y2hlZCwgcmVtb3Zpbmcgc3VydmV5IGZyb20gYWN0aXZhdGVkIHN1cnZleXNcIix7ZXZlbnQ6dCxldmVudFBheWxvYWQ6aSxleGlzdGluZ0FjdGl2YXRlZFN1cnZleXM6c30pO3ZhciBvPW51bGw9PWl8fG51bGw9PShuPWkucHJvcGVydGllcyk/dm9pZCAwOm4uJHN1cnZleV9pZDtpZihvKXt2YXIgYT1zLmluZGV4T2Yobyk7YT49MCYmKHMuc3BsaWNlKGEsMSksdGhpcy5scihzKSl9fWVsc2UgaWYodGhpcy5lci5oYXModCkpe0JvLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbmFtZSBtYXRjaGVkXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksc3VydmV5czp0aGlzLmVyLmdldCh0KX0pO3ZhciBsPVtdO251bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5nZXRTdXJ2ZXlzKChpPT57bD1pLmZpbHRlcigoaT0+e3ZhciBlO3JldHVybiBudWxsPT0oZT10aGlzLmVyLmdldCh0KSk/dm9pZCAwOmUuaW5jbHVkZXMoaS5pZCl9KSl9KSk7dmFyIHU9bC5maWx0ZXIoKGU9Pnt2YXIgcixzPW51bGw9PShyPWUuY29uZGl0aW9ucyl8fG51bGw9PShyPXIuZXZlbnRzKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmZpbmQoKGk9PmkubmFtZT09PXQpKTtyZXR1cm4hIXMmJighcy5wcm9wZXJ0eUZpbHRlcnN8fE9iamVjdC5lbnRyaWVzKHMucHJvcGVydHlGaWx0ZXJzKS5ldmVyeSgodD0+e3ZhciBlLFtyLHNdPXQsbj1udWxsPT1pfHxudWxsPT0oZT1pLnByb3BlcnRpZXMpP3ZvaWQgMDplW3JdO2lmKEMobil8fEYobikpcmV0dXJuITE7dmFyIG89W1N0cmluZyhuKV0sYT1zbltzLm9wZXJhdG9yXTtyZXR1cm4gYT9hKHMudmFsdWVzLG8pOihCby53YXJuKFwiVW5rbm93biBwcm9wZXJ0eSBjb21wYXJpc29uIG9wZXJhdG9yOiBcIitzLm9wZXJhdG9yKSwhMSl9KSkpfSkpO3RoaXMubHIocy5jb25jYXQodS5tYXAoKHQ9PnQuaWQpKXx8W10pKX19b25BY3Rpb24odCl7dmFyIGksZT0obnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t5aV0pfHxbXTt0aGlzLnJyLmhhcyh0KSYmdGhpcy5scihlLmNvbmNhdCh0aGlzLnJyLmdldCh0KXx8W10pKX1scih0KXt2YXIgaTtCby5pbmZvKFwidXBkYXRpbmcgYWN0aXZhdGVkIHN1cnZleXNcIix7YWN0aXZhdGVkU3VydmV5czp0fSksbnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7W3lpXTpbLi4ubmV3IFNldCh0KV19KX1nZXRTdXJ2ZXlzKCl7dmFyIHQsaT1udWxsPT0odD10aGlzLl9pbnN0YW5jZSl8fG51bGw9PSh0PXQucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LnByb3BzW3lpXTtyZXR1cm4gaXx8W119Z2V0RXZlbnRUb1N1cnZleXMoKXtyZXR1cm4gdGhpcy5lcn11cigpe3JldHVybiB0aGlzLmFyfX1jbGFzcyBZb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmhyPXZvaWQgMCx0aGlzLl9zdXJ2ZXlNYW5hZ2VyPW51bGwsdGhpcy5kcj0hMSx0aGlzLnZyPSExLHRoaXMuY3I9W10sdGhpcy5faW5zdGFuY2U9dCx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW51bGx9b25SZW1vdGVDb25maWcodCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpe3ZhciBpPXQuc3VydmV5cztpZihBKGkpKXJldHVybiBCby53YXJuKFwiRmxhZ3Mgbm90IGxvYWRlZCB5ZXQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpO3ZhciBlPVAoaSk7dGhpcy5ocj1lP2kubGVuZ3RoPjA6aSxCby5pbmZvKFwiZmxhZ3MgcmVzcG9uc2UgcmVjZWl2ZWQsIGlzU3VydmV5c0VuYWJsZWQ6IFwiK3RoaXMuaHIpLHRoaXMubG9hZElmRW5hYmxlZCgpfX1yZXNldCgpe2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwibGFzdFNlZW5TdXJ2ZXlEYXRlXCIpO2Zvcih2YXIgdD1bXSxpPTA7aTxsb2NhbFN0b3JhZ2UubGVuZ3RoO2krKyl7dmFyIGU9bG9jYWxTdG9yYWdlLmtleShpKTsobnVsbCE9ZSYmZS5zdGFydHNXaXRoKEhvKXx8bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiaW5Qcm9ncmVzc1N1cnZleV9cIikpJiZ0LnB1c2goZSl9dC5mb3JFYWNoKCh0PT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLnZyKUJvLmluZm8oXCJBbHJlYWR5IGluaXRpYWxpemluZyBzdXJ2ZXlzLCBza2lwcGluZy4uLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpQm8uaW5mbyhcIkRpc2FibGVkLiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpKUJvLmluZm8oXCJOb3QgbG9hZGluZyBzdXJ2ZXlzIGluIGNvb2tpZWxlc3MgbW9kZSB3aXRob3V0IGNvbnNlbnQuXCIpO2Vsc2V7dmFyIHQ9bnVsbD09dj92b2lkIDA6di5fX1Bvc3Rob2dFeHRlbnNpb25zX187aWYodCl7aWYoIUModGhpcy5ocil8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5cyl7dmFyIGk9dGhpcy5ocnx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2VuYWJsZV9zdXJ2ZXlzO3RoaXMudnI9ITA7dHJ5e3ZhciBlPXQuZ2VuZXJhdGVTdXJ2ZXlzO2lmKGUpcmV0dXJuIHZvaWQgdGhpcy5wcihlLGkpO3ZhciByPXQubG9hZEV4dGVybmFsRGVwZW5kZW5jeTtpZighcilyZXR1cm4gdm9pZCB0aGlzLmdyKFwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuXCIpO3IodGhpcy5faW5zdGFuY2UsXCJzdXJ2ZXlzXCIsKGU9PntlfHwhdC5nZW5lcmF0ZVN1cnZleXM/dGhpcy5ncihcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsZSk6dGhpcy5wcih0LmdlbmVyYXRlU3VydmV5cyxpKX0pKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmdyKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHN1cnZleXNcIix0KSx0fWZpbmFsbHl7dGhpcy52cj0hMX19fWVsc2UgQm8uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLlwiKX19cHIodCxpKXt0aGlzLl9zdXJ2ZXlNYW5hZ2VyPXQodGhpcy5faW5zdGFuY2UsaSksdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1uZXcgS28odGhpcy5faW5zdGFuY2UpLEJvLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiksdGhpcy5fcih7aXNMb2FkZWQ6ITB9KX1ncih0LGkpe0JvLmVycm9yKHQsaSksdGhpcy5fcih7aXNMb2FkZWQ6ITEsZXJyb3I6dH0pfW9uU3VydmV5c0xvYWRlZCh0KXtyZXR1cm4gdGhpcy5jci5wdXNoKHQpLHRoaXMuX3N1cnZleU1hbmFnZXImJnRoaXMuX3Ioe2lzTG9hZGVkOiEwfSksKCk9Pnt0aGlzLmNyPXRoaXMuY3IuZmlsdGVyKChpPT5pIT09dCkpfX1nZXRTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpcmV0dXJuIEJvLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIiksdChbXSk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG1pKTtpZihlJiYhaSlyZXR1cm4gdChlLHtpc0xvYWRlZDohMH0pO2lmKHRoaXMuZHIpcmV0dXJuIHQoW10se2lzTG9hZGVkOiExLGVycm9yOlwiU3VydmV5cyBhcmUgYWxyZWFkeSBiZWluZyBsb2FkZWRcIn0pO3RyeXt0aGlzLmRyPSEwLHRoaXMuX2luc3RhbmNlLlRlKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9zdXJ2ZXlzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4pLG1ldGhvZDpcIkdFVFwiLHRpbWVvdXQ6dGhpcy5faW5zdGFuY2UuY29uZmlnLnN1cnZleXNfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmk9Pnt2YXIgZTt0aGlzLmRyPSExO3ZhciByPWkuc3RhdHVzQ29kZTtpZigyMDAhPT1yfHwhaS5qc29uKXt2YXIgcz1cIlN1cnZleXMgQVBJIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHN0YXR1czogXCIrcjtyZXR1cm4gQm8uZXJyb3IocyksdChbXSx7aXNMb2FkZWQ6ITEsZXJyb3I6c30pfXZhciBuLG89aS5qc29uLnN1cnZleXN8fFtdLGE9by5maWx0ZXIoKHQ9PmZ1bmN0aW9uKHQpe3JldHVybiEoIXQuc3RhcnRfZGF0ZXx8dC5lbmRfZGF0ZSl9KHQpJiYoZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIShudWxsPT0oaT10LmNvbmRpdGlvbnMpfHxudWxsPT0oaT1pLmV2ZW50cyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCl8fGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5hY3Rpb25zKXx8bnVsbD09KGk9aS52YWx1ZXMpfHwhaS5sZW5ndGgpfSh0KSkpKTthLmxlbmd0aD4wJiYobnVsbD09KG49dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fG4ucmVnaXN0ZXIoYSkpO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUucmVnaXN0ZXIoe1ttaV06b30pLHQobyx7aXNMb2FkZWQ6ITB9KX19KX1jYXRjaCh0KXt0aHJvdyB0aGlzLmRyPSExLHR9fV9yKHQpe2Zvcih2YXIgaSBvZiB0aGlzLmNyKXRyeXtpZighdC5pc0xvYWRlZClyZXR1cm4gaShbXSx0KTt0aGlzLmdldFN1cnZleXMoaSl9Y2F0Y2godCl7Qm8uZXJyb3IoXCJFcnJvciBpbiBzdXJ2ZXkgY2FsbGJhY2tcIix0KX19Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLCFBKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLmdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpO0JvLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpfW1yKHQpe3ZhciBpPW51bGw7cmV0dXJuIHRoaXMuZ2V0U3VydmV5cygoZT0+e3ZhciByO2k9bnVsbCE9PShyPWUuZmluZCgoaT0+aS5pZD09PXQpKSkmJnZvaWQgMCE9PXI/cjpudWxsfSkpLGl9eXIodCl7aWYoQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm57ZWxpZ2libGU6ITEscmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMubXIodCk6dDtyZXR1cm4gaT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmNoZWNrU3VydmV5RWxpZ2liaWxpdHkoaSk6e2VsaWdpYmxlOiExLHJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn19Y2FuUmVuZGVyU3VydmV5KHQpe2lmKEEodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJuIEJvLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPXRoaXMueXIodCk7cmV0dXJue3Zpc2libGU6aS5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjppLnJlYXNvbn19Y2FuUmVuZGVyU3VydmV5QXN5bmModCxpKXtyZXR1cm4gQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT8oQm8ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIiksUHJvbWlzZS5yZXNvbHZlKHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9KSk6bmV3IFByb21pc2UoKGU9Pnt0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcixzPW51bGwhPT0ocj1pLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbDtpZihzKXt2YXIgbj10aGlzLnlyKHMpO2Uoe3Zpc2libGU6bi5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjpuLnJlYXNvbn0pfWVsc2UgZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn0pfSksaSl9KSl9cmVuZGVyU3VydmV5KHQsaSl7dmFyIGU7aWYoQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlCby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMubXIodCk6dDtpZihudWxsIT1yJiZyLmlkKWlmKFZvLmluY2x1ZGVzKHIudHlwZSkpe3ZhciBzPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvcihpKTtpZihzKXJldHVybiBudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzPyhCby5pbmZvKFwiUmVuZGVyaW5nIHN1cnZleSBcIityLmlkK1wiIHdpdGggZGVsYXkgb2YgXCIrci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzK1wiIHNlY29uZHNcIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3ZhciB0LGk7Qm8uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiKyhudWxsPT0odD1yLmFwcGVhcmFuY2UpP3ZvaWQgMDp0LnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKStcIiBzZWNvbmRzXCIpLG51bGw9PShpPXRoaXMuX3N1cnZleU1hbmFnZXIpfHxpLnJlbmRlclN1cnZleShyLHMpLEJvLmluZm8oXCJTdXJ2ZXkgXCIrci5pZCtcIiByZW5kZXJlZFwiKX0pLDFlMypyLmFwcGVhcmFuY2Uuc3VydmV5UG9wdXBEZWxheVNlY29uZHMpKTp2b2lkIHRoaXMuX3N1cnZleU1hbmFnZXIucmVuZGVyU3VydmV5KHIscyk7Qm8ud2FybihcIlN1cnZleSBlbGVtZW50IG5vdCBmb3VuZFwiKX1lbHNlIEJvLndhcm4oXCJTdXJ2ZXlzIG9mIHR5cGUgXCIrci50eXBlK1wiIGNhbm5vdCBiZSByZW5kZXJlZCBpbiB0aGUgYXBwXCIpO2Vsc2UgQm8ud2FybihcIlN1cnZleSBub3QgZm91bmRcIil9fWRpc3BsYXlTdXJ2ZXkodCxpKXt2YXIgZTtpZihBKHRoaXMuX3N1cnZleU1hbmFnZXIpKUJvLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpO2Vsc2V7dmFyIHI9dGhpcy5tcih0KTtpZihyKXt2YXIgcz1yO2lmKG51bGwhPShlPXIuYXBwZWFyYW5jZSkmJmUuc3VydmV5UG9wdXBEZWxheVNlY29uZHMmJmkuaWdub3JlRGVsYXkmJihzPWcoe30scix7YXBwZWFyYW5jZTpnKHt9LHIuYXBwZWFyYW5jZSx7c3VydmV5UG9wdXBEZWxheVNlY29uZHM6MH0pfSkpLCExPT09aS5pZ25vcmVDb25kaXRpb25zKXt2YXIgbj10aGlzLmNhblJlbmRlclN1cnZleShyKTtpZighbi52aXNpYmxlKXJldHVybiB2b2lkIEJvLndhcm4oXCJTdXJ2ZXkgaXMgbm90IGVsaWdpYmxlIHRvIGJlIGRpc3BsYXllZDogXCIsbi5kaXNhYmxlZFJlYXNvbil9aS5kaXNwbGF5VHlwZSE9PVVvLklubGluZT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmhhbmRsZVBvcG92ZXJTdXJ2ZXkocyk6dGhpcy5yZW5kZXJTdXJ2ZXkocyxpLnNlbGVjdG9yKX1lbHNlIEJvLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX19dmFyIFhvPUV0KFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyBRb3tjb25zdHJ1Y3Rvcih0KXt2YXIgaSxlO3RoaXMuc2VydmVyTGltaXRzPXt9LHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9ITEsdGhpcy5jaGVja0ZvckxpbWl0aW5nPXQ9Pnt2YXIgaT10LnRleHQ7aWYoaSYmaS5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKGkpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKCh0PT57WG8uaW5mbygodHx8XCJldmVudHNcIikrXCIgaXMgcXVvdGEgbGltaXRlZC5cIiksdGhpcy5zZXJ2ZXJMaW1pdHNbdF09KG5ldyBEYXRlKS5nZXRUaW1lKCkrNmU0fSkpfWNhdGNoKHQpe3JldHVybiB2b2lkIFhvLndhcm4oJ2NvdWxkIG5vdCByYXRlIGxpbWl0IC0gY29udGludWluZy4gRXJyb3I6IFwiJysobnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSsnXCInLHt0ZXh0Oml9KX19LHRoaXMuaW5zdGFuY2U9dCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQ9KG51bGw9PShpPXQuY29uZmlnLnJhdGVfbGltaXRpbmcpP3ZvaWQgMDppLmV2ZW50c19wZXJfc2Vjb25kKXx8MTAsdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdD1NYXRoLm1heCgobnVsbD09KGU9dC5jb25maWcucmF0ZV9saW1pdGluZyk/dm9pZCAwOmUuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCh0KXt2YXIgaSxlLHI7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49bnVsbCE9PShpPW51bGw9PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShraSkpJiZ2b2lkIDAhPT1pP2k6e3Rva2Vuczp0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LGxhc3Q6c307bi50b2tlbnMrPShzLW4ubGFzdCkvMWUzKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxuLmxhc3Q9cyxuLnRva2Vucz50aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0JiYobi50b2tlbnM9dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCk7dmFyIG89bi50b2tlbnM8MTtyZXR1cm4gb3x8dHx8KG4udG9rZW5zPU1hdGgubWF4KDAsbi50b2tlbnMtMSkpLCFvfHx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkfHx0fHx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLHskJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ19tZXNzYWdlOlwicG9zdGhvZy1qcyBjbGllbnQgcmF0ZSBsaW1pdGVkLiBDb25maWcgaXMgc2V0IHRvIFwiK3RoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCtcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIrdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCtcIiBldmVudHMgYnVyc3QgbGltaXQuXCJ9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PShyPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnNldF9wcm9wZXJ0eShraSxuKSx7aXNSYXRlTGltaXRlZDpvLHJlbWFpbmluZ1Rva2VuczpuLnRva2Vuc319aXNTZXJ2ZXJSYXRlTGltaXRlZCh0KXt2YXIgaT10aGlzLnNlcnZlckxpbWl0c1t0fHxcImV2ZW50c1wiXXx8ITE7cmV0dXJuITEhPT1pJiYobmV3IERhdGUpLmdldFRpbWUoKTxpfX12YXIgWm89RXQoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyB0YXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWdldCByZW1vdGVDb25maWcoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9di5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8bnVsbD09KHQ9dFt0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW5dKT92b2lkIDA6dC5jb25maWd9YnIodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkubG9hZEV4dGVybmFsRGVwZW5kZW5jeT9udWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwicmVtb3RlLWNvbmZpZ1wiLCgoKT0+dCh0aGlzLnJlbW90ZUNvbmZpZykpKTooWm8uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLiBDYW5ub3QgbG9hZCByZW1vdGUgY29uZmlnLlwiKSx0KCkpfXdyKHQpe3RoaXMuX2luc3RhbmNlLlRlKHttZXRob2Q6XCJHRVRcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitcIi9jb25maWdcIiksY2FsbGJhY2s6aT0+e3QoaS5qc29uKX19KX1sb2FkKCl7dHJ5e2lmKHRoaXMucmVtb3RlQ29uZmlnKXJldHVybiBaby5pbmZvKFwiVXNpbmcgcHJlbG9hZGVkIHJlbW90ZSBjb25maWdcIix0aGlzLnJlbW90ZUNvbmZpZyksdm9pZCB0aGlzLkNlKHRoaXMucmVtb3RlQ29uZmlnKTtpZih0aGlzLl9pbnN0YW5jZS5MKCkpcmV0dXJuIHZvaWQgWm8ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuYnIoKHQ9PntpZighdClyZXR1cm4gWm8uaW5mbyhcIk5vIGNvbmZpZyBmb3VuZCBhZnRlciBsb2FkaW5nIHJlbW90ZSBKUyBjb25maWcuIEZhbGxpbmcgYmFjayB0byBKU09OLlwiKSx2b2lkIHRoaXMud3IoKHQ9Pnt0aGlzLkNlKHQpfSkpO3RoaXMuQ2UodCl9KSl9Y2F0Y2godCl7Wm8uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIix0KX19Q2UodCl7dD90aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWc/KHRoaXMuX2luc3RhbmNlLkNlKHQpLCExIT09dC5oYXNGZWF0dXJlRmxhZ3MmJnRoaXMuX2luc3RhbmNlLmZlYXR1cmVGbGFncy5lbnN1cmVGbGFnc0xvYWRlZCgpKTpaby5pbmZvKFwiX19wcmV2aWV3X3JlbW90ZV9jb25maWcgaXMgZGlzYWJsZWQuIExvZ2dpbmcgY29uZmlnIGluc3RlYWRcIix0KTpaby5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCByZW1vdGUgY29uZmlnIGZyb20gUG9zdEhvZy5cIil9fXZhciBpYT0zZTM7Y2xhc3MgZWF7Y29uc3RydWN0b3IodCxpKXt0aGlzLlNyPSEwLHRoaXMua3I9W10sdGhpcy4kcj1HKChudWxsPT1pP3ZvaWQgMDppLmZsdXNoX2ludGVydmFsX21zKXx8aWEsMjUwLDVlMyx4dC5jcmVhdGVMb2dnZXIoXCJmbHVzaCBpbnRlcnZhbFwiKSxpYSksdGhpcy5Fcj10fWVucXVldWUodCl7dGhpcy5rci5wdXNoKHQpLHRoaXMuUHJ8fHRoaXMuUnIoKX11bmxvYWQoKXt0aGlzLklyKCk7dmFyIHQ9dGhpcy5rci5sZW5ndGg+MD90aGlzLlRyKCk6e30saT1PYmplY3QudmFsdWVzKHQpO1suLi5pLmZpbHRlcigodD0+MD09PXQudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLmkuZmlsdGVyKCh0PT4wIT09dC51cmwuaW5kZXhPZihcIi9lXCIpKSldLm1hcCgodD0+e3RoaXMuRXIoZyh7fSx0LHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9KSl9ZW5hYmxlKCl7dGhpcy5Tcj0hMSx0aGlzLlJyKCl9UnIoKXt2YXIgdD10aGlzO3RoaXMuU3J8fCh0aGlzLlByPXNldFRpbWVvdXQoKCgpPT57aWYodGhpcy5JcigpLHRoaXMua3IubGVuZ3RoPjApe3ZhciBpPXRoaXMuVHIoKSxlPWZ1bmN0aW9uKCl7dmFyIGU9aVtyXSxzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2UuZGF0YSYmUChlLmRhdGEpJiZDdChlLmRhdGEsKHQ9Pnt0Lm9mZnNldD1NYXRoLmFicyh0LnRpbWVzdGFtcC1zKSxkZWxldGUgdC50aW1lc3RhbXB9KSksdC5FcihlKX07Zm9yKHZhciByIGluIGkpZSgpfX0pLHRoaXMuJHIpKX1Jcigpe2NsZWFyVGltZW91dCh0aGlzLlByKSx0aGlzLlByPXZvaWQgMH1Ucigpe3ZhciB0PXt9O3JldHVybiBDdCh0aGlzLmtyLChpPT57dmFyIGUscj1pLHM9KHI/ci5iYXRjaEtleTpudWxsKXx8ci51cmw7Qyh0W3NdKSYmKHRbc109Zyh7fSxyLHtkYXRhOltdfSkpLG51bGw9PShlPXRbc10uZGF0YSl8fGUucHVzaChyLmRhdGEpfSkpLHRoaXMua3I9W10sdH19dmFyIHJhPVtcInJldHJpZXNQZXJmb3JtZWRTb0ZhclwiXTtjbGFzcyBzYXtjb25zdHJ1Y3RvcihpKXt0aGlzLkNyPSExLHRoaXMuTXI9M2UzLHRoaXMua3I9W10sdGhpcy5faW5zdGFuY2U9aSx0aGlzLmtyPVtdLHRoaXMuT3I9ITAsIUModCkmJlwib25MaW5lXCJpbiB0Lm5hdmlnYXRvciYmKHRoaXMuT3I9dC5uYXZpZ2F0b3Iub25MaW5lLHF0KHQsXCJvbmxpbmVcIiwoKCk9Pnt0aGlzLk9yPSEwLHRoaXMubmUoKX0pKSxxdCh0LFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuT3I9ITF9KSkpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5rci5sZW5ndGh9cmV0cmlhYmxlUmVxdWVzdCh0KXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOml9PXQsZT1fKHQscmEpO0QoaSkmJmk+MCYmKGUudXJsPVhzKGUudXJsLHtyZXRyeV9jb3VudDppfSkpLHRoaXMuX2luc3RhbmNlLlRlKGcoe30sZSx7Y2FsbGJhY2s6dD0+ezIwMCE9PXQuc3RhdHVzQ29kZSYmKHQuc3RhdHVzQ29kZTw0MDB8fHQuc3RhdHVzQ29kZT49NTAwKSYmKG51bGwhPWk/aTowKTwxMD90aGlzLkZyKGcoe3JldHJpZXNQZXJmb3JtZWRTb0ZhcjppfSxlKSk6bnVsbD09ZS5jYWxsYmFja3x8ZS5jYWxsYmFjayh0KX19KSl9RnIodCl7dmFyIGk9dC5yZXRyaWVzUGVyZm9ybWVkU29GYXJ8fDA7dC5yZXRyaWVzUGVyZm9ybWVkU29GYXI9aSsxO3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBpPTNlMypNYXRoLnBvdygyLHQpLGU9aS8yLHI9TWF0aC5taW4oMThlNSxpKSxzPShNYXRoLnJhbmRvbSgpLS41KSooci1lKTtyZXR1cm4gTWF0aC5jZWlsKHIrcyl9KGkpLHI9RGF0ZS5ub3coKStlO3RoaXMua3IucHVzaCh7cmV0cnlBdDpyLHJlcXVlc3RPcHRpb25zOnR9KTt2YXIgcz1cIkVucXVldWVkIGZhaWxlZCByZXF1ZXN0IGZvciByZXRyeSBpbiBcIitlO25hdmlnYXRvci5vbkxpbmV8fChzKz1cIiAoQnJvd3NlciBpcyBvZmZsaW5lKVwiKSx4dC53YXJuKHMpLHRoaXMuQ3J8fCh0aGlzLkNyPSEwLHRoaXMuQXIoKSl9QXIoKXt0aGlzLkRyJiZjbGVhclRpbWVvdXQodGhpcy5EciksdGhpcy5Ecj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuT3ImJnRoaXMua3IubGVuZ3RoPjAmJnRoaXMubmUoKSx0aGlzLkFyKCl9KSx0aGlzLk1yKX1uZSgpe3ZhciB0PURhdGUubm93KCksaT1bXSxlPXRoaXMua3IuZmlsdGVyKChlPT5lLnJldHJ5QXQ8dHx8KGkucHVzaChlKSwhMSkpKTtpZih0aGlzLmtyPWksZS5sZW5ndGg+MClmb3IodmFye3JlcXVlc3RPcHRpb25zOnJ9b2YgZSl0aGlzLnJldHJpYWJsZVJlcXVlc3Qocil9dW5sb2FkKCl7Zm9yKHZhcntyZXF1ZXN0T3B0aW9uczp0fW9mKHRoaXMuRHImJihjbGVhclRpbWVvdXQodGhpcy5EciksdGhpcy5Ecj12b2lkIDApLHRoaXMua3IpKXRyeXt0aGlzLl9pbnN0YW5jZS5UZShnKHt9LHQse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaCh0KXt4dC5lcnJvcih0KX10aGlzLmtyPVtdfX1jbGFzcyBuYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmpyPSgpPT57dmFyIHQsaSxlLHI7dGhpcy5Mcnx8KHRoaXMuTHI9e30pO3ZhciBzPXRoaXMuc2Nyb2xsRWxlbWVudCgpLG49dGhpcy5zY3JvbGxZKCksbz1zP01hdGgubWF4KDAscy5zY3JvbGxIZWlnaHQtcy5jbGllbnRIZWlnaHQpOjAsYT1uKygobnVsbD09cz92b2lkIDA6cy5jbGllbnRIZWlnaHQpfHwwKSxsPShudWxsPT1zP3ZvaWQgMDpzLnNjcm9sbEhlaWdodCl8fDA7dGhpcy5Mci5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwobiksdGhpcy5Mci5tYXhTY3JvbGxZPU1hdGgubWF4KG4sbnVsbCE9PSh0PXRoaXMuTHIubWF4U2Nyb2xsWSkmJnZvaWQgMCE9PXQ/dDowKSx0aGlzLkxyLm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0oaT10aGlzLkxyLm1heFNjcm9sbEhlaWdodCkmJnZvaWQgMCE9PWk/aTowKSx0aGlzLkxyLmxhc3RDb250ZW50WT1hLHRoaXMuTHIubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGU9dGhpcy5Mci5tYXhDb250ZW50WSkmJnZvaWQgMCE9PWU/ZTowKSx0aGlzLkxyLm1heENvbnRlbnRIZWlnaHQ9TWF0aC5tYXgobCxudWxsIT09KHI9dGhpcy5Mci5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSx0aGlzLl9pbnN0YW5jZT10fWdldENvbnRleHQoKXtyZXR1cm4gdGhpcy5Mcn1yZXNldENvbnRleHQoKXt2YXIgdD10aGlzLkxyO3JldHVybiBzZXRUaW1lb3V0KHRoaXMuanIsMCksdH1zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCl7cXQodCxcInNjcm9sbFwiLHRoaXMuanIse2NhcHR1cmU6ITB9KSxxdCh0LFwic2Nyb2xsZW5kXCIsdGhpcy5qcix7Y2FwdHVyZTohMH0pLHF0KHQsXCJyZXNpemVcIix0aGlzLmpyKX1zY3JvbGxFbGVtZW50KCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcilyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGk9UCh0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcjpbdGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yXTtmb3IodmFyIGUgb2YgaSl7dmFyIHI9bnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKHIpcmV0dXJuIHJ9fXNjcm9sbFkoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBpPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBpJiZpLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgaT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gaSYmaS5zY3JvbGxMZWZ0fHwwfXJldHVybiB0JiYodC5zY3JvbGxYfHx0LnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KXx8MH19dmFyIG9hPXQ9PnBvKG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2NsYXNzIGFhe2NvbnN0cnVjdG9yKHQsaSxlLHIpe3RoaXMuTnI9dD0+e3ZhciBpPXRoaXMuVXIoKTtpZighaXx8aS5zZXNzaW9uSWQhPT10KXt2YXIgZT17c2Vzc2lvbklkOnQscHJvcHM6dGhpcy56cih0aGlzLl9pbnN0YW5jZSl9O3RoaXMucXIucmVnaXN0ZXIoe1tTaV06ZX0pfX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLkJyPWksdGhpcy5xcj1lLHRoaXMuenI9cnx8b2EsdGhpcy5Cci5vblNlc3Npb25JZCh0aGlzLk5yKX1Vcigpe3JldHVybiB0aGlzLnFyLnByb3BzW1NpXX1nZXRTZXRPbmNlUHJvcHMoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuVXIoKSk/dm9pZCAwOnQucHJvcHM7cmV0dXJuIGk/XCJyXCJpbiBpP2dvKGkpOnskcmVmZXJyaW5nX2RvbWFpbjppLnJlZmVycmluZ0RvbWFpbiwkcGF0aG5hbWU6aS5pbml0aWFsUGF0aE5hbWUsdXRtX3NvdXJjZTppLnV0bV9zb3VyY2UsdXRtX2NhbXBhaWduOmkudXRtX2NhbXBhaWduLHV0bV9tZWRpdW06aS51dG1fbWVkaXVtLHV0bV9jb250ZW50OmkudXRtX2NvbnRlbnQsdXRtX3Rlcm06aS51dG1fdGVybX06e319Z2V0U2Vzc2lvblByb3BzKCl7dmFyIHQ9e307cmV0dXJuIEN0KGp0KHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgoaSxlKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1lJiYoZT1cInVybFwiKSx0W1wiJHNlc3Npb25fZW50cnlfXCIrdyhlKV09aX0pKSx0fX12YXIgbGE9RXQoXCJbU2Vzc2lvbklkXVwiKTtjbGFzcyB1YXtvbih0LGkpe3JldHVybiB0aGlzLkhyLm9uKHQsaSl9Y29uc3RydWN0b3IodCxpLGUpe3ZhciByO2lmKHRoaXMuV3I9W10sdGhpcy5Icj1uZXcgem8sdGhpcy5Hcj0odCxpKT0+TWF0aC5hYnModC1pKT50aGlzLnNlc3Npb25UaW1lb3V0TXMsIXQucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihcImFsd2F5c1wiPT09dC5jb25maWcuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignU2Vzc2lvbklkTWFuYWdlciBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyk7dGhpcy5BPXQuY29uZmlnLHRoaXMucXI9dC5wZXJzaXN0ZW5jZSx0aGlzLnBpPXZvaWQgMCx0aGlzLkZ0PXZvaWQgMCx0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9bnVsbCx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9bnVsbCx0aGlzLlZyPWl8fENlLHRoaXMuSnI9ZXx8Q2U7dmFyIHM9dGhpcy5BLnBlcnNpc3RlbmNlX25hbWV8fHRoaXMuQS50b2tlbixuPXRoaXMuQS5zZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzfHwxODAwO2lmKHRoaXMuX3Nlc3Npb25UaW1lb3V0TXM9MWUzKkcobiw2MCwzNmUzLGxhLmNyZWF0ZUxvZ2dlcihcInNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHNcIiksMTgwMCksdC5yZWdpc3Rlcih7JGNvbmZpZ3VyZWRfc2Vzc2lvbl90aW1lb3V0X21zOnRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9KSx0aGlzLktyKCksdGhpcy5Zcj1cInBoX1wiK3MrXCJfd2luZG93X2lkXCIsdGhpcy5Ycj1cInBoX1wiK3MrXCJfcHJpbWFyeV93aW5kb3dfZXhpc3RzXCIsdGhpcy5RcigpKXt2YXIgbz1IZS5LKHRoaXMuWXIpLGE9SGUuSyh0aGlzLlhyKTtvJiYhYT90aGlzLnBpPW86SGUuWCh0aGlzLllyKSxIZS5ZKHRoaXMuWHIsITApfWlmKG51bGwhPShyPXRoaXMuQS5ib290c3RyYXApJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KHQ9Pnt2YXIgaT10LnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT1pWzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KGkuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuQS5ib290c3RyYXAuc2Vzc2lvbklEKTt0aGlzLlpyKHRoaXMuQS5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKHQpe2xhLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsdCl9dGhpcy50cygpfWdldCBzZXNzaW9uVGltZW91dE1zKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9b25TZXNzaW9uSWQodCl7cmV0dXJuIEModGhpcy5XcikmJih0aGlzLldyPVtdKSx0aGlzLldyLnB1c2godCksdGhpcy5GdCYmdCh0aGlzLkZ0LHRoaXMucGkpLCgpPT57dGhpcy5Xcj10aGlzLldyLmZpbHRlcigoaT0+aSE9PXQpKX19UXIoKXtyZXR1cm5cIm1lbW9yeVwiIT09dGhpcy5BLnBlcnNpc3RlbmNlJiYhdGhpcy5xci5qZSYmSGUuRygpfWVzKHQpe3QhPT10aGlzLnBpJiYodGhpcy5waT10LHRoaXMuUXIoKSYmSGUuWSh0aGlzLllyLHQpKX1ycygpe3JldHVybiB0aGlzLnBpP3RoaXMucGk6dGhpcy5RcigpP0hlLksodGhpcy5Zcik6bnVsbH1acih0LGksZSl7dD09PXRoaXMuRnQmJmk9PT10aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAmJmU9PT10aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXB8fCh0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9ZSx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9aSx0aGlzLkZ0PXQsdGhpcy5xci5yZWdpc3Rlcih7W3VpXTpbaSx0LGVdfSkpfXNzKCl7aWYodGhpcy5GdCYmdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZ0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXApcmV0dXJuW3RoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCx0aGlzLkZ0LHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIHQ9dGhpcy5xci5wcm9wc1t1aV07cmV0dXJuIFAodCkmJjI9PT10Lmxlbmd0aCYmdC5wdXNoKHRbMF0pLHR8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLlpyKG51bGwsbnVsbCxudWxsKX10cygpe3F0KHQsXCJiZWZvcmV1bmxvYWRcIiwoKCk9Pnt0aGlzLlFyKCkmJkhlLlgodGhpcy5Ycil9KSx7Y2FwdHVyZTohMX0pfWNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHQsaSl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PWkmJihpPW51bGwpLFwiYWx3YXlzXCI9PT10aGlzLkEuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3ZhciBlPWl8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLFtyLHMsbl09dGhpcy5zcygpLG89dGhpcy5ycygpLGE9RChuKSYmbj4wJiZNYXRoLmFicyhlLW4pPjg2NGU1LGw9ITEsdT0hcyxoPSF0JiZ0aGlzLkdyKGUscik7dXx8aHx8YT8ocz10aGlzLlZyKCksbz10aGlzLkpyKCksbGEuaW5mbyhcIm5ldyBzZXNzaW9uIElEIGdlbmVyYXRlZFwiLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLGNoYW5nZVJlYXNvbjp7bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX19KSxuPWUsbD0hMCk6b3x8KG89dGhpcy5KcigpLGw9ITApO3ZhciBkPTA9PT1yfHwhdHx8YT9lOnIsdj0wPT09bj8obmV3IERhdGUpLmdldFRpbWUoKTpuO3JldHVybiB0aGlzLmVzKG8pLHRoaXMuWnIocyxkLHYpLHR8fHRoaXMuS3IoKSxsJiZ0aGlzLldyLmZvckVhY2goKHQ9PnQocyxvLGw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCkpKSx7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6dixjaGFuZ2VSZWFzb246bD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDpyfX1Lcigpe2NsZWFyVGltZW91dCh0aGlzLm5zKSx0aGlzLm5zPXNldFRpbWVvdXQoKCgpPT57dmFyW3RdPXRoaXMuc3MoKTtpZih0aGlzLkdyKChuZXcgRGF0ZSkuZ2V0VGltZSgpLHQpKXt2YXIgaT10aGlzLkZ0O3RoaXMucmVzZXRTZXNzaW9uSWQoKSx0aGlzLkhyLmVtaXQoXCJmb3JjZWRJZGxlUmVzZXRcIix7aWRsZVNlc3Npb25JZDppfSl9fSksMS4xKnRoaXMuc2Vzc2lvblRpbWVvdXRNcyl9fXZhciBoYT1bXCIkc2V0X29uY2VcIixcIiRzZXRcIl0sZGE9RXQoXCJbU2l0ZUFwcHNdXCIpO2NsYXNzIHZhe2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5vcz1bXSx0aGlzLmFwcHM9e319Z2V0IGlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5faW5zdGFuY2UuY29uZmlnLm9wdF9pbl9zaXRlX2FwcHN9bHModCxpKXtpZihpKXt2YXIgZT10aGlzLmdsb2JhbHNGb3JFdmVudChpKTt0aGlzLm9zLnB1c2goZSksdGhpcy5vcy5sZW5ndGg+MWUzJiYodGhpcy5vcz10aGlzLm9zLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciB0O3JldHVybiBudWxsPT0odD12Ll9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHxudWxsPT0odD10W3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbl0pP3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuWWUodGhpcy5scy5iaW5kKHRoaXMpKTt0aGlzLnVzPSgpPT57dCgpLHRoaXMub3M9W10sdGhpcy51cz12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQodCl7dmFyIGksZSxyLHMsbixvLGE7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fFtdLGg9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIpfHx7fTtmb3IodmFyW2Qsdl1vZiBPYmplY3QuZW50cmllcyhoKSlsW2RdPXtpZDp1W2RdLHR5cGU6ZCxwcm9wZXJ0aWVzOnZ9O3Zhcnskc2V0X29uY2U6Yywkc2V0OmZ9PXQ7cmV0dXJue2V2ZW50Omcoe30sXyh0LGhhKSx7cHJvcGVydGllczpnKHt9LHQucHJvcGVydGllcyxmP3skc2V0Omcoe30sbnVsbCE9PShpPW51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJHNldCkmJnZvaWQgMCE9PWk/aTp7fSxmKX06e30sYz97JHNldF9vbmNlOmcoe30sbnVsbCE9PShyPW51bGw9PShzPXQucHJvcGVydGllcyk/dm9pZCAwOnMuJHNldF9vbmNlKSYmdm9pZCAwIT09cj9yOnt9LGMpfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShuPW51bGw9PShvPXQucHJvcGVydGllcyk/dm9pZCAwOm8uJGVsZW1lbnRzX2NoYWluKSYmdm9pZCAwIT09bj9uOlwiXCIsZGlzdGluY3RfaWQ6bnVsbD09KGE9dC5wcm9wZXJ0aWVzKT92b2lkIDA6YS5kaXN0aW5jdF9pZH0pLHBlcnNvbjp7cHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIpfSxncm91cHM6bH19c2V0dXBTaXRlQXBwKHQpe3ZhciBpPXRoaXMuYXBwc1t0LmlkXSxlPSgpPT57dmFyIGU7KCFpLmVycm9yZWQmJnRoaXMub3MubGVuZ3RoJiYoZGEuaW5mbyhcIlByb2Nlc3NpbmcgXCIrdGhpcy5vcy5sZW5ndGgrXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiK3QuaWQpLHRoaXMub3MuZm9yRWFjaCgodD0+bnVsbD09aS5wcm9jZXNzRXZlbnQ/dm9pZCAwOmkucHJvY2Vzc0V2ZW50KHQpKSksaS5wcm9jZXNzZWRCdWZmZXI9ITApLE9iamVjdC52YWx1ZXModGhpcy5hcHBzKS5ldmVyeSgodD0+dC5wcm9jZXNzZWRCdWZmZXJ8fHQuZXJyb3JlZCkpKSYmKG51bGw9PShlPXRoaXMudXMpfHxlLmNhbGwodGhpcykpfSxyPSExLHM9cz0+e2kuZXJyb3JlZD0hcyxpLmxvYWRlZD0hMCxkYS5pbmZvKFwiU2l0ZSBhcHAgd2l0aCBpZCBcIit0LmlkK1wiIFwiKyhzP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxyJiZlKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50Om59PXQuaW5pdCh7cG9zdGhvZzp0aGlzLl9pbnN0YW5jZSxjYWxsYmFjazp0PT57cyh0KX19KTtuJiYoaS5wcm9jZXNzRXZlbnQ9bikscj0hMH1jYXRjaChpKXtkYS5lcnJvcihcIkVycm9yIHdoaWxlIGluaXRpYWxpemluZyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGkpLHMoITEpfWlmKHImJmkubG9hZGVkKXRyeXtlKCl9Y2F0Y2goZSl7ZGEuZXJyb3IoXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJ1ZmZlcmVkIGV2ZW50cyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGUpLGkuZXJyb3JlZD0hMH19aHMoKXt2YXIgdD10aGlzLnNpdGVBcHBMb2FkZXJzfHxbXTtmb3IodmFyIGkgb2YgdCl0aGlzLmFwcHNbaS5pZF09e2lkOmkuaWQsbG9hZGVkOiExLGVycm9yZWQ6ITEscHJvY2Vzc2VkQnVmZmVyOiExfTtmb3IodmFyIGUgb2YgdCl0aGlzLnNldHVwU2l0ZUFwcChlKX1kcyh0KXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciBpPXRoaXMuZ2xvYmFsc0ZvckV2ZW50KHQpO2Zvcih2YXIgZSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e251bGw9PWUucHJvY2Vzc0V2ZW50fHxlLnByb2Nlc3NFdmVudChpKX1jYXRjaChpKXtkYS5lcnJvcihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgZXZlbnQgXCIrdC5ldmVudCtcIiBmb3Igc2l0ZSBhcHAgXCIrZS5pZCxpKX19fW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPXRoaXM7aWYobnVsbCE9KGk9dGhpcy5zaXRlQXBwTG9hZGVycykmJmkubGVuZ3RoKXJldHVybiB0aGlzLmlzRW5hYmxlZD8odGhpcy5ocygpLHZvaWQgdGhpcy5faW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuZHModCkpKSk6dm9pZCBkYS5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PShlPXRoaXMudXMpfHxlLmNhbGwodGhpcyksbnVsbCE9KHI9dC5zaXRlQXBwcykmJnIubGVuZ3RoKWlmKHRoaXMuaXNFbmFibGVkKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaTt2W1wiX18kJHBoX3NpdGVfYXBwX1wiK3RdPXMuX2luc3RhbmNlLG51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09aS5sb2FkU2l0ZUFwcHx8aS5sb2FkU2l0ZUFwcChzLl9pbnN0YW5jZSxhLChpPT57aWYoaSlyZXR1cm4gZGEuZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdCxpKX0pKX07Zm9yKHZhcntpZDpvLHVybDphfW9mIHQuc2l0ZUFwcHMpbihvKX1lbHNlIGRhLmVycm9yKCdQb3N0SG9nIHNpdGUgYXBwcyBhcmUgZGlzYWJsZWQuIEVuYWJsZSB0aGUgXCJvcHRfaW5fc2l0ZV9hcHBzXCIgY29uZmlnIHRvIHByb2NlZWQuJyl9fXZhciBjYT1bXCJhbWF6b25ib3RcIixcImFtYXpvbnByb2R1Y3Rib3RcIixcImFwcC5oeXBlZmFjdG9ycy5jb21cIixcImFwcGxlYm90XCIsXCJhcmNoaXZlLm9yZ19ib3RcIixcImF3YXJpb2JvdFwiLFwiYmFja2xpbmtzZXh0ZW5kZWRib3RcIixcImJhaWR1c3BpZGVyXCIsXCJiaW5nYm90XCIsXCJiaW5ncHJldmlld1wiLFwiY2hyb21lLWxpZ2h0aG91c2VcIixcImRhdGFmb3JzZW9ib3RcIixcImRlZXBzY2FuXCIsXCJkdWNrZHVja2JvdFwiLFwiZmFjZWJvb2tleHRlcm5hbFwiLFwiZmFjZWJvb2tjYXRhbG9nXCIsXCJodHRwOi8veWFuZGV4LmNvbS9ib3RzXCIsXCJodWJzcG90XCIsXCJpYV9hcmNoaXZlclwiLFwibGVpa2lib3RcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsLXNjcmVlbnNob3RcIixcInZlcmNlbGJvdFwiLFwieWFob28hIHNsdXJwXCIsXCJ5YW5kZXhib3RcIixcInpvb21ib3RcIixcImJvdC5odG1cIixcImJvdC5waHBcIixcIihib3Q7XCIsXCJib3QvXCIsXCJjcmF3bGVyXCIsXCJhaHJlZnNib3RcIixcImFocmVmc3NpdGVhdWRpdFwiLFwic2VtcnVzaGJvdFwiLFwic2l0ZWF1ZGl0Ym90XCIsXCJzcGxpdHNpZ25hbGJvdFwiLFwiZ3B0Ym90XCIsXCJvYWktc2VhcmNoYm90XCIsXCJjaGF0Z3B0LXVzZXJcIixcInBlcnBsZXhpdHlib3RcIixcImJldHRlciB1cHRpbWUgYm90XCIsXCJzZW50cnl1cHRpbWVib3RcIixcInVwdGltZXJvYm90XCIsXCJoZWFkbGVzc2Nocm9tZVwiLFwiY3lwcmVzc1wiLFwiZ29vZ2xlLWhvdGVsYWRzdmVyaWZpZXJcIixcImFkc2JvdC1nb29nbGVcIixcImFwaXMtZ29vZ2xlXCIsXCJkdXBsZXh3ZWItZ29vZ2xlXCIsXCJmZWVkZmV0Y2hlci1nb29nbGVcIixcImdvb2dsZSBmYXZpY29uXCIsXCJnb29nbGUgd2ViIHByZXZpZXdcIixcImdvb2dsZS1yZWFkLWFsb3VkXCIsXCJnb29nbGVib3RcIixcImdvb2dsZW90aGVyXCIsXCJnb29nbGUtY2xvdWR2ZXJ0ZXhib3RcIixcImdvb2dsZXdlYmxpZ2h0XCIsXCJtZWRpYXBhcnRuZXJzLWdvb2dsZVwiLFwic3RvcmVib3QtZ29vZ2xlXCIsXCJnb29nbGUtaW5zcGVjdGlvbnRvb2xcIixcImJ5dGVzcGlkZXJcIl0sZmE9ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGNhLmNvbmNhdChpfHxbXSkuc29tZSgodD0+e3ZhciBpPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWUuaW5kZXhPZihpKX0pKX0scGE9ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTt2YXIgZT10LnVzZXJBZ2VudDtpZihlJiZmYShlLGkpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT10P3ZvaWQgMDp0LnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKHQ9PmZhKG51bGw9PXQ/dm9pZCAwOnQuYnJhbmQsaSkpKSlyZXR1cm4hMH1jYXRjaCh0KXt9cmV0dXJuISF0LndlYmRyaXZlcn0sZ2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVVM9XCJ1c1wiLHQuRVU9XCJldVwiLHQuQ1VTVE9NPVwiY3VzdG9tXCIsdH0oe30pLF9hPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIG1he2NvbnN0cnVjdG9yKHQpe3RoaXMudnM9e30sdGhpcy5pbnN0YW5jZT10fWdldCBhcGlIb3N0KCl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuYXBpX2hvc3QudHJpbSgpLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVyblwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PXQ/XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIjp0fWdldCB1aUhvc3QoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpP3ZvaWQgMDp0LnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiBpfHwoaT10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIitfYSxcIi5wb3N0aG9nLmNvbVwiKSksXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09aT9cImh0dHBzOi8vdXMucG9zdGhvZy5jb21cIjppfWdldCByZWdpb24oKXtyZXR1cm4gdGhpcy52c1t0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMudnNbdGhpcy5hcGlIb3N0XT1nYS5VUzovaHR0cHM6XFwvXFwvKGV1fGV1LWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLnZzW3RoaXMuYXBpSG9zdF09Z2EuRVU6dGhpcy52c1t0aGlzLmFwaUhvc3RdPWdhLkNVU1RPTSksdGhpcy52c1t0aGlzLmFwaUhvc3RdfWVuZHBvaW50Rm9yKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9XCJcIiksaSYmKGk9XCIvXCI9PT1pWzBdP2k6XCIvXCIraSksXCJ1aVwiPT09dClyZXR1cm4gdGhpcy51aUhvc3QraTtpZih0aGlzLnJlZ2lvbj09PWdhLkNVU1RPTSlyZXR1cm4gdGhpcy5hcGlIb3N0K2k7dmFyIGU9X2EraTtzd2l0Y2godCl7Y2FzZVwiYXNzZXRzXCI6cmV0dXJuXCJodHRwczovL1wiK3RoaXMucmVnaW9uK1wiLWFzc2V0cy5cIitlO2Nhc2VcImFwaVwiOnJldHVyblwiaHR0cHM6Ly9cIit0aGlzLnJlZ2lvbitcIi5cIitlfX19dmFyIHlhPXtpY29udGFpbnM6KGksZSk9PiEhdCYmZS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGksZSk9PiEhdCYmLTE9PT1lLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSkscmVnZXg6KGksZSk9PiEhdCYmZW4oZS5ocmVmLGkpLG5vdF9yZWdleDooaSxlKT0+ISF0JiYhZW4oZS5ocmVmLGkpLGV4YWN0Oih0LGkpPT5pLmhyZWY9PT10LGlzX25vdDoodCxpKT0+aS5ocmVmIT09dH07Y2xhc3MgYmF7Y29uc3RydWN0b3IodCl7dmFyIGk9dGhpczt0aGlzLmdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITEpLGkuZ2V0V2ViRXhwZXJpbWVudHMoKHQ9PntiYS5jcyhcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLGkuZnM9bmV3IE1hcCx0LmZvckVhY2goKHQ9PntpZih0LmZlYXR1cmVfZmxhZ19rZXkpe3ZhciBlO2lmKGkuZnMpYmEuY3MoXCJzZXR0aW5nIGZsYWcga2V5IFwiLHQuZmVhdHVyZV9mbGFnX2tleSxcIiB0byB3ZWIgZXhwZXJpbWVudCBcIix0KSxudWxsPT0oZT1pLmZzKXx8ZS5zZXQodC5mZWF0dXJlX2ZsYWdfa2V5LHQpO3ZhciByPWkuX2luc3RhbmNlLmdldEZlYXR1cmVGbGFnKHQuZmVhdHVyZV9mbGFnX2tleSk7TShyKSYmdC52YXJpYW50c1tyXSYmaS5wcyh0Lm5hbWUscix0LnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfWVsc2UgaWYodC52YXJpYW50cylmb3IodmFyIHMgaW4gdC52YXJpYW50cyl7dmFyIG49dC52YXJpYW50c1tzXTtiYS5ncyhuKSYmaS5wcyh0Lm5hbWUscyxuLnRyYW5zZm9ybXMpfX0pKX0pLHQpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuX2luc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCh0PT57dGhpcy5vbkZlYXR1cmVGbGFncyh0KX0pKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLl9pc19ib3QoKSliYS5jcyhcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTtlbHNlIGlmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKEEodGhpcy5mcykpcmV0dXJuIHRoaXMuZnM9bmV3IE1hcCx0aGlzLmxvYWRJZkVuYWJsZWQoKSx2b2lkIHRoaXMucHJldmlld1dlYkV4cGVyaW1lbnQoKTtiYS5jcyhcImFwcGx5aW5nIGZlYXR1cmUgZmxhZ3NcIix0KSx0LmZvckVhY2goKHQ9Pnt2YXIgaTtpZih0aGlzLmZzJiZudWxsIT0oaT10aGlzLmZzKSYmaS5oYXModCkpe3ZhciBlLHI9dGhpcy5faW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcodCkscz1udWxsPT0oZT10aGlzLmZzKT92b2lkIDA6ZS5nZXQodCk7ciYmbnVsbCE9cyYmcy52YXJpYW50c1tyXSYmdGhpcy5wcyhzLm5hbWUscixzLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgdD1iYS5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPXQmJnQuc2VhcmNoKXt2YXIgaT1nZShudWxsPT10P3ZvaWQgMDp0LnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxlPWdlKG51bGw9PXQ/dm9pZCAwOnQuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7aSYmZSYmKGJhLmNzKFwicHJldmlld2luZyB3ZWIgZXhwZXJpbWVudHMgXCIraStcIiAmJiBcIitlKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKCh0PT57dGhpcy5fcyhwYXJzZUludChpKSxlLHQpfSksITEsITApKX19bG9hZElmRW5hYmxlZCgpe3RoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHModCxpLGUpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyYmIWUpcmV0dXJuIHQoW10pO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiR3ZWJfZXhwZXJpbWVudHNcIik7aWYociYmIWkpcmV0dXJuIHQocik7dGhpcy5faW5zdGFuY2UuVGUoe3VybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3dlYl9leHBlcmltZW50cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57aWYoMjAwIT09aS5zdGF0dXNDb2RlfHwhaS5qc29uKXJldHVybiB0KFtdKTt2YXIgZT1pLmpzb24uZXhwZXJpbWVudHN8fFtdO3JldHVybiB0KGUpfX0pfV9zKHQsaSxlKXt2YXIgcj1lLmZpbHRlcigoaT0+aS5pZD09PXQpKTtyJiZyLmxlbmd0aD4wJiYoYmEuY3MoXCJQcmV2aWV3aW5nIHdlYiBleHBlcmltZW50IFtcIityWzBdLm5hbWUrXCJdIHdpdGggdmFyaWFudCBbXCIraStcIl1cIiksdGhpcy5wcyhyWzBdLm5hbWUsaSxyWzBdLnZhcmlhbnRzW2ldLnRyYW5zZm9ybXMpKX1zdGF0aWMgZ3ModCl7cmV0dXJuIUEodC5jb25kaXRpb25zKSYmKGJhLnlzKHQpJiZiYS5icyh0KSl9c3RhdGljIHlzKHQpe3ZhciBpO2lmKEEodC5jb25kaXRpb25zKXx8QShudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLnVybCkpcmV0dXJuITA7dmFyIGUscixzLG49YmEuZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIW4mJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHwhZS51cmx8fHlhW251bGwhPT0ocj1udWxsPT0ocz10LmNvbmRpdGlvbnMpP3ZvaWQgMDpzLnVybE1hdGNoVHlwZSkmJnZvaWQgMCE9PXI/cjpcImljb250YWluc1wiXSh0LmNvbmRpdGlvbnMudXJsLG4pKX1zdGF0aWMgZ2V0V2luZG93TG9jYXRpb24oKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbn1zdGF0aWMgYnModCl7dmFyIGk7aWYoQSh0LmNvbmRpdGlvbnMpfHxBKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkudXRtKSlyZXR1cm4hMDt2YXIgZT11bygpO2lmKGUudXRtX3NvdXJjZSl7dmFyIHIscyxuLG8sYSxsLHUsaCxkPW51bGw9PShyPXQuY29uZGl0aW9ucyl8fG51bGw9PShyPXIudXRtKXx8IXIudXRtX2NhbXBhaWdufHwobnVsbD09KHM9dC5jb25kaXRpb25zKXx8bnVsbD09KHM9cy51dG0pP3ZvaWQgMDpzLnV0bV9jYW1wYWlnbik9PWUudXRtX2NhbXBhaWduLHY9bnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi51dG0pfHwhbi51dG1fc291cmNlfHwobnVsbD09KG89dC5jb25kaXRpb25zKXx8bnVsbD09KG89by51dG0pP3ZvaWQgMDpvLnV0bV9zb3VyY2UpPT1lLnV0bV9zb3VyY2UsYz1udWxsPT0oYT10LmNvbmRpdGlvbnMpfHxudWxsPT0oYT1hLnV0bSl8fCFhLnV0bV9tZWRpdW18fChudWxsPT0obD10LmNvbmRpdGlvbnMpfHxudWxsPT0obD1sLnV0bSk/dm9pZCAwOmwudXRtX21lZGl1bSk9PWUudXRtX21lZGl1bSxmPW51bGw9PSh1PXQuY29uZGl0aW9ucyl8fG51bGw9PSh1PXUudXRtKXx8IXUudXRtX3Rlcm18fChudWxsPT0oaD10LmNvbmRpdGlvbnMpfHxudWxsPT0oaD1oLnV0bSk/dm9pZCAwOmgudXRtX3Rlcm0pPT1lLnV0bV90ZXJtO3JldHVybiBkJiZjJiZmJiZ2fXJldHVybiExfXN0YXRpYyBjcyh0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07eHQuaW5mbyhcIltXZWJFeHBlcmltZW50c10gXCIrdCxlKX1wcyh0LGksZSl7dGhpcy5faXNfYm90KCk/YmEuY3MoXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT1pP2UuZm9yRWFjaCgoZT0+e2lmKGUuc2VsZWN0b3Ipe3ZhciByO2JhLmNzKFwiYXBwbHlpbmcgdHJhbnNmb3JtIG9mIHZhcmlhbnQgXCIraStcIiBmb3IgZXhwZXJpbWVudCBcIit0K1wiIFwiLGUpO3ZhciBzPW51bGw9PShyPWRvY3VtZW50KT92b2lkIDA6ci5xdWVyeVNlbGVjdG9yQWxsKGUuc2VsZWN0b3IpO251bGw9PXN8fHMuZm9yRWFjaCgodD0+e3ZhciBpPXQ7ZS5odG1sJiYoaS5pbm5lckhUTUw9ZS5odG1sKSxlLmNzcyYmaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGUuY3NzKX0pKX19KSk6YmEuY3MoXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbiYmdGhpcy5faW5zdGFuY2U/cGEobix0aGlzLl9pbnN0YW5jZS5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfX12YXIgd2E9RXQoXCJbUG9zdEhvZyBFeHRlcm5hbEludGVncmF0aW9uc11cIiksU2E9e2ludGVyY29tOlwiaW50ZXJjb20taW50ZWdyYXRpb25cIixjcmlzcENoYXQ6XCJjcmlzcC1jaGF0LWludGVncmF0aW9uXCJ9O2NsYXNzIGthe2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9bnQodCxpKXt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHQsKHQ9PntpZih0KXJldHVybiB3YS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpO2koKX0pKX1zdGFydElmRW5hYmxlZE9yU3RvcCgpe3ZhciB0PXRoaXMsaT1mdW5jdGlvbihpKXt2YXIgZSxzLG47KCFyfHxudWxsIT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShlPWUuaW50ZWdyYXRpb25zKSYmZVtpXXx8dC5udChTYVtpXSwoKCk9Pnt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShlPWUuaW50ZWdyYXRpb25zKXx8bnVsbD09KGU9ZVtpXSl8fGUuc3RhcnQodC5faW5zdGFuY2UpfSkpLCFyJiZudWxsIT0ocz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShzPXMuaW50ZWdyYXRpb25zKSYmc1tpXSkmJihudWxsPT0obj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShuPW4uaW50ZWdyYXRpb25zKXx8bnVsbD09KG49bltpXSl8fG4uc3RvcCgpKX07Zm9yKHZhcltlLHJdb2YgT2JqZWN0LmVudHJpZXMobnVsbCE9PShzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5pbnRlZ3JhdGlvbnMpJiZ2b2lkIDAhPT1zP3M6e30pKXt2YXIgcztpKGUpfX19dmFyICRhPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIseGE9RXQoJGEpO2NsYXNzIEVhe2dldCBzdGFydGVkKCl7dmFyIHQ7cmV0dXJuIShudWxsPT0odD10aGlzLndzKXx8IXQuaXNTdGFydGVkKX1nZXQgc3RhdHVzKCl7dmFyIHQ7cmV0dXJuKG51bGw9PSh0PXRoaXMud3MpP3ZvaWQgMDp0LnN0YXR1cyl8fFwibGF6eV9sb2FkaW5nXCJ9Y29uc3RydWN0b3IodCl7aWYodGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlPSExLHRoaXMubmk9dm9pZCAwLHRoaXMuX2luc3RhbmNlPXQsIXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IHhhLmVycm9yKFwic3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyXCIpLG5ldyBFcnJvcigkYStcIiBzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuIFRoaXMgaXMgYSBidWcuXCIpO2lmKFwiYWx3YXlzXCI9PT10aGlzLl9pbnN0YW5jZS5jb25maWcuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcigkYSsnIGNhbm5vdCBiZSB1c2VkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCInKX1nZXQgcXQoKXt2YXIgaSxlPSEobnVsbD09KGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHRpKSl8fCFpLmVuYWJsZWQpLHI9IXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nLHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmd8fHRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpO3JldHVybiB0JiZlJiZyJiYhc31zdGFydElmRW5hYmxlZE9yU3RvcCh0KXt2YXIgaTtpZighdGhpcy5xdHx8bnVsbD09KGk9dGhpcy53cyl8fCFpLmlzU3RhcnRlZCl7dmFyIGU9IUMoT2JqZWN0LmFzc2lnbikmJiFDKEFycmF5LmZyb20pO3RoaXMucXQmJmU/KHRoaXMuU3ModCkseGEuaW5mbyhcInN0YXJ0aW5nXCIpKTp0aGlzLnN0b3BSZWNvcmRpbmcoKX19U3ModCl7dmFyIGksZSxyO3RoaXMucXQmJihudWxsIT12JiZudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShpPWkucnJ3ZWIpJiZpLnJlY29yZCYmbnVsbCE9KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZlLmluaXRTZXNzaW9uUmVjb3JkaW5nP3RoaXMuUGkodCk6bnVsbD09KHI9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1yLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fHIubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSx0aGlzLlJpLChpPT57aWYoaSlyZXR1cm4geGEuZXJyb3IoXCJjb3VsZCBub3QgbG9hZCByZWNvcmRlclwiLGkpO3RoaXMuUGkodCl9KSkpfXN0b3BSZWNvcmRpbmcoKXt2YXIgdDtudWxsPT0odD10aGlzLndzKXx8dC5zdG9wKCl9a2koKXt2YXIgdDtudWxsPT0odD10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHQudW5yZWdpc3RlcihoaSl9RWkodCl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciBpLGUscj10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSxzPSgpPT57dmFyIGk9dC5zZXNzaW9uUmVjb3JkaW5nLGU9bnVsbD09aT92b2lkIDA6aS5zYW1wbGVSYXRlLHM9QShlKT9udWxsOnBhcnNlRmxvYXQoZSk7QShzKSYmdGhpcy5raSgpO3ZhciBuPW51bGw9PWk/dm9pZCAwOmkubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO3IucmVnaXN0ZXIoe1t0aV06Zyh7ZW5hYmxlZDohIWl9LGkse25ldHdvcmtQYXlsb2FkQ2FwdHVyZTpnKHtjYXB0dXJlUGVyZm9ybWFuY2U6dC5jYXB0dXJlUGVyZm9ybWFuY2V9LG51bGw9PWk/dm9pZCAwOmkubmV0d29ya1BheWxvYWRDYXB0dXJlKSxjYW52YXNSZWNvcmRpbmc6e2VuYWJsZWQ6bnVsbD09aT92b2lkIDA6aS5yZWNvcmRDYW52YXMsZnBzOm51bGw9PWk/dm9pZCAwOmkuY2FudmFzRnBzLHF1YWxpdHk6bnVsbD09aT92b2lkIDA6aS5jYW52YXNRdWFsaXR5fSxzYW1wbGVSYXRlOnMsbWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzOkMobik/bnVsbDpuLGVuZHBvaW50Om51bGw9PWk/dm9pZCAwOmkuZW5kcG9pbnQsdHJpZ2dlck1hdGNoVHlwZTpudWxsPT1pP3ZvaWQgMDppLnRyaWdnZXJNYXRjaFR5cGUsbWFza2luZzpudWxsPT1pP3ZvaWQgMDppLm1hc2tpbmcsdXJsVHJpZ2dlcnM6bnVsbD09aT92b2lkIDA6aS51cmxUcmlnZ2Vyc30pfSl9O3MoKSxudWxsPT0oaT10aGlzLm5pKXx8aS5jYWxsKHRoaXMpLHRoaXMubmk9bnVsbD09KGU9dGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDplLm9uU2Vzc2lvbklkKHMpfX1vblJlbW90ZUNvbmZpZyh0KXtcInNlc3Npb25SZWNvcmRpbmdcImluIHQ/KHRoaXMuRWkodCksdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKTp4YS5pbmZvKFwic2tpcHBpbmcgcmVtb3RlIGNvbmZpZyB3aXRoIG5vIHNlc3Npb25SZWNvcmRpbmdcIix0KX1sb2codCxpKXt2YXIgZTt2b2lkIDA9PT1pJiYoaT1cImxvZ1wiKSxudWxsIT0oZT10aGlzLndzKSYmZS5sb2c/dGhpcy53cy5sb2codCxpKTp4YS53YXJuKFwibG9nIGNhbGxlZCBiZWZvcmUgcmVjb3JkZXIgd2FzIHJlYWR5XCIpfWdldCBSaSgpe3ZhciB0LGksZT1udWxsPT0odD10aGlzLl9pbnN0YW5jZSl8fG51bGw9PSh0PXQucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LmdldF9wcm9wZXJ0eSh0aSk7cmV0dXJuKG51bGw9PWV8fG51bGw9PShpPWUuc2NyaXB0Q29uZmlnKT92b2lkIDA6aS5zY3JpcHQpfHxcImxhenktcmVjb3JkZXJcIn1QaSh0KXt2YXIgaSxlO2lmKG51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8IWkuaW5pdFNlc3Npb25SZWNvcmRpbmcpdGhyb3cgRXJyb3IoXCJDYWxsZWQgb24gc2NyaXB0IGxvYWRlZCBiZWZvcmUgc2Vzc2lvbiByZWNvcmRpbmcgaXMgYXZhaWxhYmxlXCIpO3RoaXMud3N8fCh0aGlzLndzPW51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKT92b2lkIDA6ZS5pbml0U2Vzc2lvblJlY29yZGluZyh0aGlzLl9pbnN0YW5jZSksdGhpcy53cy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlPXRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZSk7dGhpcy53cy5zdGFydCh0KX1vblJSd2ViRW1pdCh0KXt2YXIgaTtudWxsPT0oaT10aGlzLndzKXx8bnVsbD09aS5vblJSd2ViRW1pdHx8aS5vblJSd2ViRW1pdCh0KX1vdmVycmlkZUxpbmtlZEZsYWcoKXt2YXIgdDtudWxsPT0odD10aGlzLndzKXx8dC5vdmVycmlkZUxpbmtlZEZsYWcoKX1vdmVycmlkZVNhbXBsaW5nKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy53cyl8fHQub3ZlcnJpZGVTYW1wbGluZygpfW92ZXJyaWRlVHJpZ2dlcih0KXt2YXIgaTtudWxsPT0oaT10aGlzLndzKXx8aS5vdmVycmlkZVRyaWdnZXIodCl9Z2V0IHNka0RlYnVnUHJvcGVydGllcygpe3ZhciB0O3JldHVybihudWxsPT0odD10aGlzLndzKT92b2lkIDA6dC5zZGtEZWJ1Z1Byb3BlcnRpZXMpfHx7JHJlY29yZGluZ19zdGF0dXM6dGhpcy5zdGF0dXN9fXRyeUFkZEN1c3RvbUV2ZW50KHQsaSl7dmFyIGU7cmV0dXJuIShudWxsPT0oZT10aGlzLndzKXx8IWUudHJ5QWRkQ3VzdG9tRXZlbnQodCxpKSl9fXZhciBQYT17fSxSYT0oKT0+e30sSWE9XCJwb3N0aG9nXCIsVGE9IUtzJiYtMT09PShudWxsPT1kP3ZvaWQgMDpkLmluZGV4T2YoXCJNU0lFXCIpKSYmLTE9PT0obnVsbD09ZD92b2lkIDA6ZC5pbmRleE9mKFwiTW96aWxsYVwiKSksQ2E9aT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLHJhZ2VjbGljazohMCxjcm9zc19zdWJkb21haW5fY29va2llOlV0KG51bGw9PW8/dm9pZCAwOm8ubG9jYXRpb24pLHBlcnNpc3RlbmNlOlwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiLHBlcnNpc3RlbmNlX25hbWU6XCJcIixsb2FkZWQ6UmEsc2F2ZV9jYW1wYWlnbl9wYXJhbXM6ITAsY3VzdG9tX2NhbXBhaWduX3BhcmFtczpbXSxjdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzOltdLHNhdmVfcmVmZXJyZXI6ITAsY2FwdHVyZV9wYWdldmlldzpcIjIwMjUtMDUtMjRcIiE9PWl8fFwiaGlzdG9yeV9jaGFuZ2VcIixjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWZhdWx0czpudWxsIT1pP2k6XCJ1bnNldFwiLGRlYnVnOmEmJk0obnVsbD09YT92b2lkIDA6YS5zZWFyY2gpJiYtMSE9PWEuc2VhcmNoLmluZGV4T2YoXCJfX3Bvc3Rob2dfZGVidWc9dHJ1ZVwiKXx8ITEsY29va2llX2V4cGlyYXRpb246MzY1LHVwZ3JhZGU6ITEsZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMSxkaXNhYmxlX3BlcnNpc3RlbmNlOiExLGRpc2FibGVfd2ViX2V4cGVyaW1lbnRzOiEwLGRpc2FibGVfc3VydmV5czohMSxkaXNhYmxlX3N1cnZleXNfYXV0b21hdGljX2Rpc3BsYXk6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnByb3RvY29sKSxpcDohMSxvcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0OiExLG9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXI6ITEsb3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTpcImxvY2FsU3RvcmFnZVwiLGNvbnNlbnRfcGVyc2lzdGVuY2VfbmFtZTpudWxsLG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6bnVsbCxvcHRfaW5fc2l0ZV9hcHBzOiExLHByb3BlcnR5X2RlbnlsaXN0OltdLHJlc3BlY3RfZG50OiExLHNhbml0aXplX3Byb3BlcnRpZXM6bnVsbCxyZXF1ZXN0X2hlYWRlcnM6e30scmVxdWVzdF9iYXRjaGluZzohMCxwcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoOjY1NTM1LHNlc3Npb25fcmVjb3JkaW5nOnt9LG1hc2tfYWxsX2VsZW1lbnRfYXR0cmlidXRlczohMSxtYXNrX2FsbF90ZXh0OiExLG1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOiExLGN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXM6W10sYWR2YW5jZWRfZGlzYWJsZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2RlY2lkZTohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3M6ITEsYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzX29uX2ZpcnN0X2xvYWQ6ITEsYWR2YW5jZWRfb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9lbmFibGVfc3VydmV5czohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxzdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tczoxZTQsb25fcmVxdWVzdF9lcnJvcjp0PT57dmFyIGk9XCJCYWQgSFRUUCBzdGF0dXM6IFwiK3Quc3RhdHVzQ29kZStcIiBcIit0LnRleHQ7eHQuZXJyb3IoaSl9LGdldF9kZXZpY2VfaWQ6dD0+dCxjYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMCxuYW1lOlwicG9zdGhvZ1wiLGJvb3RzdHJhcDp7fSxkaXNhYmxlX2NvbXByZXNzaW9uOiExLHNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHM6MTgwMCxwZXJzb25fcHJvZmlsZXM6XCJpZGVudGlmaWVkX29ubHlcIixiZWZvcmVfc2VuZDp2b2lkIDAscmVxdWVzdF9xdWV1ZV9jb25maWc6e2ZsdXNoX2ludGVydmFsX21zOmlhfSxlcnJvcl90cmFja2luZzp7fSxfb25DYXB0dXJlOlJhLF9fcHJldmlld19lYWdlcl9sb2FkX3JlcGxheTohMH19LE1hPXQ9Pnt2YXIgaT17fTtDKHQucHJvY2Vzc19wZXJzb24pfHwoaS5wZXJzb25fcHJvZmlsZXM9dC5wcm9jZXNzX3BlcnNvbiksQyh0Lnhocl9oZWFkZXJzKXx8KGkucmVxdWVzdF9oZWFkZXJzPXQueGhyX2hlYWRlcnMpLEModC5jb29raWVfbmFtZSl8fChpLnBlcnNpc3RlbmNlX25hbWU9dC5jb29raWVfbmFtZSksQyh0LmRpc2FibGVfY29va2llKXx8KGkuZGlzYWJsZV9wZXJzaXN0ZW5jZT10LmRpc2FibGVfY29va2llKSxDKHQuc3RvcmVfZ29vZ2xlKXx8KGkuc2F2ZV9jYW1wYWlnbl9wYXJhbXM9dC5zdG9yZV9nb29nbGUpLEModC52ZXJib3NlKXx8KGkuZGVidWc9dC52ZXJib3NlKTt2YXIgZT1NdCh7fSxpLHQpO3JldHVybiBQKHQucHJvcGVydHlfYmxhY2tsaXN0KSYmKEModC5wcm9wZXJ0eV9kZW55bGlzdCk/ZS5wcm9wZXJ0eV9kZW55bGlzdD10LnByb3BlcnR5X2JsYWNrbGlzdDpQKHQucHJvcGVydHlfZGVueWxpc3QpP2UucHJvcGVydHlfZGVueWxpc3Q9Wy4uLnQucHJvcGVydHlfYmxhY2tsaXN0LC4uLnQucHJvcGVydHlfZGVueWxpc3RdOnh0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0LnByb3BlcnR5X2RlbnlsaXN0KSksZX07Y2xhc3MgT2F7Y29uc3RydWN0b3IoKXt0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD0hMX1nZXQga3MoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IGtzKHQpe3h0LmVycm9yKFwiV2ViUGVyZm9ybWFuY2VPYnNlcnZlciBpcyBkZXByZWNhdGVkIGFuZCBoYXMgbm8gaW1wYWN0IG9uIG5ldHdvcmsgY2FwdHVyZS4gVXNlIGBfZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlYCBvbiBgcG9zdGhvZy5zZXNzaW9uUmVjb3JkaW5nYFwiKSx0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD10fX1jbGFzcyBGYXtnZXQgZGVjaWRlRW5kcG9pbnRXYXNIaXQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDppLmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09dCYmdH1nZXQgZmxhZ3NFbmRwb2ludFdhc0hpdCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLmZlYXR1cmVGbGFncyk/dm9pZCAwOmkuaGFzTG9hZGVkRmxhZ3MpJiZ2b2lkIDAhPT10JiZ0fWNvbnN0cnVjdG9yKCl7dGhpcy53ZWJQZXJmb3JtYW5jZT1uZXcgT2EsdGhpcy4kcz0hMSx0aGlzLnZlcnNpb249Yy5MSUJfVkVSU0lPTix0aGlzLnhzPW5ldyB6byx0aGlzLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcz10aGlzLmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcy5iaW5kKHRoaXMpLHRoaXMuY29uZmlnPUNhKCksdGhpcy5TZW50cnlJbnRlZ3JhdGlvbj1Pcyx0aGlzLnNlbnRyeUludGVncmF0aW9uPXQ9PmZ1bmN0aW9uKHQsaSl7dmFyIGU9TXModCxpKTtyZXR1cm57bmFtZTpDcyxwcm9jZXNzRXZlbnQ6dD0+ZSh0KX19KHRoaXMsdCksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5fX2xvYWRlZD0hMSx0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD1cIi9lL1wiLHRoaXMuRXM9ITEsdGhpcy5Qcz1udWxsLHRoaXMuUnM9bnVsbCx0aGlzLklzPW51bGwsdGhpcy5mZWF0dXJlRmxhZ3M9bmV3IElvKHRoaXMpLHRoaXMudG9vbGJhcj1uZXcgTHModGhpcyksdGhpcy5zY3JvbGxNYW5hZ2VyPW5ldyBuYSh0aGlzKSx0aGlzLnBhZ2VWaWV3TWFuYWdlcj1uZXcgVnModGhpcyksdGhpcy5zdXJ2ZXlzPW5ldyBZbyh0aGlzKSx0aGlzLmV4cGVyaW1lbnRzPW5ldyBiYSh0aGlzKSx0aGlzLmV4Y2VwdGlvbnM9bmV3IGFuKHRoaXMpLHRoaXMucmF0ZUxpbWl0ZXI9bmV3IFFvKHRoaXMpLHRoaXMucmVxdWVzdFJvdXRlcj1uZXcgbWEodGhpcyksdGhpcy5jb25zZW50PW5ldyBHZSh0aGlzKSx0aGlzLmV4dGVybmFsSW50ZWdyYXRpb25zPW5ldyBrYSh0aGlzKSx0aGlzLnBlb3BsZT17c2V0Oih0LGksZSk9Pnt2YXIgcj1NKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXMociksbnVsbD09ZXx8ZSh7fSl9LHNldF9vbmNlOih0LGksZSk9Pnt2YXIgcj1NKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXModm9pZCAwLHIpLG51bGw9PWV8fGUoe30pfX0sdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+eHQuaW5mbygnc2VuZCBcIicrKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKydcIicsdCkpKX1pbml0KHQsaSxlKXtpZihlJiZlIT09SWEpe3ZhciByLHM9bnVsbCE9PShyPVBhW2VdKSYmdm9pZCAwIT09cj9yOm5ldyBGYTtyZXR1cm4gcy5faW5pdCh0LGksZSksUGFbZV09cyxQYVtJYV1bZV09cyxzfXJldHVybiB0aGlzLl9pbml0KHQsaSxlKX1faW5pdChpLGUscil7dmFyIHMsbjtpZih2b2lkIDA9PT1lJiYoZT17fSksQyhpKXx8TyhpKSlyZXR1cm4geHQuY3JpdGljYWwoXCJQb3N0SG9nIHdhcyBpbml0aWFsaXplZCB3aXRob3V0IGEgdG9rZW4uIFRoaXMgbGlrZWx5IGluZGljYXRlcyBhIG1pc2NvbmZpZ3VyYXRpb24uIFBsZWFzZSBjaGVjayB0aGUgZmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHBvc3Rob2cuaW5pdCgpXCIpLHRoaXM7aWYodGhpcy5fX2xvYWRlZClyZXR1cm4geHQud2FybihcIllvdSBoYXZlIGFscmVhZHkgaW5pdGlhbGl6ZWQgUG9zdEhvZyEgUmUtaW5pdGlhbGl6aW5nIGlzIGEgbm8tb3BcIiksdGhpczt0aGlzLl9fbG9hZGVkPSEwLHRoaXMuY29uZmlnPXt9LHRoaXMuVHM9ZSx0aGlzLkNzPVtdLGUucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5Scz1lLnBlcnNvbl9wcm9maWxlcyksdGhpcy5zZXRfY29uZmlnKE10KHt9LENhKGUuZGVmYXVsdHMpLE1hKGUpLHtuYW1lOnIsdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJnh0LmVycm9yKFwib25feGhyX2Vycm9yIGlzIGRlcHJlY2F0ZWQuIFVzZSBvbl9yZXF1ZXN0X2Vycm9yIGluc3RlYWRcIiksdGhpcy5jb21wcmVzc2lvbj1lLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmRlLkdaaXBKUzt2YXIgbz10aGlzLk1zKCk7dGhpcy5wZXJzaXN0ZW5jZT1uZXcgQ28odGhpcy5jb25maWcsbyksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBDbyhnKHt9LHRoaXMuY29uZmlnLHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSxvKTt2YXIgYT1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcHMpLGw9Zyh7fSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wcyk7dGhpcy5yZWdpc3Rlcih7JGluaXRpYWxpemF0aW9uX3RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksdGhpcy5Pcz1uZXcgZWEoKHQ9PnRoaXMuRnModCkpLHRoaXMuY29uZmlnLnJlcXVlc3RfcXVldWVfY29uZmlnKSx0aGlzLkFzPW5ldyBzYSh0aGlzKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXTt2YXIgdT1cImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlfHxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKTtpZih1fHwodGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgdWEodGhpcyksdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBhYSh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLG5ldyBVcyh0aGlzKS5zdGFydElmRW5hYmxlZE9yU3RvcCgpLHRoaXMuc2l0ZUFwcHM9bmV3IHZhKHRoaXMpLG51bGw9PShzPXRoaXMuc2l0ZUFwcHMpfHxzLmluaXQoKSx1fHwodGhpcy5jb25maWcuX19wcmV2aWV3X2VhZ2VyX2xvYWRfcmVwbGF5P3RoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgUnModGhpcyk6dGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyBFYSh0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSksdGhpcy5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllc3x8dGhpcy5zY3JvbGxNYW5hZ2VyLnN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKSx0aGlzLmF1dG9jYXB0dXJlPW5ldyAkZSh0aGlzKSx0aGlzLmF1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLmhlYXRtYXBzPW5ldyBHcyh0aGlzKSx0aGlzLmhlYXRtYXBzLnN0YXJ0SWZFbmFibGVkKCksdGhpcy53ZWJWaXRhbHNBdXRvY2FwdHVyZT1uZXcgQnModGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlcj1uZXcgUWUodGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlci5zdGFydElmRW5hYmxlZCgpLHRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlPW5ldyBZZSh0aGlzLEtlKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuaGlzdG9yeUF1dG9jYXB0dXJlPW5ldyB0cih0aGlzKSx0aGlzLmhpc3RvcnlBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLGMuREVCVUc9Yy5ERUJVR3x8dGhpcy5jb25maWcuZGVidWcsYy5ERUJVRyYmeHQuaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzplLHRoaXNDOmcoe30sdGhpcy5jb25maWcpLHA6YSxzOmx9KSx2b2lkIDAhPT0obnVsbD09KG49ZS5ib290c3RyYXApP3ZvaWQgMDpuLmRpc3RpbmN0SUQpKXt2YXIgaCxkLHY9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChDZSgpKSxmPW51bGwhPShoPWUuYm9vdHN0cmFwKSYmaC5pc0lkZW50aWZpZWRJRD92OmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQ7dGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkod2ksbnVsbCE9KGQ9ZS5ib290c3RyYXApJiZkLmlzSWRlbnRpZmllZElEP1wiaWRlbnRpZmllZFwiOlwiYW5vbnltb3VzXCIpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQsJGRldmljZV9pZDpmfSl9aWYodGhpcy5EcygpKXt2YXIgcCxfLG09T2JqZWN0LmtleXMoKG51bGw9PShwPWUuYm9vdHN0cmFwKT92b2lkIDA6cC5mZWF0dXJlRmxhZ3MpfHx7fSkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuIShudWxsPT0oaT1lLmJvb3RzdHJhcCl8fG51bGw9PShpPWkuZmVhdHVyZUZsYWdzKXx8IWlbdF0pfSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcjtyZXR1cm4gdFtpXT0obnVsbD09KHI9ZS5ib290c3RyYXApfHxudWxsPT0ocj1yLmZlYXR1cmVGbGFncyk/dm9pZCAwOnJbaV0pfHwhMSx0fSkse30pLHk9T2JqZWN0LmtleXMoKG51bGw9PShfPWUuYm9vdHN0cmFwKT92b2lkIDA6Xy5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8e30pLmZpbHRlcigodD0+bVt0XSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcixzO251bGwhPShyPWUuYm9vdHN0cmFwKSYmbnVsbCE9KHI9ci5mZWF0dXJlRmxhZ1BheWxvYWRzKSYmcltpXSYmKHRbaV09bnVsbD09KHM9ZS5ib290c3RyYXApfHxudWxsPT0ocz1zLmZlYXR1cmVGbGFnUGF5bG9hZHMpP3ZvaWQgMDpzW2ldKTtyZXR1cm4gdH0pLHt9KTt0aGlzLmZlYXR1cmVGbGFncy5yZWNlaXZlZEZlYXR1cmVGbGFncyh7ZmVhdHVyZUZsYWdzOm0sZmVhdHVyZUZsYWdQYXlsb2Fkczp5fSl9aWYodSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOklpLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZSBpZighdGhpcy5nZXRfZGlzdGluY3RfaWQoKSl7dmFyIGI9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChDZSgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOmIsJGRldmljZV9pZDpifSxcIlwiKSx0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eSh3aSxcImFub255bW91c1wiKX1yZXR1cm4gcXQodCxcIm9ucGFnZWhpZGVcImluIHNlbGY/XCJwYWdlaGlkZVwiOlwidW5sb2FkXCIsdGhpcy5faGFuZGxlX3VubG9hZC5iaW5kKHRoaXMpLHtwYXNzaXZlOiExfSksdGhpcy50b29sYmFyLm1heWJlTG9hZFRvb2xiYXIoKSxlLnNlZ21lbnQ/VHModGhpcywoKCk9PnRoaXMuanMoKSkpOnRoaXMuanMoKSxSKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09UmEmJih4dC53YXJuKFwib25DYXB0dXJlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGJlZm9yZV9zZW5kYCBpbnN0ZWFkXCIpLHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuY29uZmlnLl9vbkNhcHR1cmUodC5ldmVudCx0KSkpKSx0aGlzLmNvbmZpZy5pcCYmeHQud2FybignVGhlIGBpcGAgY29uZmlnIG9wdGlvbiBoYXMgTk8gRUZGRUNUIEFUIEFMTCBhbmQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIGEgY3VzdG9tIHRyYW5zZm9ybWF0aW9uIG9yIFwiRGlzY2FyZCBJUCBkYXRhXCIgcHJvamVjdCBzZXR0aW5nIGluc3RlYWQuIFNlZSBodHRwczovL3Bvc3Rob2cuY29tL3R1dG9yaWFscy93ZWItcmVkYWN0LXByb3BlcnRpZXMjaGlkaW5nLWN1c3RvbWVyLWlwLWFkZHJlc3MgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyksdGhpc31DZSh0KXt2YXIgaSxlLHIscyxuLGEsbCx1O2lmKCFvfHwhby5ib2R5KXJldHVybiB4dC5pbmZvKFwiZG9jdW1lbnQgbm90IHJlYWR5IHlldCwgdHJ5aW5nIGFnYWluIGluIDUwMCBtaWxsaXNlY29uZHMuLi5cIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMuQ2UodCl9KSw1MDApO3RoaXMuY29tcHJlc3Npb249dm9pZCAwLHQuc3VwcG9ydGVkQ29tcHJlc3Npb24mJiF0aGlzLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uJiYodGhpcy5jb21wcmVzc2lvbj15KHQuc3VwcG9ydGVkQ29tcHJlc3Npb24sZGUuR1ppcEpTKT9kZS5HWmlwSlM6eSh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGRlLkJhc2U2NCk/ZGUuQmFzZTY0OnZvaWQgMCksbnVsbCE9KGk9dC5hbmFseXRpY3MpJiZpLmVuZHBvaW50JiYodGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9dC5hbmFseXRpY3MuZW5kcG9pbnQpLHRoaXMuc2V0X2NvbmZpZyh7cGVyc29uX3Byb2ZpbGVzOnRoaXMuUnM/dGhpcy5SczpcImlkZW50aWZpZWRfb25seVwifSksbnVsbD09KGU9dGhpcy5zaXRlQXBwcyl8fGUub25SZW1vdGVDb25maWcodCksbnVsbD09KHI9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8ci5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0ocz10aGlzLmF1dG9jYXB0dXJlKXx8cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0obj10aGlzLmhlYXRtYXBzKXx8bi5vblJlbW90ZUNvbmZpZyh0KSx0aGlzLnN1cnZleXMub25SZW1vdGVDb25maWcodCksbnVsbD09KGE9dGhpcy53ZWJWaXRhbHNBdXRvY2FwdHVyZSl8fGEub25SZW1vdGVDb25maWcodCksbnVsbD09KGw9dGhpcy5leGNlcHRpb25PYnNlcnZlcil8fGwub25SZW1vdGVDb25maWcodCksdGhpcy5leGNlcHRpb25zLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PSh1PXRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlKXx8dS5vblJlbW90ZUNvbmZpZyh0KX1qcygpe3RyeXt0aGlzLmNvbmZpZy5sb2FkZWQodGhpcyl9Y2F0Y2godCl7eHQuY3JpdGljYWwoXCJgbG9hZGVkYCBmdW5jdGlvbiBmYWlsZWRcIix0KX10aGlzLkxzKCksdGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmc2V0VGltZW91dCgoKCk9PnsodGhpcy5jb25zZW50LmlzT3B0ZWRJbigpfHxcImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKSYmdGhpcy5OcygpfSksMSksbmV3IHRhKHRoaXMpLmxvYWQoKSx0aGlzLmZlYXR1cmVGbGFncy5mbGFncygpfUxzKCl7dmFyIHQ7dGhpcy5pc19jYXB0dXJpbmcoKSYmKHRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmcmJihudWxsPT0odD10aGlzLk9zKXx8dC5lbmFibGUoKSkpfV9kb21fbG9hZGVkKCl7dGhpcy5pc19jYXB0dXJpbmcoKSYmVHQodGhpcy5fX3JlcXVlc3RfcXVldWUsKHQ9PnRoaXMuRnModCkpKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLkxzKCl9X2hhbmRsZV91bmxvYWQoKXt2YXIgdCxpO3RoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmc/KHRoaXMuVXMoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiKSxudWxsPT0odD10aGlzLk9zKXx8dC51bmxvYWQoKSxudWxsPT0oaT10aGlzLkFzKXx8aS51bmxvYWQoKSk6dGhpcy5VcygpJiZ0aGlzLmNhcHR1cmUoXCIkcGFnZWxlYXZlXCIsbnVsbCx7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwifSl9VGUodCl7dGhpcy5fX2xvYWRlZCYmKFRhP3RoaXMuX19yZXF1ZXN0X3F1ZXVlLnB1c2godCk6dGhpcy5yYXRlTGltaXRlci5pc1NlcnZlclJhdGVMaW1pdGVkKHQuYmF0Y2hLZXkpfHwodC50cmFuc3BvcnQ9dC50cmFuc3BvcnR8fHRoaXMuY29uZmlnLmFwaV90cmFuc3BvcnQsdC51cmw9WHModC51cmwse2lwOnRoaXMuY29uZmlnLmlwPzE6MH0pLHQuaGVhZGVycz1nKHt9LHRoaXMuY29uZmlnLnJlcXVlc3RfaGVhZGVycyksdC5jb21wcmVzc2lvbj1cImJlc3QtYXZhaWxhYmxlXCI9PT10LmNvbXByZXNzaW9uP3RoaXMuY29tcHJlc3Npb246dC5jb21wcmVzc2lvbix0LmRpc2FibGVYSFJDcmVkZW50aWFscz10aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGlzYWJsZV94aHJfY3JlZGVudGlhbHMsdGhpcy5jb25maWcuX19wcmV2aWV3X2Rpc2FibGVfYmVhY29uJiYodC5kaXNhYmxlVHJhbnNwb3J0PVtcInNlbmRCZWFjb25cIl0pLHQuZmV0Y2hPcHRpb25zPXQuZmV0Y2hPcHRpb25zfHx0aGlzLmNvbmZpZy5mZXRjaF9vcHRpb25zLCh0PT57dmFyIGksZSxyLHM9Zyh7fSx0KTtzLnRpbWVvdXQ9cy50aW1lb3V0fHw2ZTQscy51cmw9WHMocy51cmwse186KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKSx2ZXI6Yy5MSUJfVkVSU0lPTixjb21wcmVzc2lvbjpzLmNvbXByZXNzaW9ufSk7dmFyIG49bnVsbCE9PShpPXMudHJhbnNwb3J0KSYmdm9pZCAwIT09aT9pOlwiZmV0Y2hcIixvPXRuLmZpbHRlcigodD0+IXMuZGlzYWJsZVRyYW5zcG9ydHx8IXQudHJhbnNwb3J0fHwhcy5kaXNhYmxlVHJhbnNwb3J0LmluY2x1ZGVzKHQudHJhbnNwb3J0KSkpLGE9bnVsbCE9PShlPW51bGw9PShyPXp0KG8sKHQ9PnQudHJhbnNwb3J0PT09bikpKT92b2lkIDA6ci5tZXRob2QpJiZ2b2lkIDAhPT1lP2U6b1swXS5tZXRob2Q7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiTm8gYXZhaWxhYmxlIHRyYW5zcG9ydCBtZXRob2RcIik7YShzKX0pKGcoe30sdCx7Y2FsbGJhY2s6aT0+e3ZhciBlLHI7KHRoaXMucmF0ZUxpbWl0ZXIuY2hlY2tGb3JMaW1pdGluZyhpKSxpLnN0YXR1c0NvZGU+PTQwMCkmJihudWxsPT0oZT0ocj10aGlzLmNvbmZpZykub25fcmVxdWVzdF9lcnJvcil8fGUuY2FsbChyLGkpKTtudWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKGkpfX0pKSkpfUZzKHQpe3RoaXMuQXM/dGhpcy5Bcy5yZXRyaWFibGVSZXF1ZXN0KHQpOnRoaXMuVGUodCl9X2V4ZWN1dGVfYXJyYXkodCl7dmFyIGksZT1bXSxyPVtdLHM9W107VHQodCwodD0+e3QmJihpPXRbMF0sUChpKT9zLnB1c2godCk6Uih0KT90LmNhbGwodGhpcyk6UCh0KSYmXCJhbGlhc1wiPT09aT9lLnB1c2godCk6UCh0KSYmLTEhPT1pLmluZGV4T2YoXCJjYXB0dXJlXCIpJiZSKHRoaXNbaV0pP3MucHVzaCh0KTpyLnB1c2godCkpfSkpO3ZhciBuPWZ1bmN0aW9uKHQsaSl7VHQodCwoZnVuY3Rpb24odCl7aWYoUCh0WzBdKSl7dmFyIGU9aTtDdCh0LChmdW5jdGlvbih0KXtlPWVbdFswXV0uYXBwbHkoZSx0LnNsaWNlKDEpKX0pKX1lbHNlIHRoaXNbdFswXV0uYXBwbHkodGhpcyx0LnNsaWNlKDEpKX0pLGkpfTtuKGUsdGhpcyksbihyLHRoaXMpLG4ocyx0aGlzKX1Ecygpe3ZhciB0LGk7cmV0dXJuKG51bGw9PSh0PXRoaXMuY29uZmlnLmJvb3RzdHJhcCk/dm9pZCAwOnQuZmVhdHVyZUZsYWdzKSYmT2JqZWN0LmtleXMobnVsbD09KGk9dGhpcy5jb25maWcuYm9vdHN0cmFwKT92b2lkIDA6aS5mZWF0dXJlRmxhZ3MpLmxlbmd0aD4wfHwhMX1wdXNoKHQpe3RoaXMuX2V4ZWN1dGVfYXJyYXkoW3RdKX1jYXB0dXJlKHQsaSxlKXt2YXIgcjtpZih0aGlzLl9fbG9hZGVkJiZ0aGlzLnBlcnNpc3RlbmNlJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSYmdGhpcy5Pcyl7aWYodGhpcy5pc19jYXB0dXJpbmcoKSlpZighQyh0KSYmTSh0KSl7aWYodGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyfHwhdGhpcy5faXNfYm90KCkpe3ZhciBzPW51bGwhPWUmJmUuc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZz92b2lkIDA6dGhpcy5yYXRlTGltaXRlci5jbGllbnRSYXRlTGltaXRDb250ZXh0KCk7aWYobnVsbD09c3x8IXMuaXNSYXRlTGltaXRlZCl7bnVsbCE9aSYmaS4kY3VycmVudF91cmwmJiFNKG51bGw9PWk/dm9pZCAwOmkuJGN1cnJlbnRfdXJsKSYmKHh0LmVycm9yKFwiSW52YWxpZCBgJGN1cnJlbnRfdXJsYCBwcm9wZXJ0eSBwcm92aWRlZCB0byBgcG9zdGhvZy5jYXB0dXJlYC4gSW5wdXQgbXVzdCBiZSBhIHN0cmluZy4gSWdub3JpbmcgcHJvdmlkZWQgdmFsdWUuXCIpLG51bGw9PWl8fGRlbGV0ZSBpLiRjdXJyZW50X3VybCksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3NlYXJjaF9rZXl3b3JkKCksdGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXMmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKSx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfcmVmZXJyZXJfaW5mbygpLCh0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtc3x8dGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlcikmJnRoaXMucGVyc2lzdGVuY2Uuc2V0X2luaXRpYWxfcGVyc29uX2luZm8oKTt2YXIgbj1uZXcgRGF0ZSxvPShudWxsPT1lP3ZvaWQgMDplLnRpbWVzdGFtcCl8fG4sYT1DZSgpLGw9e3V1aWQ6YSxldmVudDp0LHByb3BlcnRpZXM6dGhpcy5jYWxjdWxhdGVFdmVudFByb3BlcnRpZXModCxpfHx7fSxvLGEpfTtzJiYobC5wcm9wZXJ0aWVzLiRsaWJfcmF0ZV9saW1pdF9yZW1haW5pbmdfdG9rZW5zPXMucmVtYWluaW5nVG9rZW5zKSwobnVsbD09ZT92b2lkIDA6ZS4kc2V0KSYmKGwuJHNldD1udWxsPT1lP3ZvaWQgMDplLiRzZXQpO3ZhciB1LGg9dGhpcy56cyhudWxsPT1lP3ZvaWQgMDplLiRzZXRfb25jZSk7aWYoaCYmKGwuJHNldF9vbmNlPWgpLChsPUx0KGwsbnVsbCE9ZSYmZS5fbm9UcnVuY2F0ZT9udWxsOnRoaXMuY29uZmlnLnByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGgpKS50aW1lc3RhbXA9byxDKG51bGw9PWU/dm9pZCAwOmUudGltZXN0YW1wKXx8KGwucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9wcm92aWRlZD0hMCxsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfc3lzdGVtX3RpbWU9biksdD09PUxvLkRJU01JU1NFRHx8dD09PUxvLlNFTlQpe3ZhciBkPW51bGw9PWk/dm9pZCAwOmlbTm8uU1VSVkVZX0lEXSx2PW51bGw9PWk/dm9pZCAwOmlbTm8uU1VSVkVZX0lURVJBVElPTl07dT17aWQ6ZCxjdXJyZW50X2l0ZXJhdGlvbjp2fSxsb2NhbFN0b3JhZ2UuZ2V0SXRlbShHbyh1KSl8fGxvY2FsU3RvcmFnZS5zZXRJdGVtKEdvKHUpLFwidHJ1ZVwiKSxsLiRzZXQ9Zyh7fSxsLiRzZXQse1tXbyh7aWQ6ZCxjdXJyZW50X2l0ZXJhdGlvbjp2fSx0PT09TG8uU0VOVD9cInJlc3BvbmRlZFwiOlwiZGlzbWlzc2VkXCIpXTohMH0pfXZhciBjPWcoe30sbC5wcm9wZXJ0aWVzLiRzZXQsbC4kc2V0KTtpZihUKGMpfHx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhjKSwhQSh0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCkpe3ZhciBmPXRoaXMucXMobCk7aWYoIWYpcmV0dXJuO2w9Zn10aGlzLnhzLmVtaXQoXCJldmVudENhcHR1cmVkXCIsbCk7dmFyIHA9e21ldGhvZDpcIlBPU1RcIix1cmw6bnVsbCE9PShyPW51bGw9PWU/dm9pZCAwOmUuX3VybCkmJnZvaWQgMCE9PXI/cjp0aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludCksZGF0YTpsLGNvbXByZXNzaW9uOlwiYmVzdC1hdmFpbGFibGVcIixiYXRjaEtleTpudWxsPT1lP3ZvaWQgMDplLl9iYXRjaEtleX07cmV0dXJuIXRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmd8fGUmJihudWxsPT1lfHwhZS5fYmF0Y2hLZXkpfHxudWxsIT1lJiZlLnNlbmRfaW5zdGFudGx5P3RoaXMuRnMocCk6dGhpcy5Pcy5lbnF1ZXVlKHApLGx9eHQuY3JpdGljYWwoXCJUaGlzIGNhcHR1cmUgY2FsbCBpcyBpZ25vcmVkIGR1ZSB0byBjbGllbnQgcmF0ZSBsaW1pdGluZy5cIil9fWVsc2UgeHQuZXJyb3IoXCJObyBldmVudCBuYW1lIHByb3ZpZGVkIHRvIHBvc3Rob2cuY2FwdHVyZVwiKX1lbHNlIHh0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5jYXB0dXJlXCIpfVllKHQpe3JldHVybiB0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChpPT50KGkuZXZlbnQsaSkpKX1jYWxjdWxhdGVFdmVudFByb3BlcnRpZXModCxpLGUscixzKXtpZihlPWV8fG5ldyBEYXRlLCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpcmV0dXJuIGk7dmFyIG49cz92b2lkIDA6dGhpcy5wZXJzaXN0ZW5jZS5yZW1vdmVfZXZlbnRfdGltZXIodCksYT1nKHt9LGkpO2lmKGEudG9rZW49dGhpcy5jb25maWcudG9rZW4sYS4kY29uZmlnX2RlZmF1bHRzPXRoaXMuY29uZmlnLmRlZmF1bHRzLChcImFsd2F5c1wiPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGV8fFwib25fcmVqZWN0XCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCkpJiYoYS4kY29va2llbGVzc19tb2RlPSEwKSxcIiRzbmFwc2hvdFwiPT09dCl7dmFyIGw9Zyh7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpO3JldHVybiBhLmRpc3RpbmN0X2lkPWwuZGlzdGluY3RfaWQsKCFNKGEuZGlzdGluY3RfaWQpJiYhRChhLmRpc3RpbmN0X2lkKXx8TyhhLmRpc3RpbmN0X2lkKSkmJnh0LmVycm9yKFwiSW52YWxpZCBkaXN0aW5jdF9pZCBmb3IgcmVwbGF5IGV2ZW50LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiB5b3VyIGltcGxlbWVudGF0aW9uXCIpLGF9dmFyIHUsaD15byh0aGlzLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKTtpZih0aGlzLnNlc3Npb25NYW5hZ2VyKXt2YXJ7c2Vzc2lvbklkOnYsd2luZG93SWQ6Y309dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZChzLGUuZ2V0VGltZSgpKTthLiRzZXNzaW9uX2lkPXYsYS4kd2luZG93X2lkPWN9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyJiZNdChhLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlci5nZXRTZXNzaW9uUHJvcHMoKSk7dHJ5e3ZhciBmO3RoaXMuc2Vzc2lvblJlY29yZGluZyYmTXQoYSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc2RrRGVidWdQcm9wZXJ0aWVzKSxhLiRzZGtfZGVidWdfcmV0cnlfcXVldWVfc2l6ZT1udWxsPT0oZj10aGlzLkFzKT92b2lkIDA6Zi5sZW5ndGh9Y2F0Y2godCl7YS4kc2RrX2RlYnVnX2Vycm9yX2NhcHR1cmluZ19wcm9wZXJ0aWVzPVN0cmluZyh0KX1pZih0aGlzLnJlcXVlc3RSb3V0ZXIucmVnaW9uPT09Z2EuQ1VTVE9NJiYoYS4kbGliX2N1c3RvbV9hcGlfaG9zdD10aGlzLmNvbmZpZy5hcGlfaG9zdCksdT1cIiRwYWdldmlld1wiIT09dHx8cz9cIiRwYWdlbGVhdmVcIiE9PXR8fHM/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9FdmVudCgpOnRoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZUxlYXZlKGUpOnRoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZVZpZXcoZSxyKSxhPU10KGEsdSksXCIkcGFnZXZpZXdcIj09PXQmJm8mJihhLnRpdGxlPW8udGl0bGUpLCFDKG4pKXt2YXIgcD1lLmdldFRpbWUoKS1uO2EuJGR1cmF0aW9uPXBhcnNlRmxvYXQoKHAvMWUzKS50b0ZpeGVkKDMpKX1kJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJihhLiRicm93c2VyX3R5cGU9dGhpcy5faXNfYm90KCk/XCJib3RcIjpcImJyb3dzZXJcIiksKGE9TXQoe30saCx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksYSkpLiRpc19pZGVudGlmaWVkPXRoaXMuX2lzSWRlbnRpZmllZCgpLFAodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QpP0N0KHRoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0LChmdW5jdGlvbih0KXtkZWxldGUgYVt0XX0pKTp4dC5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QrXCIgb3IgcHJvcGVydHlfYmxhY2tsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfYmxhY2tsaXN0KTt2YXIgXz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO18mJih4dC5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIiksYT1fKGEsdCkpO3ZhciBtPXRoaXMuQnMoKTtyZXR1cm4gYS4kcHJvY2Vzc19wZXJzb25fcHJvZmlsZT1tLG0mJiFzJiZ0aGlzLkhzKFwiX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzXCIpLGF9enModCl7dmFyIGk7aWYoIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLkJzKCkpcmV0dXJuIHQ7aWYodGhpcy4kcylyZXR1cm4gdDt2YXIgZT10aGlzLnBlcnNpc3RlbmNlLmdldF9pbml0aWFsX3Byb3BzKCkscj1udWxsPT0oaT10aGlzLnNlc3Npb25Qcm9wc01hbmFnZXIpP3ZvaWQgMDppLmdldFNldE9uY2VQcm9wcygpLHM9TXQoe30sZSxyfHx7fSx0fHx7fSksbj10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO3JldHVybiBuJiYoeHQuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLHM9bihzLFwiJHNldF9vbmNlXCIpKSx0aGlzLiRzPSEwLFQocyk/dm9pZCAwOnN9cmVnaXN0ZXIodCxpKXt2YXIgZTtudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS5yZWdpc3Rlcih0LGkpfXJlZ2lzdGVyX29uY2UodCxpLGUpe3ZhciByO251bGw9PShyPXRoaXMucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyX29uY2UodCxpLGUpfXJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHQpe3ZhciBpO251bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih0KX11bnJlZ2lzdGVyKHQpe3ZhciBpO251bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxpLnVucmVnaXN0ZXIodCl9dW5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih0KXt2YXIgaTtudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fGkudW5yZWdpc3Rlcih0KX1Xcyh0LGkpe3RoaXMucmVnaXN0ZXIoe1t0XTppfSl9Z2V0RmVhdHVyZUZsYWcodCxpKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWcodCxpKX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl7dmFyIGk9dGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShpKX1jYXRjaCh0KXtyZXR1cm4gaX19aXNGZWF0dXJlRW5hYmxlZCh0LGkpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKHQsaSl9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVsb2FkRmVhdHVyZUZsYWdzKCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl7dGhpcy5mZWF0dXJlRmxhZ3MudXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSx0aGlzLmZlYXR1cmVGbGFncy5nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKX1vbih0LGkpe3JldHVybiB0aGlzLnhzLm9uKHQsaSl9b25GZWF0dXJlRmxhZ3ModCl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLm9uRmVhdHVyZUZsYWdzKHQpfW9uU3VydmV5c0xvYWRlZCh0KXtyZXR1cm4gdGhpcy5zdXJ2ZXlzLm9uU3VydmV5c0xvYWRlZCh0KX1vblNlc3Npb25JZCh0KXt2YXIgaSxlO3JldHVybiBudWxsIT09KGk9bnVsbD09KGU9dGhpcy5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmUub25TZXNzaW9uSWQodCkpJiZ2b2lkIDAhPT1pP2k6KCk9Pnt9fWdldFN1cnZleXModCxpKXt2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmdldFN1cnZleXModCxpKX1nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKXt2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpfXJlbmRlclN1cnZleSh0LGkpe3RoaXMuc3VydmV5cy5yZW5kZXJTdXJ2ZXkodCxpKX1kaXNwbGF5U3VydmV5KHQsaSl7dm9pZCAwPT09aSYmKGk9Sm8pLHRoaXMuc3VydmV5cy5kaXNwbGF5U3VydmV5KHQsaSl9Y2FuUmVuZGVyU3VydmV5KHQpe3JldHVybiB0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5KHQpfWNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5QXN5bmModCxpKX1pZGVudGlmeSh0LGksZSl7aWYoIXRoaXMuX19sb2FkZWR8fCF0aGlzLnBlcnNpc3RlbmNlKXJldHVybiB4dC51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuaWRlbnRpZnlcIik7aWYoRCh0KSYmKHQ9dC50b1N0cmluZygpLHh0Lndhcm4oXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gcG9zdGhvZy5pZGVudGlmeSB3YXMgYSBudW1iZXIsIGJ1dCBpdCBzaG91bGQgYmUgYSBzdHJpbmcuIEl0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cIikpLHQpaWYoW1wiZGlzdGluY3RfaWRcIixcImRpc3RpbmN0aWRcIl0uaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSl4dC5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicrdCsnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBzaG91bGQgYmUgdW5pcXVlIHRvIHRoZSB1c2VyIGFuZCBub3QgYSBoYXJkY29kZWQgc3RyaW5nLicpO2Vsc2UgaWYodCE9PUlpKXtpZih0aGlzLkhzKFwicG9zdGhvZy5pZGVudGlmeVwiKSl7dmFyIHI9dGhpcy5nZXRfZGlzdGluY3RfaWQoKTtpZih0aGlzLnJlZ2lzdGVyKHskdXNlcl9pZDp0fSksIXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKSl7dmFyIHM9cjt0aGlzLnJlZ2lzdGVyX29uY2UoeyRoYWRfcGVyc2lzdGVkX2Rpc3RpbmN0X2lkOiEwLCRkZXZpY2VfaWQ6c30sXCJcIil9dCE9PXImJnQhPT10aGlzLmdldF9wcm9wZXJ0eShIdCkmJih0aGlzLnVucmVnaXN0ZXIoSHQpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOnR9KSk7dmFyIG49XCJhbm9ueW1vdXNcIj09PSh0aGlzLnBlcnNpc3RlbmNlLmdldF9wcm9wZXJ0eSh3aSl8fFwiYW5vbnltb3VzXCIpO3QhPT1yJiZuPyh0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eSh3aSxcImlkZW50aWZpZWRcIiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZyh7fSxlfHx7fSxpfHx7fSksITEpLHRoaXMuY2FwdHVyZShcIiRpZGVudGlmeVwiLHtkaXN0aW5jdF9pZDp0LCRhbm9uX2Rpc3RpbmN0X2lkOnJ9LHskc2V0Oml8fHt9LCRzZXRfb25jZTplfHx7fX0pLHRoaXMuSXM9cm4odCxpLGUpLHRoaXMuZmVhdHVyZUZsYWdzLnNldEFub255bW91c0Rpc3RpbmN0SWQocikpOihpfHxlKSYmdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKGksZSksdCE9PXImJih0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpLHRoaXMudW5yZWdpc3RlcihiaSkpfX1lbHNlIHh0LmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJytJaSsnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBpcyBvbmx5IHVzZWQgYXMgYSBzZW50aW5lbCB2YWx1ZS4nKTtlbHNlIHh0LmVycm9yKFwiVW5pcXVlIHVzZXIgaWQgaGFzIG5vdCBiZWVuIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5XCIpfXNldFBlcnNvblByb3BlcnRpZXModCxpKXtpZigodHx8aSkmJnRoaXMuSHMoXCJwb3N0aG9nLnNldFBlcnNvblByb3BlcnRpZXNcIikpe3ZhciBlPXJuKHRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCksdCxpKTt0aGlzLklzIT09ZT8odGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZyh7fSxpfHx7fSx0fHx7fSkpLHRoaXMuY2FwdHVyZShcIiRzZXRcIix7JHNldDp0fHx7fSwkc2V0X29uY2U6aXx8e319KSx0aGlzLklzPWUpOnh0LmluZm8oXCJBIGR1cGxpY2F0ZSBzZXRQZXJzb25Qcm9wZXJ0aWVzIGNhbGwgd2FzIG1hZGUgd2l0aCB0aGUgc2FtZSBwcm9wZXJ0aWVzLiBJdCBoYXMgYmVlbiBpZ25vcmVkLlwiKX19Z3JvdXAodCxpLGUpe2lmKHQmJmkpe2lmKHRoaXMuSHMoXCJwb3N0aG9nLmdyb3VwXCIpKXt2YXIgcj10aGlzLmdldEdyb3VwcygpO3JbdF0hPT1pJiZ0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCksdGhpcy5yZWdpc3Rlcih7JGdyb3VwczpnKHt9LHIse1t0XTppfSl9KSxlJiYodGhpcy5jYXB0dXJlKFwiJGdyb3VwaWRlbnRpZnlcIix7JGdyb3VwX3R5cGU6dCwkZ3JvdXBfa2V5OmksJGdyb3VwX3NldDplfSksdGhpcy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh7W3RdOmV9KSksclt0XT09PWl8fGV8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9fWVsc2UgeHQuZXJyb3IoXCJwb3N0aG9nLmdyb3VwIHJlcXVpcmVzIGEgZ3JvdXAgdHlwZSBhbmQgZ3JvdXAga2V5XCIpfXJlc2V0R3JvdXBzKCl7dGhpcy5yZWdpc3Rlcih7JGdyb3Vwczp7fX0pLHRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncygpLHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMuZmVhdHVyZUZsYWdzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh0LGkpfXJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKSx0aGlzLkhzKFwicG9zdGhvZy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFnc1wiKSYmdGhpcy5mZWF0dXJlRmxhZ3Muc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl9cmVzZXQodCl7dmFyIGksZSxyLHM7aWYoeHQuaW5mbyhcInJlc2V0XCIpLCF0aGlzLl9fbG9hZGVkKXJldHVybiB4dC51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cucmVzZXRcIik7dmFyIG49dGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpO2lmKHRoaXMuY29uc2VudC5yZXNldCgpLG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxpLmNsZWFyKCksbnVsbD09KGU9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxlLmNsZWFyKCksdGhpcy5zdXJ2ZXlzLnJlc2V0KCksdGhpcy5mZWF0dXJlRmxhZ3MucmVzZXQoKSxudWxsPT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8ci5zZXRfcHJvcGVydHkod2ksXCJhbm9ueW1vdXNcIiksbnVsbD09KHM9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHMucmVzZXRTZXNzaW9uSWQoKSx0aGlzLklzPW51bGwsXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOklpLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKENlKCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOnQ/bzpufSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApLnNlc3Npb25JZCkmJnZvaWQgMCE9PXQ/dDpcIlwifWdldF9zZXNzaW9uX3JlcGxheV91cmwodCl7aWYoIXRoaXMuc2Vzc2lvbk1hbmFnZXIpcmV0dXJuXCJcIjt2YXJ7c2Vzc2lvbklkOmksc2Vzc2lvblN0YXJ0VGltZXN0YW1wOmV9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApLHI9dGhpcy5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIixcIi9wcm9qZWN0L1wiK3RoaXMuY29uZmlnLnRva2VuK1wiL3JlcGxheS9cIitpKTtpZihudWxsIT10JiZ0LndpdGhUaW1lc3RhbXAmJmUpe3ZhciBzLG49bnVsbCE9PShzPXQudGltZXN0YW1wTG9va0JhY2spJiZ2b2lkIDAhPT1zP3M6MTA7aWYoIWUpcmV0dXJuIHI7cis9XCI/dD1cIitNYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1lKS8xZTMpLW4sMCl9cmV0dXJuIHJ9YWxpYXModCxpKXtyZXR1cm4gdD09PXRoaXMuZ2V0X3Byb3BlcnR5KEJ0KT8oeHQuY3JpdGljYWwoXCJBdHRlbXB0aW5nIHRvIGNyZWF0ZSBhbGlhcyBmb3IgZXhpc3RpbmcgUGVvcGxlIHVzZXIgLSBhYm9ydGluZy5cIiksLTIpOnRoaXMuSHMoXCJwb3N0aG9nLmFsaWFzXCIpPyhDKGkpJiYoaT10aGlzLmdldF9kaXN0aW5jdF9pZCgpKSx0IT09aT8odGhpcy5XcyhIdCx0KSx0aGlzLmNhcHR1cmUoXCIkY3JlYXRlX2FsaWFzXCIse2FsaWFzOnQsZGlzdGluY3RfaWQ6aX0pKTooeHQud2FybihcImFsaWFzIG1hdGNoZXMgY3VycmVudCBkaXN0aW5jdF9pZCAtIHNraXBwaW5nIGFwaSBjYWxsLlwiKSx0aGlzLmlkZW50aWZ5KHQpLC0xKSk6dm9pZCAwfXNldF9jb25maWcodCl7dmFyIGk9Zyh7fSx0aGlzLmNvbmZpZyk7aWYoSSh0KSl7dmFyIGUscixzLG4sbztNdCh0aGlzLmNvbmZpZyxNYSh0KSk7dmFyIGE9dGhpcy5NcygpO251bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnVwZGF0ZV9jb25maWcodGhpcy5jb25maWcsaSxhKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZT1cInNlc3Npb25TdG9yYWdlXCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZXx8XCJtZW1vcnlcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlP3RoaXMucGVyc2lzdGVuY2U6bmV3IENvKGcoe30sdGhpcy5jb25maWcse3BlcnNpc3RlbmNlOlwic2Vzc2lvblN0b3JhZ2VcIn0pLGEpLExlLkcoKSYmXCJ0cnVlXCI9PT1MZS5KKFwicGhfZGVidWdcIikmJih0aGlzLmNvbmZpZy5kZWJ1Zz0hMCksdGhpcy5jb25maWcuZGVidWcmJihjLkRFQlVHPSEwLHh0LmluZm8oXCJzZXRfY29uZmlnXCIse2NvbmZpZzp0LG9sZENvbmZpZzppLG5ld0NvbmZpZzpnKHt9LHRoaXMuY29uZmlnKX0pKSxudWxsPT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxyLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksbnVsbD09KHM9dGhpcy5hdXRvY2FwdHVyZSl8fHMuc3RhcnRJZkVuYWJsZWQoKSxudWxsPT0obj10aGlzLmhlYXRtYXBzKXx8bi5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5HcygpLG51bGw9PShvPXRoaXMuZXh0ZXJuYWxJbnRlZ3JhdGlvbnMpfHxvLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9fXN0YXJ0U2Vzc2lvblJlY29yZGluZyh0KXt2YXIgaT0hMD09PXQsZT17c2FtcGxpbmc6aXx8IShudWxsPT10fHwhdC5zYW1wbGluZyksbGlua2VkX2ZsYWc6aXx8IShudWxsPT10fHwhdC5saW5rZWRfZmxhZyksdXJsX3RyaWdnZXI6aXx8IShudWxsPT10fHwhdC51cmxfdHJpZ2dlciksZXZlbnRfdHJpZ2dlcjppfHwhKG51bGw9PXR8fCF0LmV2ZW50X3RyaWdnZXIpfTtpZihPYmplY3QudmFsdWVzKGUpLnNvbWUoQm9vbGVhbikpe3ZhciByLHMsbixvLGE7aWYobnVsbD09KHI9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKSxlLnNhbXBsaW5nKW51bGw9PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHMub3ZlcnJpZGVTYW1wbGluZygpO2lmKGUubGlua2VkX2ZsYWcpbnVsbD09KG49dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8bi5vdmVycmlkZUxpbmtlZEZsYWcoKTtpZihlLnVybF90cmlnZ2VyKW51bGw9PShvPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fG8ub3ZlcnJpZGVUcmlnZ2VyKFwidXJsXCIpO2lmKGUuZXZlbnRfdHJpZ2dlciludWxsPT0oYT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxhLm92ZXJyaWRlVHJpZ2dlcihcImV2ZW50XCIpfXRoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMX0pfXN0b3BTZXNzaW9uUmVjb3JkaW5nKCl7dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiEwfSl9c2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKXt2YXIgdDtyZXR1cm4hKG51bGw9PSh0PXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fCF0LnN0YXJ0ZWQpfWNhcHR1cmVFeGNlcHRpb24odCxpKXt2YXIgZT1uZXcgRXJyb3IoXCJQb3N0SG9nIHN5bnRoZXRpY0V4Y2VwdGlvblwiKSxyPXRoaXMuZXhjZXB0aW9ucy5idWlsZFByb3BlcnRpZXModCx7aGFuZGxlZDohMCxzeW50aGV0aWNFeGNlcHRpb246ZX0pO3JldHVybiB0aGlzLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KGcoe30scixpKSl9bG9hZFRvb2xiYXIodCl7cmV0dXJuIHRoaXMudG9vbGJhci5sb2FkVG9vbGJhcih0KX1nZXRfcHJvcGVydHkodCl7dmFyIGk7cmV0dXJuIG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW3RdfWdldFNlc3Npb25Qcm9wZXJ0eSh0KXt2YXIgaTtyZXR1cm4gbnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW3RdfXRvU3RyaW5nKCl7dmFyIHQsaT1udWxsIT09KHQ9dGhpcy5jb25maWcubmFtZSkmJnZvaWQgMCE9PXQ/dDpJYTtyZXR1cm4gaSE9PUlhJiYoaT1JYStcIi5cIitpKSxpfV9pc0lkZW50aWZpZWQoKXt2YXIgdCxpO3JldHVyblwiaWRlbnRpZmllZFwiPT09KG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LmdldF9wcm9wZXJ0eSh3aSkpfHxcImlkZW50aWZpZWRcIj09PShudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkuZ2V0X3Byb3BlcnR5KHdpKSl9QnMoKXt2YXIgdCxpO3JldHVybiEoXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzfHxcImlkZW50aWZpZWRfb25seVwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzJiYhdGhpcy5faXNJZGVudGlmaWVkKCkmJlQodGhpcy5nZXRHcm91cHMoKSkmJihudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKXx8bnVsbD09KHQ9dC5wcm9wcyl8fCF0W0h0XSkmJihudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8bnVsbD09KGk9aS5wcm9wcyl8fCFpW1BpXSkpfVVzKCl7cmV0dXJuITA9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2VsZWF2ZXx8XCJpZl9jYXB0dXJlX3BhZ2V2aWV3XCI9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2VsZWF2ZSYmKCEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlld3x8XCJoaXN0b3J5X2NoYW5nZVwiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlldyl9Y3JlYXRlUGVyc29uUHJvZmlsZSgpe3RoaXMuQnMoKXx8dGhpcy5IcyhcInBvc3Rob2cuY3JlYXRlUGVyc29uUHJvZmlsZVwiKSYmdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHt9LHt9KX1Icyh0KXtyZXR1cm5cIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXM/KHh0LmVycm9yKHQrJyB3YXMgY2FsbGVkLCBidXQgcHJvY2Vzc19wZXJzb24gaXMgc2V0IHRvIFwibmV2ZXJcIi4gVGhpcyBjYWxsIHdpbGwgYmUgaWdub3JlZC4nKSwhMSk6KHRoaXMuV3MoUGksITApLCEwKX1Ncygpe2lmKFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpcmV0dXJuITA7dmFyIHQ9dGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSxpPXRoaXMuY29uZmlnLm9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdHx8XCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZTtyZXR1cm4gdGhpcy5jb25maWcuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8dCYmISFpfUdzKCl7dmFyIHQsaSxlLHIscz10aGlzLk1zKCk7KG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LmplKSE9PXMmJihudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS5zZXRfZGlzYWJsZWQocykpOyhudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkuamUpIT09cyYmKG51bGw9PShyPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8ci5zZXRfZGlzYWJsZWQocykpO3JldHVybiBzfW9wdF9pbl9jYXB0dXJpbmcodCl7aWYoXCJhbHdheXNcIiE9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl7dmFyIGk7aWYoXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCkmJih0aGlzLnJlc2V0KCEwKSx0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyB1YSh0aGlzKSx0aGlzLnBlcnNpc3RlbmNlJiYodGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBhYSh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLHRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgUnModGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCkpLHRoaXMuY29uc2VudC5vcHRJbk91dCghMCksdGhpcy5HcygpLFwib25fcmVqZWN0XCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSxDKG51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSl8fG51bGwhPXQmJnQuY2FwdHVyZUV2ZW50TmFtZSl0aGlzLmNhcHR1cmUobnVsbCE9PShpPW51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSkmJnZvaWQgMCE9PWk/aTpcIiRvcHRfaW5cIixudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVQcm9wZXJ0aWVzLHtzZW5kX2luc3RhbnRseTohMH0pO3RoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnRoaXMuTnMoKX1lbHNlIHh0Lndhcm4oJ0NvbnNlbnQgb3B0IGluL291dCBpcyBub3QgdmFsaWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIiBhbmQgd2lsbCBiZSBpZ25vcmVkJyl9b3B0X291dF9jYXB0dXJpbmcoKXt2YXIgdDtcImFsd2F5c1wiIT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlPyhcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCkmJnRoaXMucmVzZXQoITApLHRoaXMuY29uc2VudC5vcHRJbk91dCghMSksdGhpcy5HcygpLFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJih0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDpJaSwkZGV2aWNlX2lkOm51bGx9KSx0aGlzLnNlc3Npb25NYW5hZ2VyPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9dm9pZCAwLG51bGw9PSh0PXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHQuc3RvcFJlY29yZGluZygpLHRoaXMuc2Vzc2lvblJlY29yZGluZz12b2lkIDAsdGhpcy5OcygpKSk6eHQud2FybignQ29uc2VudCBvcHQgaW4vb3V0IGlzIG5vdCB2YWxpZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiIGFuZCB3aWxsIGJlIGlnbm9yZWQnKX1oYXNfb3B0ZWRfaW5fY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkSW4oKX1oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpfWdldF9leHBsaWNpdF9jb25zZW50X3N0YXR1cygpe3ZhciB0PXRoaXMuY29uc2VudC5jb25zZW50O3JldHVybiB0PT09V2UuR1JBTlRFRD9cImdyYW50ZWRcIjp0PT09V2UuREVOSUVEP1wiZGVuaWVkXCI6XCJwZW5kaW5nXCJ9aXNfY2FwdHVyaW5nKCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8KFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU/dGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCl8fHRoaXMuY29uc2VudC5pc09wdGVkSW4oKTohdGhpcy5oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuR3MoKX1faXNfYm90KCl7cmV0dXJuIG4/cGEobix0aGlzLmNvbmZpZy5jdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzKTp2b2lkIDB9TnMoKXtvJiYoXCJ2aXNpYmxlXCI9PT1vLnZpc2liaWxpdHlTdGF0ZT90aGlzLkVzfHwodGhpcy5Fcz0hMCx0aGlzLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7dGl0bGU6by50aXRsZX0se3NlbmRfaW5zdGFudGx5OiEwfSksdGhpcy5QcyYmKG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLlBzKSx0aGlzLlBzPW51bGwpKTp0aGlzLlBzfHwodGhpcy5Qcz10aGlzLk5zLmJpbmQodGhpcykscXQobyxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLlBzKSkpfWRlYnVnKGkpeyExPT09aT8obnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSd2ZSBkaXNhYmxlZCBkZWJ1ZyBtb2RlLlwiKSxsb2NhbFN0b3JhZ2UmJmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicGhfZGVidWdcIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMX0pKToobnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSdyZSBub3cgaW4gZGVidWcgbW9kZS4gQWxsIGNhbGxzIHRvIFBvc3RIb2cgd2lsbCBiZSBsb2dnZWQgaW4geW91ciBjb25zb2xlLlxcbllvdSBjYW4gZGlzYWJsZSB0aGlzIHdpdGggYHBvc3Rob2cuZGVidWcoZmFsc2UpYC5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBoX2RlYnVnXCIsXCJ0cnVlXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITB9KSl9TCgpe3ZhciB0LGksZSxyLHMsbixvLGE9dGhpcy5Uc3x8e307cmV0dXJuXCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCJpbiBhPyEhYS5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiExIT09dGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mbGFncz8hIXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITA9PT10aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZT8oeHQud2FybihcIkNvbmZpZyBmaWVsZCAnYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUnIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ2FkdmFuY2VkX2Rpc2FibGVfZmxhZ3MnIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLCEwKTooZT1cImFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlXCIscj0hMSxzPXh0LG49KGk9XCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCIpaW4odD1hKSYmIUModFtpXSksbz1lIGluIHQmJiFDKHRbZV0pLG4/dFtpXTpvPyhzJiZzLndhcm4oXCJDb25maWcgZmllbGQgJ1wiK2UrXCInIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ1wiK2krXCInIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLHRbZV0pOnIpfXFzKHQpe2lmKEEodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiB0O3ZhciBpPVAodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0sZT10O2Zvcih2YXIgciBvZiBpKXtpZihlPXIoZSksQShlKSl7dmFyIHM9XCJFdmVudCAnXCIrdC5ldmVudCtcIicgd2FzIHJlamVjdGVkIGluIGJlZm9yZVNlbmQgZnVuY3Rpb25cIjtyZXR1cm4gTih0LmV2ZW50KT94dC53YXJuKHMrXCIuIFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpOnh0LmluZm8ocyksbnVsbH1lLnByb3BlcnRpZXMmJiFUKGUucHJvcGVydGllcyl8fHh0Lndhcm4oXCJFdmVudCAnXCIrdC5ldmVudCtcIicgaGFzIG5vIHByb3BlcnRpZXMgYWZ0ZXIgYmVmb3JlU2VuZCBmdW5jdGlvbiwgdGhpcyBpcyBsaWtlbHkgYW4gZXJyb3IuXCIpfXJldHVybiBlfWdldFBhZ2VWaWV3SWQoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9dGhpcy5wYWdlVmlld01hbmFnZXIuZmUpP3ZvaWQgMDp0LnBhZ2VWaWV3SWR9Y2FwdHVyZVRyYWNlRmVlZGJhY2sodCxpKXt0aGlzLmNhcHR1cmUoXCIkYWlfZmVlZGJhY2tcIix7JGFpX3RyYWNlX2lkOlN0cmluZyh0KSwkYWlfZmVlZGJhY2tfdGV4dDppfSl9Y2FwdHVyZVRyYWNlTWV0cmljKHQsaSxlKXt0aGlzLmNhcHR1cmUoXCIkYWlfbWV0cmljXCIseyRhaV90cmFjZV9pZDpTdHJpbmcodCksJGFpX21ldHJpY19uYW1lOmksJGFpX21ldHJpY192YWx1ZTpTdHJpbmcoZSl9KX19IWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspdC5wcm90b3R5cGVbaVtlXV09RHQodC5wcm90b3R5cGVbaVtlXV0pfShGYSxbXCJpZGVudGlmeVwiXSk7dmFyIEFhLERhPShBYT1QYVtJYV09bmV3IEZhLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe2kuZG9uZXx8KGkuZG9uZT0hMCxUYT0hMSxDdChQYSwoZnVuY3Rpb24odCl7dC5fZG9tX2xvYWRlZCgpfSkpKX1udWxsIT1vJiZvLmFkZEV2ZW50TGlzdGVuZXI/XCJjb21wbGV0ZVwiPT09by5yZWFkeVN0YXRlP2koKTpxdChvLFwiRE9NQ29udGVudExvYWRlZFwiLGkse2NhcHR1cmU6ITF9KTp0JiZ4dC5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLEFhKTtleHBvcnR7aGUgYXMgQ09QWV9BVVRPQ0FQVFVSRV9FVkVOVCxkZSBhcyBDb21wcmVzc2lvbixVbyBhcyBEaXNwbGF5U3VydmV5VHlwZSxGYSBhcyBQb3N0SG9nLExvIGFzIFN1cnZleUV2ZW50TmFtZSxObyBhcyBTdXJ2ZXlFdmVudFByb3BlcnRpZXMsT28gYXMgU3VydmV5UG9zaXRpb24sRG8gYXMgU3VydmV5UXVlc3Rpb25CcmFuY2hpbmdUeXBlLEFvIGFzIFN1cnZleVF1ZXN0aW9uVHlwZSxqbyBhcyBTdXJ2ZXlTY2hlZHVsZSxGbyBhcyBTdXJ2ZXlUeXBlLE1vIGFzIFN1cnZleVdpZGdldFR5cGUsRGEgYXMgZGVmYXVsdCxEYSBhcyBwb3N0aG9nLHZlIGFzIHNldmVyaXR5TGV2ZWxzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogErrorBoundary: () => (/* binding */ PostHogErrorBoundary),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   setupReactErrorHandler: () => (/* binding */ setupReactErrorHandler),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\n    if (visited === void 0) { visited = new WeakMap(); }\n    if (obj1 === obj2) {\n        return true;\n    }\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n        return false;\n    }\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\n        return true;\n    }\n    visited.set(obj1, obj2);\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction PostHogProvider(_a) {\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n        if (client) {\n            if (apiKey) {\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\n            }\n            if (options) {\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\n            }\n            return client;\n        }\n        if (apiKey) {\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }, [client, apiKey, JSON.stringify(options)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (client) {\n            return;\n        }\n        var previousInitialization = previousInitializationRef.current;\n        if (!previousInitialization) {\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\n            }\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n        else {\n            if (apiKey !== previousInitialization.apiKey) {\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\n            }\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\n            }\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n    }, [client, apiKey, JSON.stringify(options)]);\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\n}\n\nvar usePostHog = function () {\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\n    return client;\n};\n\nfunction useFeatureFlagEnabled(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureEnabled(client.isFeatureEnabled(flag));\n        });\n    }, [client, flag]);\n    return featureEnabled;\n}\n\nfunction useFeatureFlagPayload(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\n        });\n    }, [client, flag]);\n    return featureFlagPayload;\n}\n\nfunction useActiveFeatureFlags() {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function (flags) {\n            setFeatureFlags(flags);\n        });\n    }, [client]);\n    return featureFlags;\n}\n\nfunction useFeatureFlagVariantKey(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n        return client.getFeatureFlag(flag);\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\n        });\n    }, [client, flag]);\n    return featureFlagVariantKey;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar isFunction = function (f) {\n    return typeof f === 'function';\n};\nvar isUndefined = function (x) {\n    return x === void 0;\n};\nvar isNull = function (x) {\n    return x === null;\n};\n\nfunction PostHogFeature(_a) {\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\n    var payload = useFeatureFlagPayload(flag);\n    var variant = useFeatureFlagVariantKey(flag);\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\n    if (isUndefined(match) || variant === match) {\n        var childNode = isFunction(children) ? children(payload) : children;\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\n}\nfunction captureFeatureInteraction(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_interaction', properties);\n}\nfunction captureFeatureView(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_view', properties);\n}\nfunction VisibilityAndClickTracker(_a) {\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = usePostHog();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (isNull(ref.current) || !trackView)\n            return;\n        var observer = new IntersectionObserver(function (_a) {\n            var entry = _a[0];\n            return onIntersect(entry);\n        }, __assign({ threshold: 0.1 }, options));\n        observer.observe(ref.current);\n        return function () { return observer.disconnect(); };\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\n}\nfunction VisibilityAndClickTrackers(_a) {\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var variant = useFeatureFlagVariantKey(flag);\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n        if (!clickTrackedRef.current && trackInteraction) {\n            captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant });\n            clickTrackedRef.current = true;\n        }\n    }, [flag, posthog, trackInteraction, variant]);\n    var onIntersect = function (entry) {\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\n            captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant });\n            visibilityTrackedRef.current = true;\n        }\n    };\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\n}\n\nvar INITIAL_STATE = {\n    componentStack: null,\n    exceptionEvent: null,\n    error: null,\n};\nvar __POSTHOG_ERROR_MESSAGES = {\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\n};\nvar PostHogErrorBoundary = (function (_super) {\n    __extends(PostHogErrorBoundary, _super);\n    function PostHogErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = INITIAL_STATE;\n        return _this;\n    }\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var additionalProperties = this.props.additionalProperties;\n        var currentProperties;\n        if (isFunction(additionalProperties)) {\n            currentProperties = additionalProperties(error);\n        }\n        else if (typeof additionalProperties === 'object') {\n            currentProperties = additionalProperties;\n        }\n        var client = this.context.client;\n        var exceptionEvent = client.captureException(error, currentProperties);\n        var componentStack = errorInfo.componentStack;\n        this.setState({\n            error: error,\n            componentStack: componentStack,\n            exceptionEvent: exceptionEvent,\n        });\n    };\n    PostHogErrorBoundary.prototype.render = function () {\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\n        var state = this.state;\n        if (state.componentStack == null) {\n            return isFunction(children) ? children() : children;\n        }\n        var element = isFunction(fallback)\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\n                error: state.error,\n                componentStack: state.componentStack,\n                exceptionEvent: state.exceptionEvent,\n            })\n            : fallback;\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\n            return element;\n        }\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n    };\n    PostHogErrorBoundary.contextType = PostHogContext;\n    return PostHogErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\nvar setupReactErrorHandler = function (client, callback) {\n    return function (error, errorInfo) {\n        var event = client.captureException(error);\n        if (callback) {\n            callback(event, error, errorInfo);\n        }\n    };\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ21GOztBQUV0SCxxQkFBcUIsb0RBQWEsR0FBRyxRQUFRLGtEQUFTLEVBQUU7O0FBRXhEO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQkFBcUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyw2Q0FBTTtBQUMxQyxrQkFBa0IsOENBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQVM7QUFDNUI7QUFDQTtBQUNBLGVBQWUsa0RBQVM7QUFDeEIsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLGtEQUFTO0FBQ3JCO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVywwREFBbUIsNEJBQTRCLFNBQVMsbUJBQW1CO0FBQ3RGOztBQUVBO0FBQ0EsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSx1Q0FBdUM7QUFDM0UsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSw0Q0FB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dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xccG9zdGhvZy1qc1xccmVhY3RcXGRpc3RcXGVzbVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBvc3Rob2dKcyBmcm9tICdwb3N0aG9nLWpzJztcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcblxudmFyIFBvc3RIb2dDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IGNsaWVudDogcG9zdGhvZ0pzIH0pO1xuXG5mdW5jdGlvbiBpc0RlZXBFcXVhbChvYmoxLCBvYmoyLCB2aXNpdGVkKSB7XG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxuICAgIGlmIChvYmoxID09PSBvYmoyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iajEgIT09ICdvYmplY3QnIHx8IG9iajEgPT09IG51bGwgfHwgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnIHx8IG9iajIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmlzaXRlZC5oYXMob2JqMSkgJiYgdmlzaXRlZC5nZXQob2JqMSkgPT09IG9iajIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZpc2l0ZWQuc2V0KG9iajEsIG9iajIpO1xuICAgIHZhciBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwga2V5czFfMSA9IGtleXMxOyBfaSA8IGtleXMxXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzMV8xW19pXTtcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gUG9zdEhvZ1Byb3ZpZGVyKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcbiAgICB2YXIgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYm90aCBgY2xpZW50YCBhbmQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBhcGlLZXlgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBvcHRpb25zYCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gYG9wdGlvbnNgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3N0aG9nSnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XG4gICAgICAgIHJldHVybiBwb3N0aG9nSnM7XG4gICAgfSwgW2NsaWVudCwgYXBpS2V5LCBKU09OLnN0cmluZ2lmeShvcHRpb25zKV0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXNJbml0aWFsaXphdGlvbiA9IHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFwcmV2aW91c0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBpZiAocG9zdGhvZ0pzLl9fbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gYHBvc3Rob2dgIHdhcyBhbHJlYWR5IGxvYWRlZCBlbHNld2hlcmUuIFRoaXMgbWF5IGNhdXNlIGlzc3Vlcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3Rob2dKcy5pbml0KGFwaUtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgYXBpS2V5OiBhcGlLZXksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFwaUtleSAhPT0gcHJldmlvdXNJbml0aWFsaXphdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYSBkaWZmZXJlbnQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAgdGhhbiB0aGUgb25lIHRoYXQgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBieSBvdXIgcHJvdmlkZXIgYW5kIHdlJ2xsIGtlZXAgdXNpbmcgdGhlIHByZXZpb3VzIGtleS4gSWYgeW91IG5lZWQgdG8gdG9nZ2xlIGJldHdlZW4gQVBJIEtleXMgeW91IG5lZWQgdG8gY29udHJvbCB0aGUgYGNsaWVudGAgeW91cnNlbGYgYW5kIHBhc3MgaXQgaW4gYXMgYSBwcm9wIHJhdGhlciB0aGFuIGFuIGBhcGlLZXlgIHByb3AuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgIWlzRGVlcEVxdWFsKG9wdGlvbnMsIHByZXZpb3VzSW5pdGlhbGl6YXRpb24ub3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBwb3N0aG9nSnMuc2V0X2NvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9zdEhvZ0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgY2xpZW50OiBwb3N0aG9nIH0gfSwgY2hpbGRyZW4pO1xufVxuXG52YXIgdXNlUG9zdEhvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xpZW50ID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCkuY2xpZW50O1xuICAgIHJldHVybiBjbGllbnQ7XG59O1xuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQoZmxhZykge1xuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmlzRmVhdHVyZUVuYWJsZWQoZmxhZyk7IH0pLCBmZWF0dXJlRW5hYmxlZCA9IF9hWzBdLCBzZXRGZWF0dXJlRW5hYmxlZCA9IF9hWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUVuYWJsZWQoY2xpZW50LmlzRmVhdHVyZUVuYWJsZWQoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgcmV0dXJuIGZlYXR1cmVFbmFibGVkO1xufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykge1xuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTsgfSksIGZlYXR1cmVGbGFnUGF5bG9hZCA9IF9hWzBdLCBzZXRGZWF0dXJlRmxhZ1BheWxvYWQgPSBfYVsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnUGF5bG9hZChjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xuICAgIHJldHVybiBmZWF0dXJlRmxhZ1BheWxvYWQ7XG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUZlYXR1cmVGbGFncygpIHtcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5mZWF0dXJlRmxhZ3MuZ2V0RmxhZ3MoKTsgfSksIGZlYXR1cmVGbGFncyA9IF9hWzBdLCBzZXRGZWF0dXJlRmxhZ3MgPSBfYVsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uIChmbGFncykge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdzKGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudF0pO1xuICAgIHJldHVybiBmZWF0dXJlRmxhZ3M7XG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKSB7XG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZyk7XG4gICAgfSksIGZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzBdLCBzZXRGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkgPSBfYVsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleShjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnVmFyaWFudEtleTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmID09PSAnZnVuY3Rpb24nO1xufTtcbnZhciBpc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHggPT09IHZvaWQgMDtcbn07XG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCA9PT0gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIFBvc3RIb2dGZWF0dXJlKF9hKSB7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBtYXRjaCA9IF9hLm1hdGNoLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrLCB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zID0gX2EudmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJtYXRjaFwiLCBcImNoaWxkcmVuXCIsIFwiZmFsbGJhY2tcIiwgXCJ2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiXSk7XG4gICAgdmFyIHBheWxvYWQgPSB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7XG4gICAgdmFyIHZhcmlhbnQgPSB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZyk7XG4gICAgdmFyIHNob3VsZFRyYWNrSW50ZXJhY3Rpb24gPSB0cmFja0ludGVyYWN0aW9uICE9PSBudWxsICYmIHRyYWNrSW50ZXJhY3Rpb24gIT09IHZvaWQgMCA/IHRyYWNrSW50ZXJhY3Rpb24gOiB0cnVlO1xuICAgIHZhciBzaG91bGRUcmFja1ZpZXcgPSB0cmFja1ZpZXcgIT09IG51bGwgJiYgdHJhY2tWaWV3ICE9PSB2b2lkIDAgPyB0cmFja1ZpZXcgOiB0cnVlO1xuICAgIGlmIChpc1VuZGVmaW5lZChtYXRjaCkgfHwgdmFyaWFudCA9PT0gbWF0Y2gpIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4ocGF5bG9hZCkgOiBjaGlsZHJlbjtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9wdGlvbnM6IHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb246IHNob3VsZFRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldzogc2hvdWxkVHJhY2tWaWV3IH0sIHByb3BzKSwgY2hpbGROb2RlKSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmYWxsYmFjayk7XG59XG5mdW5jdGlvbiBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfaW50ZXJhY3Rpb24vXCIuY29uY2F0KGZsYWcpXSA9IGZsYWdWYXJpYW50ICE9PSBudWxsICYmIGZsYWdWYXJpYW50ICE9PSB2b2lkIDAgPyBmbGFnVmFyaWFudCA6IHRydWUsIF9iKSxcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHByb3BlcnRpZXMuZmVhdHVyZV9mbGFnX3ZhcmlhbnQgPSBmbGFnVmFyaWFudDtcbiAgICB9XG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV9pbnRlcmFjdGlvbicsIHByb3BlcnRpZXMpO1xufVxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVWaWV3KF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfdmlldy9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xuICAgIH1cbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX3ZpZXcnLCBwcm9wZXJ0aWVzKTtcbn1cbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIoX2EpIHtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG9uSW50ZXJzZWN0ID0gX2Eub25JbnRlcnNlY3QsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwib25JbnRlcnNlY3RcIiwgXCJvbkNsaWNrXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XG4gICAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNOdWxsKHJlZi5jdXJyZW50KSB8fCAhdHJhY2tWaWV3KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVswXTtcbiAgICAgICAgICAgIHJldHVybiBvbkludGVyc2VjdChlbnRyeSk7XG4gICAgICAgIH0sIF9fYXNzaWduKHsgdGhyZXNob2xkOiAwLjEgfSwgb3B0aW9ucykpO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfTtcbiAgICB9LCBbZmxhZywgb3B0aW9ucywgcG9zdGhvZywgcmVmLCB0cmFja1ZpZXcsIG9uSW50ZXJzZWN0XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgcmVmOiByZWYgfSwgcHJvcHMsIHsgb25DbGljazogb25DbGljayB9KSwgY2hpbGRyZW4pKTtcbn1cbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzKF9hKSB7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCB0cmFja0ludGVyYWN0aW9uID0gX2EudHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBvcHRpb25zID0gX2Eub3B0aW9ucywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJjaGlsZHJlblwiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCJdKTtcbiAgICB2YXIgY2xpY2tUcmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgdmlzaWJpbGl0eVRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciB2YXJpYW50ID0gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpO1xuICAgIHZhciBjYWNoZWRPbkNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ICYmIHRyYWNrSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oeyBmbGFnOiBmbGFnLCBwb3N0aG9nOiBwb3N0aG9nLCBmbGFnVmFyaWFudDogdmFyaWFudCB9KTtcbiAgICAgICAgICAgIGNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIFtmbGFnLCBwb3N0aG9nLCB0cmFja0ludGVyYWN0aW9uLCB2YXJpYW50XSk7XG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCAmJiBlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgY2FwdHVyZUZlYXR1cmVWaWV3KHsgZmxhZzogZmxhZywgcG9zdGhvZzogcG9zdGhvZywgZmxhZ1ZhcmlhbnQ6IHZhcmlhbnQgfSk7XG4gICAgICAgICAgICB2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9uQ2xpY2s6IGNhY2hlZE9uQ2xpY2ssIG9uSW50ZXJzZWN0OiBvbkludGVyc2VjdCwgdHJhY2tWaWV3OiB0cmFja1ZpZXcsIG9wdGlvbnM6IG9wdGlvbnMgfSwgcHJvcHMpLCBjaGlsZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFja2VkQ2hpbGRyZW4pO1xufVxuXG52YXIgSU5JVElBTF9TVEFURSA9IHtcbiAgICBjb21wb25lbnRTdGFjazogbnVsbCxcbiAgICBleGNlcHRpb25FdmVudDogbnVsbCxcbiAgICBlcnJvcjogbnVsbCxcbn07XG52YXIgX19QT1NUSE9HX0VSUk9SX01FU1NBR0VTID0ge1xuICAgIElOVkFMSURfRkFMTEJBQ0s6ICdbUG9zdEhvZy5qc11bUG9zdEhvZ0Vycm9yQm91bmRhcnldIEludmFsaWQgZmFsbGJhY2sgcHJvcCwgcHJvdmlkZSBhIHZhbGlkIFJlYWN0IGVsZW1lbnQgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWxpZCBSZWFjdCBlbGVtZW50LicsXG59O1xudmFyIFBvc3RIb2dFcnJvckJvdW5kYXJ5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9zdEhvZ0Vycm9yQm91bmRhcnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9zdEhvZ0Vycm9yQm91bmRhcnkocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0gSU5JVElBTF9TVEFURTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5wcm90b3R5cGUuY29tcG9uZW50RGlkQ2F0Y2ggPSBmdW5jdGlvbiAoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgICB2YXIgYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb3BzLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgICAgICB2YXIgY3VycmVudFByb3BlcnRpZXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGFkZGl0aW9uYWxQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcyhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xpZW50ID0gdGhpcy5jb250ZXh0LmNsaWVudDtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbkV2ZW50ID0gY2xpZW50LmNhcHR1cmVFeGNlcHRpb24oZXJyb3IsIGN1cnJlbnRQcm9wZXJ0aWVzKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudFN0YWNrID0gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBjb21wb25lbnRTdGFjayxcbiAgICAgICAgICAgIGV4Y2VwdGlvbkV2ZW50OiBleGNlcHRpb25FdmVudCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoc3RhdGUuY29tcG9uZW50U3RhY2sgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4oKSA6IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50ID0gaXNGdW5jdGlvbihmYWxsYmFjaylcbiAgICAgICAgICAgID8gUmVhY3QuY3JlYXRlRWxlbWVudChmYWxsYmFjaywge1xuICAgICAgICAgICAgICAgIGVycm9yOiBzdGF0ZS5lcnJvcixcbiAgICAgICAgICAgICAgICBjb21wb25lbnRTdGFjazogc3RhdGUuY29tcG9uZW50U3RhY2ssXG4gICAgICAgICAgICAgICAgZXhjZXB0aW9uRXZlbnQ6IHN0YXRlLmV4Y2VwdGlvbkV2ZW50LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogZmFsbGJhY2s7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKF9fUE9TVEhPR19FUlJPUl9NRVNTQUdFUy5JTlZBTElEX0ZBTExCQUNLKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwpO1xuICAgIH07XG4gICAgUG9zdEhvZ0Vycm9yQm91bmRhcnkuY29udGV4dFR5cGUgPSBQb3N0SG9nQ29udGV4dDtcbiAgICByZXR1cm4gUG9zdEhvZ0Vycm9yQm91bmRhcnk7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuXG52YXIgc2V0dXBSZWFjdEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChjbGllbnQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICAgIHZhciBldmVudCA9IGNsaWVudC5jYXB0dXJlRXhjZXB0aW9uKGVycm9yKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZXJyb3IsIGVycm9ySW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuZXhwb3J0IHsgUG9zdEhvZ0NvbnRleHQsIFBvc3RIb2dFcnJvckJvdW5kYXJ5LCBQb3N0SG9nRmVhdHVyZSwgUG9zdEhvZ1Byb3ZpZGVyLCBzZXR1cFJlYWN0RXJyb3JIYW5kbGVyLCB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MsIHVzZUZlYXR1cmVGbGFnRW5hYmxlZCwgdXNlRmVhdHVyZUZsYWdQYXlsb2FkLCB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXksIHVzZVBvc3RIb2cgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;