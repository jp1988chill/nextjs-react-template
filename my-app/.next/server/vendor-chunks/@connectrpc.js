"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@connectrpc";
exports.ids = ["vendor-chunks/@connectrpc"];
exports.modules = {

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/compression.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/compression.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compressionBrotli: () => (/* binding */ compressionBrotli),\n/* harmony export */   compressionGzip: () => (/* binding */ compressionGzip)\n/* harmony export */ });\n/* harmony import */ var zlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zlib */ \"zlib\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _node_error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node-error.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\nconst gzip = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(zlib__WEBPACK_IMPORTED_MODULE_0__.gzip);\nconst gunzip = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(zlib__WEBPACK_IMPORTED_MODULE_0__.gunzip);\nconst brotliCompress = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(zlib__WEBPACK_IMPORTED_MODULE_0__.brotliCompress);\nconst brotliDecompress = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(zlib__WEBPACK_IMPORTED_MODULE_0__.brotliDecompress);\n/**\n * The gzip compression algorithm, implemented with the Node.js built-in module\n * zlib. This value can be used for the `sendCompression` and `acceptCompression`\n * option of client transports, or for the `acceptCompression` option of server\n * plugins like `fastifyConnectPlugin` from @connectrpc/connect-fastify.\n */\nconst compressionGzip = {\n    name: \"gzip\",\n    compress(bytes) {\n        return gzip(bytes, {});\n    },\n    decompress(bytes, readMaxBytes) {\n        if (bytes.length == 0) {\n            return Promise.resolve(new Uint8Array(0));\n        }\n        return wrapZLibErrors(gunzip(bytes, {\n            maxOutputLength: readMaxBytes,\n        }), readMaxBytes);\n    },\n};\n/**\n * The brotli compression algorithm, implemented with the Node.js built-in module\n * zlib. This value can be used for the `sendCompression` and `acceptCompression`\n * option of client transports, or for the `acceptCompression` option of server\n * plugins like `fastifyConnectPlugin` from @connectrpc/connect-fastify.\n */\nconst compressionBrotli = {\n    name: \"br\",\n    compress(bytes) {\n        return brotliCompress(bytes, {});\n    },\n    decompress(bytes, readMaxBytes) {\n        if (bytes.length == 0) {\n            return Promise.resolve(new Uint8Array(0));\n        }\n        return wrapZLibErrors(brotliDecompress(bytes, {\n            maxOutputLength: readMaxBytes,\n        }), readMaxBytes);\n    },\n};\nfunction wrapZLibErrors(promise, readMaxBytes) {\n    return promise.catch((e) => {\n        const props = (0,_node_error_js__WEBPACK_IMPORTED_MODULE_2__.getNodeErrorProps)(e);\n        let code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Internal;\n        let message = \"decompression failed\";\n        // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n        switch (props.code) {\n            case \"ERR_BUFFER_TOO_LARGE\":\n                code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.ResourceExhausted;\n                message = `message is larger than configured readMaxBytes ${readMaxBytes} after decompression`;\n                break;\n            case \"Z_DATA_ERROR\":\n            case \"ERR_PADDING_2\":\n                code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.InvalidArgument;\n                break;\n            default:\n                if (props.code !== undefined &&\n                    props.code.startsWith(\"ERR__ERROR_FORMAT_\")) {\n                    code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.InvalidArgument;\n                }\n                break;\n        }\n        return Promise.reject(new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_4__.ConnectError(message, code, undefined, undefined, e));\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9jb21wcmVzc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkI7QUFDSTtBQUN3QjtBQUNMO0FBQ3BELGFBQWEsK0NBQVMsQ0FBQyxzQ0FBUztBQUNoQyxlQUFlLCtDQUFTLENBQUMsd0NBQVc7QUFDcEMsdUJBQXVCLCtDQUFTLENBQUMsZ0RBQW1CO0FBQ3BELHlCQUF5QiwrQ0FBUyxDQUFDLGtEQUFxQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlFQUFpQjtBQUN2QyxtQkFBbUIscURBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscURBQUk7QUFDM0IsNEVBQTRFLGNBQWM7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFJO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFEQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2REFBWTtBQUM5QyxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdC1ub2RlXFxkaXN0XFxlc21cXGNvbXByZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyB6bGliIGZyb20gXCJ6bGliXCI7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tIFwidXRpbFwiO1xuaW1wb3J0IHsgQ29kZSwgQ29ubmVjdEVycm9yIH0gZnJvbSBcIkBjb25uZWN0cnBjL2Nvbm5lY3RcIjtcbmltcG9ydCB7IGdldE5vZGVFcnJvclByb3BzIH0gZnJvbSBcIi4vbm9kZS1lcnJvci5qc1wiO1xuY29uc3QgZ3ppcCA9IHByb21pc2lmeSh6bGliLmd6aXApO1xuY29uc3QgZ3VuemlwID0gcHJvbWlzaWZ5KHpsaWIuZ3VuemlwKTtcbmNvbnN0IGJyb3RsaUNvbXByZXNzID0gcHJvbWlzaWZ5KHpsaWIuYnJvdGxpQ29tcHJlc3MpO1xuY29uc3QgYnJvdGxpRGVjb21wcmVzcyA9IHByb21pc2lmeSh6bGliLmJyb3RsaURlY29tcHJlc3MpO1xuLyoqXG4gKiBUaGUgZ3ppcCBjb21wcmVzc2lvbiBhbGdvcml0aG0sIGltcGxlbWVudGVkIHdpdGggdGhlIE5vZGUuanMgYnVpbHQtaW4gbW9kdWxlXG4gKiB6bGliLiBUaGlzIHZhbHVlIGNhbiBiZSB1c2VkIGZvciB0aGUgYHNlbmRDb21wcmVzc2lvbmAgYW5kIGBhY2NlcHRDb21wcmVzc2lvbmBcbiAqIG9wdGlvbiBvZiBjbGllbnQgdHJhbnNwb3J0cywgb3IgZm9yIHRoZSBgYWNjZXB0Q29tcHJlc3Npb25gIG9wdGlvbiBvZiBzZXJ2ZXJcbiAqIHBsdWdpbnMgbGlrZSBgZmFzdGlmeUNvbm5lY3RQbHVnaW5gIGZyb20gQGNvbm5lY3RycGMvY29ubmVjdC1mYXN0aWZ5LlxuICovXG5leHBvcnQgY29uc3QgY29tcHJlc3Npb25HemlwID0ge1xuICAgIG5hbWU6IFwiZ3ppcFwiLFxuICAgIGNvbXByZXNzKGJ5dGVzKSB7XG4gICAgICAgIHJldHVybiBnemlwKGJ5dGVzLCB7fSk7XG4gICAgfSxcbiAgICBkZWNvbXByZXNzKGJ5dGVzLCByZWFkTWF4Qnl0ZXMpIHtcbiAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KDApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcFpMaWJFcnJvcnMoZ3VuemlwKGJ5dGVzLCB7XG4gICAgICAgICAgICBtYXhPdXRwdXRMZW5ndGg6IHJlYWRNYXhCeXRlcyxcbiAgICAgICAgfSksIHJlYWRNYXhCeXRlcyk7XG4gICAgfSxcbn07XG4vKipcbiAqIFRoZSBicm90bGkgY29tcHJlc3Npb24gYWxnb3JpdGhtLCBpbXBsZW1lbnRlZCB3aXRoIHRoZSBOb2RlLmpzIGJ1aWx0LWluIG1vZHVsZVxuICogemxpYi4gVGhpcyB2YWx1ZSBjYW4gYmUgdXNlZCBmb3IgdGhlIGBzZW5kQ29tcHJlc3Npb25gIGFuZCBgYWNjZXB0Q29tcHJlc3Npb25gXG4gKiBvcHRpb24gb2YgY2xpZW50IHRyYW5zcG9ydHMsIG9yIGZvciB0aGUgYGFjY2VwdENvbXByZXNzaW9uYCBvcHRpb24gb2Ygc2VydmVyXG4gKiBwbHVnaW5zIGxpa2UgYGZhc3RpZnlDb25uZWN0UGx1Z2luYCBmcm9tIEBjb25uZWN0cnBjL2Nvbm5lY3QtZmFzdGlmeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXByZXNzaW9uQnJvdGxpID0ge1xuICAgIG5hbWU6IFwiYnJcIixcbiAgICBjb21wcmVzcyhieXRlcykge1xuICAgICAgICByZXR1cm4gYnJvdGxpQ29tcHJlc3MoYnl0ZXMsIHt9KTtcbiAgICB9LFxuICAgIGRlY29tcHJlc3MoYnl0ZXMsIHJlYWRNYXhCeXRlcykge1xuICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoMCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cmFwWkxpYkVycm9ycyhicm90bGlEZWNvbXByZXNzKGJ5dGVzLCB7XG4gICAgICAgICAgICBtYXhPdXRwdXRMZW5ndGg6IHJlYWRNYXhCeXRlcyxcbiAgICAgICAgfSksIHJlYWRNYXhCeXRlcyk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiB3cmFwWkxpYkVycm9ycyhwcm9taXNlLCByZWFkTWF4Qnl0ZXMpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wcyA9IGdldE5vZGVFcnJvclByb3BzKGUpO1xuICAgICAgICBsZXQgY29kZSA9IENvZGUuSW50ZXJuYWw7XG4gICAgICAgIGxldCBtZXNzYWdlID0gXCJkZWNvbXByZXNzaW9uIGZhaWxlZFwiO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3N3aXRjaC1leGhhdXN0aXZlbmVzcy1jaGVja1xuICAgICAgICBzd2l0Y2ggKHByb3BzLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJFUlJfQlVGRkVSX1RPT19MQVJHRVwiOlxuICAgICAgICAgICAgICAgIGNvZGUgPSBDb2RlLlJlc291cmNlRXhoYXVzdGVkO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgbWVzc2FnZSBpcyBsYXJnZXIgdGhhbiBjb25maWd1cmVkIHJlYWRNYXhCeXRlcyAke3JlYWRNYXhCeXRlc30gYWZ0ZXIgZGVjb21wcmVzc2lvbmA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiWl9EQVRBX0VSUk9SXCI6XG4gICAgICAgICAgICBjYXNlIFwiRVJSX1BBRERJTkdfMlwiOlxuICAgICAgICAgICAgICAgIGNvZGUgPSBDb2RlLkludmFsaWRBcmd1bWVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmNvZGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5jb2RlLnN0YXJ0c1dpdGgoXCJFUlJfX0VSUk9SX0ZPUk1BVF9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IENvZGUuSW52YWxpZEFyZ3VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IENvbm5lY3RFcnJvcihtZXNzYWdlLCBjb2RlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZSkpO1xuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/compression.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-node-adapter.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/connect-node-adapter.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectNodeAdapter: () => (/* binding */ connectNodeAdapter)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/router.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @connectrpc/connect/protocol */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\");\n/* harmony import */ var _node_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-handler.js\");\n/* harmony import */ var _compression_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compression.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/compression.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * Create a Node.js request handler from a ConnectRouter.\n *\n * The returned function is compatible with http.RequestListener and its equivalent for http2.\n */\nfunction connectNodeAdapter(options) {\n    var _a;\n    if (options.acceptCompression === undefined) {\n        options.acceptCompression = [_compression_js__WEBPACK_IMPORTED_MODULE_1__.compressionGzip, _compression_js__WEBPACK_IMPORTED_MODULE_1__.compressionBrotli];\n    }\n    const router = (0,_connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.createConnectRouter)(options);\n    options.routes(router);\n    const prefix = (_a = options.requestPathPrefix) !== null && _a !== void 0 ? _a : \"\";\n    const paths = new Map();\n    for (const uHandler of router.handlers) {\n        paths.set(prefix + uHandler.requestPath, uHandler);\n    }\n    return function nodeRequestHandler(req, res) {\n        var _a, _b, _c, _d;\n        // Strip the query parameter when matching paths.\n        const uHandler = paths.get((_b = (_a = req.url) === null || _a === void 0 ? void 0 : _a.split(\"?\", 2)[0]) !== null && _b !== void 0 ? _b : \"\");\n        if (!uHandler) {\n            ((_c = options.fallback) !== null && _c !== void 0 ? _c : fallback)(req, res);\n            return;\n        }\n        const uReq = (0,_node_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.universalRequestFromNodeRequest)(req, res, undefined, (_d = options.contextValues) === null || _d === void 0 ? void 0 : _d.call(options, req));\n        uHandler(uReq)\n            .then((uRes) => (0,_node_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.universalResponseToNodeResponse)(uRes, res))\n            .catch((reason) => {\n            if (_connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.ConnectError.from(reason).code == _connectrpc_connect__WEBPACK_IMPORTED_MODULE_4__.Code.Aborted) {\n                return;\n            }\n            // eslint-disable-next-line no-console\n            console.error(`handler for rpc ${uHandler.method.name} of ${uHandler.service.typeName} failed`, reason);\n        });\n    };\n}\nconst fallback = (request, response) => {\n    response.writeHead(_connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_5__.uResponseNotFound.status);\n    response.end();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9jb25uZWN0LW5vZGUtYWRhcHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEU7QUFDYjtBQUMrQztBQUMxQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EscUNBQXFDLDREQUFlLEVBQUUsOERBQWlCO0FBQ3ZFO0FBQ0EsbUJBQW1CLHdFQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJGQUErQjtBQUNwRDtBQUNBLDRCQUE0QiwyRkFBK0I7QUFDM0Q7QUFDQSxnQkFBZ0IsNkRBQVksc0JBQXNCLHFEQUFJO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxzQkFBc0IsS0FBSywyQkFBMkI7QUFDbkcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyRUFBaUI7QUFDeEM7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0LW5vZGVcXGRpc3RcXGVzbVxcY29ubmVjdC1ub2RlLWFkYXB0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IENvZGUsIENvbm5lY3RFcnJvciwgY3JlYXRlQ29ubmVjdFJvdXRlciB9IGZyb20gXCJAY29ubmVjdHJwYy9jb25uZWN0XCI7XG5pbXBvcnQgeyB1UmVzcG9uc2VOb3RGb3VuZCB9IGZyb20gXCJAY29ubmVjdHJwYy9jb25uZWN0L3Byb3RvY29sXCI7XG5pbXBvcnQgeyB1bml2ZXJzYWxSZXF1ZXN0RnJvbU5vZGVSZXF1ZXN0LCB1bml2ZXJzYWxSZXNwb25zZVRvTm9kZVJlc3BvbnNlLCB9IGZyb20gXCIuL25vZGUtdW5pdmVyc2FsLWhhbmRsZXIuanNcIjtcbmltcG9ydCB7IGNvbXByZXNzaW9uQnJvdGxpLCBjb21wcmVzc2lvbkd6aXAgfSBmcm9tIFwiLi9jb21wcmVzc2lvbi5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBOb2RlLmpzIHJlcXVlc3QgaGFuZGxlciBmcm9tIGEgQ29ubmVjdFJvdXRlci5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gaXMgY29tcGF0aWJsZSB3aXRoIGh0dHAuUmVxdWVzdExpc3RlbmVyIGFuZCBpdHMgZXF1aXZhbGVudCBmb3IgaHR0cDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0Tm9kZUFkYXB0ZXIob3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBpZiAob3B0aW9ucy5hY2NlcHRDb21wcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMuYWNjZXB0Q29tcHJlc3Npb24gPSBbY29tcHJlc3Npb25HemlwLCBjb21wcmVzc2lvbkJyb3RsaV07XG4gICAgfVxuICAgIGNvbnN0IHJvdXRlciA9IGNyZWF0ZUNvbm5lY3RSb3V0ZXIob3B0aW9ucyk7XG4gICAgb3B0aW9ucy5yb3V0ZXMocm91dGVyKTtcbiAgICBjb25zdCBwcmVmaXggPSAoX2EgPSBvcHRpb25zLnJlcXVlc3RQYXRoUHJlZml4KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiO1xuICAgIGNvbnN0IHBhdGhzID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgdUhhbmRsZXIgb2Ygcm91dGVyLmhhbmRsZXJzKSB7XG4gICAgICAgIHBhdGhzLnNldChwcmVmaXggKyB1SGFuZGxlci5yZXF1ZXN0UGF0aCwgdUhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gbm9kZVJlcXVlc3RIYW5kbGVyKHJlcSwgcmVzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgLy8gU3RyaXAgdGhlIHF1ZXJ5IHBhcmFtZXRlciB3aGVuIG1hdGNoaW5nIHBhdGhzLlxuICAgICAgICBjb25zdCB1SGFuZGxlciA9IHBhdGhzLmdldCgoX2IgPSAoX2EgPSByZXEudXJsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoXCI/XCIsIDIpWzBdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcIlwiKTtcbiAgICAgICAgaWYgKCF1SGFuZGxlcikge1xuICAgICAgICAgICAgKChfYyA9IG9wdGlvbnMuZmFsbGJhY2spICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbGxiYWNrKShyZXEsIHJlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdVJlcSA9IHVuaXZlcnNhbFJlcXVlc3RGcm9tTm9kZVJlcXVlc3QocmVxLCByZXMsIHVuZGVmaW5lZCwgKF9kID0gb3B0aW9ucy5jb250ZXh0VmFsdWVzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChvcHRpb25zLCByZXEpKTtcbiAgICAgICAgdUhhbmRsZXIodVJlcSlcbiAgICAgICAgICAgIC50aGVuKCh1UmVzKSA9PiB1bml2ZXJzYWxSZXNwb25zZVRvTm9kZVJlc3BvbnNlKHVSZXMsIHJlcykpXG4gICAgICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgaWYgKENvbm5lY3RFcnJvci5mcm9tKHJlYXNvbikuY29kZSA9PSBDb2RlLkFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgaGFuZGxlciBmb3IgcnBjICR7dUhhbmRsZXIubWV0aG9kLm5hbWV9IG9mICR7dUhhbmRsZXIuc2VydmljZS50eXBlTmFtZX0gZmFpbGVkYCwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmNvbnN0IGZhbGxiYWNrID0gKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgcmVzcG9uc2Uud3JpdGVIZWFkKHVSZXNwb25zZU5vdEZvdW5kLnN0YXR1cyk7XG4gICAgcmVzcG9uc2UuZW5kKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-node-adapter.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-transport.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/connect-transport.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConnectTransport: () => (/* binding */ createConnectTransport)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect_protocol_connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @connectrpc/connect/protocol-connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/transport.js\");\n/* harmony import */ var _node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-transport-options.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Create a Transport for the Connect protocol using the Node.js `http`, `http2`,\n * or `http2` module.\n */\nfunction createConnectTransport(options) {\n    return (0,_connectrpc_connect_protocol_connect__WEBPACK_IMPORTED_MODULE_1__.createTransport)((0,_node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__.validateNodeTransportOptions)(options));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9jb25uZWN0LXRyYW5zcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1RTtBQUNJO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHFGQUFlLENBQUMsd0ZBQTRCO0FBQ3ZEIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxjb25uZWN0LXRyYW5zcG9ydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgY3JlYXRlVHJhbnNwb3J0IH0gZnJvbSBcIkBjb25uZWN0cnBjL2Nvbm5lY3QvcHJvdG9jb2wtY29ubmVjdFwiO1xuaW1wb3J0IHsgdmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyB9IGZyb20gXCIuL25vZGUtdHJhbnNwb3J0LW9wdGlvbnMuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgVHJhbnNwb3J0IGZvciB0aGUgQ29ubmVjdCBwcm90b2NvbCB1c2luZyB0aGUgTm9kZS5qcyBgaHR0cGAsIGBodHRwMmAsXG4gKiBvciBgaHR0cDJgIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3RUcmFuc3BvcnQob3B0aW9ucykge1xuICAgIHJldHVybiBjcmVhdGVUcmFuc3BvcnQodmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyhvcHRpb25zKSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-transport.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/grpc-transport.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGrpcTransport: () => (/* binding */ createGrpcTransport)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect_protocol_grpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @connectrpc/connect/protocol-grpc */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/transport.js\");\n/* harmony import */ var _node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-transport-options.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Create a Transport for the gRPC protocol using the Node.js `http`, `http2`,\n * or `http2` module.\n */\nfunction createGrpcTransport(options) {\n    return (0,_connectrpc_connect_protocol_grpc__WEBPACK_IMPORTED_MODULE_1__.createTransport)((0,_node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__.validateNodeTransportOptions)(options));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ncnBjLXRyYW5zcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRTtBQUNPO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLGtGQUFlLENBQUMsd0ZBQTRCO0FBQ3ZEIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxncnBjLXRyYW5zcG9ydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgY3JlYXRlVHJhbnNwb3J0IH0gZnJvbSBcIkBjb25uZWN0cnBjL2Nvbm5lY3QvcHJvdG9jb2wtZ3JwY1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyB9IGZyb20gXCIuL25vZGUtdHJhbnNwb3J0LW9wdGlvbnMuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgVHJhbnNwb3J0IGZvciB0aGUgZ1JQQyBwcm90b2NvbCB1c2luZyB0aGUgTm9kZS5qcyBgaHR0cGAsIGBodHRwMmAsXG4gKiBvciBgaHR0cDJgIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdycGNUcmFuc3BvcnQob3B0aW9ucykge1xuICAgIHJldHVybiBjcmVhdGVUcmFuc3BvcnQodmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyhvcHRpb25zKSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-web-transport.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/grpc-web-transport.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGrpcWebTransport: () => (/* binding */ createGrpcWebTransport)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect_protocol_grpc_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @connectrpc/connect/protocol-grpc-web */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/transport.js\");\n/* harmony import */ var _node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-transport-options.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Create a Transport for the gRPC-web protocol using the Node.js `http`,\n * `http2`, or `http2` module.\n */\nfunction createGrpcWebTransport(options) {\n    return (0,_connectrpc_connect_protocol_grpc_web__WEBPACK_IMPORTED_MODULE_1__.createTransport)((0,_node_transport_options_js__WEBPACK_IMPORTED_MODULE_0__.validateNodeTransportOptions)(options));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ncnBjLXdlYi10cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0U7QUFDRztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyxzRkFBZSxDQUFDLHdGQUE0QjtBQUN2RCIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0LW5vZGVcXGRpc3RcXGVzbVxcZ3JwYy13ZWItdHJhbnNwb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBjcmVhdGVUcmFuc3BvcnQgfSBmcm9tIFwiQGNvbm5lY3RycGMvY29ubmVjdC9wcm90b2NvbC1ncnBjLXdlYlwiO1xuaW1wb3J0IHsgdmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyB9IGZyb20gXCIuL25vZGUtdHJhbnNwb3J0LW9wdGlvbnMuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgVHJhbnNwb3J0IGZvciB0aGUgZ1JQQy13ZWIgcHJvdG9jb2wgdXNpbmcgdGhlIE5vZGUuanMgYGh0dHBgLFxuICogYGh0dHAyYCwgb3IgYGh0dHAyYCBtb2R1bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHcnBjV2ViVHJhbnNwb3J0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY3JlYXRlVHJhbnNwb3J0KHZhbGlkYXRlTm9kZVRyYW5zcG9ydE9wdGlvbnMob3B0aW9ucykpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-web-transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Http2SessionManager: () => (/* binding */ Http2SessionManager)\n/* harmony export */ });\n/* harmony import */ var http2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http2 */ \"http2\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _node_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node-error.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Manage an HTTP/2 connection and keep it alive with PING frames.\n *\n * The logic is based on \"Basic Keepalive\" described in\n * https://github.com/grpc/proposal/blob/0ba0c1905050525f9b0aee46f3f23c8e1e515489/A8-client-side-keepalive.md#basic-keepalive\n * as well as the client channel arguments described in\n * https://github.com/grpc/grpc/blob/8e137e524a1b1da7bbf4603662876d5719563b57/doc/keepalive.md\n *\n * Usually, the managers tracks exactly one connection, but if a connection\n * receives a GOAWAY frame with NO_ERROR, the connection is maintained until\n * all streams have finished, and new requests will open a new connection.\n */\nclass Http2SessionManager {\n    /**\n     * The current state of the connection:\n     *\n     * - \"closed\"\n     *   The connection is closed, or no connection has been opened yet.\n     * - connecting\n     *   Currently establishing a connection.\n     *\n     * - \"open\"\n     *   A connection is open and has open streams. PING frames are sent every\n     *   pingIntervalMs, unless a stream received data.\n     *   If a PING frame is not responded to within pingTimeoutMs, the connection\n     *   and all open streams close.\n     *\n     * - \"idle\"\n     *   A connection is open, but it does not have any open streams.\n     *   If pingIdleConnection is enabled, PING frames are used to keep the\n     *   connection alive, similar to an \"open\" connection.\n     *   If a connection is idle for longer than idleConnectionTimeoutMs, it closes.\n     *   If a request is made on an idle connection that has not been used for\n     *   longer than pingIntervalMs, the connection is verified.\n     *\n     * - \"verifying\"\n     *   Verifying a connection after a long period of inactivity before issuing a\n     *   request. A PING frame is sent, and if it times out within pingTimeoutMs, a\n     *   new connection is opened.\n     *\n     * - \"error\"\n     *   The connection is closed because of a transient error. A connection\n     *   may have failed to reach the host, or the connection may have died,\n     *   or it may have been aborted.\n     */\n    state() {\n        if (this.s.t == \"ready\") {\n            if (this.verifying !== undefined) {\n                return \"verifying\";\n            }\n            return this.s.streamCount() > 0 ? \"open\" : \"idle\";\n        }\n        return this.s.t;\n    }\n    /**\n     * Returns the error object if the connection is in the \"error\" state,\n     * `undefined` otherwise.\n     */\n    error() {\n        if (this.s.t == \"error\") {\n            return this.s.reason;\n        }\n        return undefined;\n    }\n    constructor(url, pingOptions, http2SessionOptions) {\n        var _a, _b, _c, _d;\n        this.s = closed();\n        this.shuttingDown = [];\n        this.authority = new URL(url).origin;\n        this.http2SessionOptions = http2SessionOptions;\n        this.options = {\n            pingIntervalMs: (_a = pingOptions === null || pingOptions === void 0 ? void 0 : pingOptions.pingIntervalMs) !== null && _a !== void 0 ? _a : Number.POSITIVE_INFINITY,\n            pingTimeoutMs: (_b = pingOptions === null || pingOptions === void 0 ? void 0 : pingOptions.pingTimeoutMs) !== null && _b !== void 0 ? _b : 1000 * 15,\n            pingIdleConnection: (_c = pingOptions === null || pingOptions === void 0 ? void 0 : pingOptions.pingIdleConnection) !== null && _c !== void 0 ? _c : false,\n            idleConnectionTimeoutMs: (_d = pingOptions === null || pingOptions === void 0 ? void 0 : pingOptions.idleConnectionTimeoutMs) !== null && _d !== void 0 ? _d : 1000 * 60 * 15,\n        };\n    }\n    /**\n     * Open a connection if none exists, verify an existing connection if\n     * necessary.\n     */\n    async connect() {\n        try {\n            const ready = await this.gotoReady();\n            return ready.streamCount() > 0 ? \"open\" : \"idle\";\n        }\n        catch (e) {\n            return \"error\";\n        }\n    }\n    /**\n     * Issue a request.\n     *\n     * This method automatically opens a connection if none exists, and verifies\n     * an existing connection if necessary. It calls http2.ClientHttp2Session.request(),\n     * and keeps track of all open http2.ClientHttp2Stream.\n     *\n     * Clients must call notifyResponseByteRead() whenever they successfully read\n     * data from the http2.ClientHttp2Stream.\n     */\n    async request(method, path, headers, options) {\n        // Request sometimes fails with goaway/destroyed\n        // errors, we use a loop to retry.\n        //\n        // This is not expected to happen often, but it is possible that a\n        // connection is closed while we are trying to open a stream.\n        //\n        // Ref: https://github.com/nodejs/help/issues/2105\n        for (;;) {\n            const ready = await this.gotoReady();\n            try {\n                const stream = ready.conn.request(Object.assign(Object.assign({}, headers), { \":method\": method, \":path\": path }), options);\n                ready.registerRequest(stream);\n                return stream;\n            }\n            catch (e) {\n                // Check to see if the connection is closed or destroyed\n                // and if so, we try again.\n                if (ready.conn.closed || ready.conn.destroyed) {\n                    continue;\n                }\n                throw e;\n            }\n        }\n    }\n    /**\n     * Notify the manager of a successful read from a http2.ClientHttp2Stream.\n     *\n     * Clients must call this function whenever they successfully read data from\n     * a http2.ClientHttp2Stream obtained from request(). This informs the\n     * keep-alive logic that the connection is alive, and prevents it from sending\n     * unnecessary PING frames.\n     */\n    notifyResponseByteRead(stream) {\n        if (this.s.t == \"ready\") {\n            this.s.responseByteRead(stream);\n        }\n        for (const s of this.shuttingDown) {\n            s.responseByteRead(stream);\n        }\n    }\n    /**\n     * If there is an open connection, close it. This also closes any open streams.\n     */\n    abort(reason) {\n        var _a, _b, _c;\n        const err = reason !== null && reason !== void 0 ? reason : new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"connection aborted\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Canceled);\n        (_b = (_a = this.s).abort) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n        for (const s of this.shuttingDown) {\n            (_c = s.abort) === null || _c === void 0 ? void 0 : _c.call(s, err);\n        }\n        this.setState(closedOrError(err));\n    }\n    async gotoReady() {\n        if (this.s.t == \"ready\") {\n            if (this.s.isShuttingDown() ||\n                this.s.conn.closed ||\n                this.s.conn.destroyed) {\n                this.setState(connect(this.authority, this.http2SessionOptions));\n            }\n            else if (this.s.requiresVerify()) {\n                await this.verify(this.s);\n            }\n        }\n        else if (this.s.t == \"closed\" || this.s.t == \"error\") {\n            this.setState(connect(this.authority, this.http2SessionOptions));\n        }\n        while (this.s.t !== \"ready\") {\n            if (this.s.t === \"error\") {\n                throw this.s.reason;\n            }\n            if (this.s.t === \"connecting\") {\n                await this.s.conn;\n            }\n        }\n        return this.s;\n    }\n    setState(state) {\n        var _a, _b;\n        (_b = (_a = this.s).onExitState) === null || _b === void 0 ? void 0 : _b.call(_a);\n        if (this.s.t == \"ready\" && this.s.isShuttingDown()) {\n            // Maintain connections that have been asked to shut down.\n            const sd = this.s;\n            this.shuttingDown.push(sd);\n            sd.onClose = sd.onError = () => {\n                const i = this.shuttingDown.indexOf(sd);\n                if (i !== -1) {\n                    this.shuttingDown.splice(i, 1);\n                }\n            };\n        }\n        switch (state.t) {\n            case \"connecting\":\n                state.conn.then((value) => {\n                    this.setState(ready(value, this.options));\n                }, (reason) => {\n                    this.setState(closedOrError(reason));\n                });\n                break;\n            case \"ready\":\n                state.onClose = () => this.setState(closed());\n                state.onError = (err) => this.setState(closedOrError(err));\n                break;\n            case \"closed\":\n                break;\n            case \"error\":\n                break;\n        }\n        this.s = state;\n    }\n    verify(stateReady) {\n        if (this.verifying !== undefined) {\n            return this.verifying;\n        }\n        this.verifying = stateReady\n            .verify()\n            .then((success) => {\n            if (success) {\n                return;\n            }\n            // verify() has destroyed the old connection\n            this.setState(connect(this.authority, this.http2SessionOptions));\n        }, (reason) => {\n            this.setState(closedOrError(reason));\n        })\n            .finally(() => {\n            this.verifying = undefined;\n        });\n        return this.verifying;\n    }\n}\nfunction closed() {\n    return {\n        t: \"closed\",\n    };\n}\nfunction error(reason) {\n    return {\n        t: \"error\",\n        reason,\n    };\n}\nfunction closedOrError(reason) {\n    const isCancel = reason instanceof _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError &&\n        _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError.from(reason).code == _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Canceled;\n    return isCancel ? closed() : error(reason);\n}\nfunction connect(authority, http2SessionOptions) {\n    let resolve;\n    let reject;\n    const conn = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    const newConn = http2__WEBPACK_IMPORTED_MODULE_0__.connect(authority, http2SessionOptions);\n    newConn.on(\"connect\", onConnect);\n    newConn.on(\"error\", onError);\n    function onConnect() {\n        resolve === null || resolve === void 0 ? void 0 : resolve(newConn);\n        cleanup();\n    }\n    function onError(err) {\n        reject === null || reject === void 0 ? void 0 : reject((0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromNodeReason)(err));\n        cleanup();\n    }\n    function cleanup() {\n        newConn.off(\"connect\", onConnect);\n        newConn.off(\"error\", onError);\n    }\n    return {\n        t: \"connecting\",\n        conn,\n        abort(reason) {\n            if (!newConn.destroyed) {\n                newConn.destroy(undefined, http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_CANCEL);\n            }\n            // According to the documentation, destroy() should immediately terminate\n            // the session and the socket, but we still receive a \"connect\" event.\n            // We must not resolve a broken connection, so we reject it manually here.\n            reject === null || reject === void 0 ? void 0 : reject(reason);\n        },\n        onExitState() {\n            cleanup();\n        },\n    };\n}\nfunction ready(conn, options) {\n    // Users have reported an error \"The session has been destroyed\" raised\n    // from H2SessionManager.request(), see https://github.com/connectrpc/connect-es/issues/683\n    // This assertion will show whether the session already died in the\n    // \"connecting\" state.\n    assertSessionOpen(conn);\n    // Do not block Node.js from exiting on an idle connection.\n    // Note that we ref() again for the first stream to open, and unref() again\n    // for the last stream to close.\n    conn.unref();\n    // the last time we were sure that the connection is alive, via a PING\n    // response, or via received response bytes\n    let lastAliveAt = Date.now();\n    // how many streams are currently open on this session\n    let streamCount = 0;\n    // timer for the keep-alive interval\n    let pingIntervalId;\n    // timer for waiting for a PING response\n    let pingTimeoutId;\n    // keep track of GOAWAY - gracefully shut down open streams / wait for connection to error\n    let receivedGoAway = false;\n    // keep track of GOAWAY with ENHANCE_YOUR_CALM and with debug data too_many_pings\n    let receivedGoAwayEnhanceYourCalmTooManyPings = false;\n    // timer for closing connections without open streams, must be initialized\n    let idleTimeoutId;\n    resetIdleTimeout();\n    const state = {\n        t: \"ready\",\n        conn,\n        streamCount() {\n            return streamCount;\n        },\n        requiresVerify() {\n            const elapsedMs = Date.now() - lastAliveAt;\n            return elapsedMs > options.pingIntervalMs;\n        },\n        isShuttingDown() {\n            return receivedGoAway;\n        },\n        onClose: undefined,\n        onError: undefined,\n        registerRequest(stream) {\n            streamCount++;\n            if (streamCount == 1) {\n                conn.ref();\n                resetPingInterval(); // reset to ping with the appropriate interval for \"open\"\n                stopIdleTimeout();\n            }\n            stream.once(\"response\", () => {\n                lastAliveAt = Date.now();\n                resetPingInterval();\n            });\n            stream.once(\"close\", () => {\n                streamCount--;\n                if (streamCount == 0) {\n                    conn.unref();\n                    resetPingInterval(); // reset to ping with the appropriate interval for \"idle\"\n                    resetIdleTimeout();\n                }\n            });\n        },\n        responseByteRead(stream) {\n            if (stream.session !== conn) {\n                return;\n            }\n            if (conn.closed || conn.destroyed) {\n                return;\n            }\n            if (streamCount <= 0) {\n                return;\n            }\n            lastAliveAt = Date.now();\n            resetPingInterval();\n        },\n        verify() {\n            conn.ref();\n            return new Promise((resolve) => {\n                commonPing(() => {\n                    if (streamCount == 0)\n                        conn.unref();\n                    resolve(true);\n                });\n                conn.once(\"error\", () => resolve(false));\n            });\n        },\n        abort(reason) {\n            if (!conn.destroyed) {\n                conn.once(\"error\", () => {\n                    // conn.destroy() may raise an error after onExitState() was called\n                    // and our error listeners are removed.\n                    // We attach this one to swallow uncaught exceptions.\n                });\n                conn.destroy(reason, http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_CANCEL);\n            }\n        },\n        onExitState() {\n            if (state.isShuttingDown()) {\n                // Per the interface, this method is called when the manager is leaving\n                // the state. We maintain this connection in the session manager until\n                // all streams have finished, so we do not detach event listeners here.\n                return;\n            }\n            cleanup();\n            this.onError = undefined;\n            this.onClose = undefined;\n        },\n    };\n    // start or restart the ping interval\n    function resetPingInterval() {\n        stopPingInterval();\n        if (streamCount > 0 || options.pingIdleConnection) {\n            pingIntervalId = safeSetTimeout(onPingInterval, options.pingIntervalMs);\n        }\n    }\n    function stopPingInterval() {\n        clearTimeout(pingIntervalId);\n        clearTimeout(pingTimeoutId);\n    }\n    function onPingInterval() {\n        commonPing(resetPingInterval);\n    }\n    function commonPing(onSuccess) {\n        clearTimeout(pingTimeoutId);\n        pingTimeoutId = safeSetTimeout(() => {\n            conn.destroy(new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"PING timed out\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Unavailable), http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_CANCEL);\n        }, options.pingTimeoutMs);\n        conn.ping((err, duration) => {\n            clearTimeout(pingTimeoutId);\n            if (err !== null) {\n                // We will receive an ERR_HTTP2_PING_CANCEL here if we destroy the\n                // connection with a pending ping.\n                // We might also see other errors, but they should be picked up by the\n                // \"error\" event listener.\n                return;\n            }\n            if (duration > options.pingTimeoutMs) {\n                // setTimeout is not precise, and HTTP/2 pings take less than 1ms in\n                // tests.\n                conn.destroy(new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"PING timed out\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Unavailable), http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_CANCEL);\n                return;\n            }\n            lastAliveAt = Date.now();\n            onSuccess();\n        });\n    }\n    function stopIdleTimeout() {\n        clearTimeout(idleTimeoutId);\n    }\n    function resetIdleTimeout() {\n        idleTimeoutId = safeSetTimeout(onIdleTimeout, options.idleConnectionTimeoutMs);\n    }\n    function onIdleTimeout() {\n        conn.close();\n        onClose(); // trigger a state change right away, so we are not open to races\n    }\n    function onGoaway(errorCode, lastStreamID, opaqueData) {\n        receivedGoAway = true;\n        const tooManyPingsAscii = Buffer.from(\"too_many_pings\", \"ascii\");\n        if (errorCode === http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_ENHANCE_YOUR_CALM &&\n            opaqueData != null &&\n            opaqueData.equals(tooManyPingsAscii)) {\n            // double pingIntervalMs, following the last paragraph of https://github.com/grpc/proposal/blob/0ba0c1905050525f9b0aee46f3f23c8e1e515489/A8-client-side-keepalive.md#basic-keepalive\n            options.pingIntervalMs = options.pingIntervalMs * 2;\n            receivedGoAwayEnhanceYourCalmTooManyPings = true;\n        }\n        if (errorCode === http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_NO_ERROR) {\n            const nodeMajor = parseInt(process.versions.node.split(\".\")[0], 10);\n            // Node.js v16 closes a connection on its own when it receives a GOAWAY\n            // frame and there are no open streams (emitting a \"close\" event and\n            // destroying the session), but more recent versions do not.\n            // Calling close() ourselves is ineffective here - it appears that the\n            // method is already being called, see https://github.com/nodejs/node/blob/198affc63973805ce5102d246f6b7822be57f5fc/lib/internal/http2/core.js#L681\n            if (streamCount == 0 && nodeMajor >= 18) {\n                conn.destroy(new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"received GOAWAY without any open streams\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Canceled), http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_NO_ERROR);\n            }\n        }\n    }\n    function onClose() {\n        var _a;\n        cleanup();\n        (_a = state.onClose) === null || _a === void 0 ? void 0 : _a.call(state);\n    }\n    function onError(err) {\n        var _a, _b;\n        cleanup();\n        if (receivedGoAwayEnhanceYourCalmTooManyPings) {\n            // We cannot prevent node from destroying session and streams with its own\n            // error that does not carry debug data, but at least we can wrap the error\n            // we surface on the manager.\n            const ce = new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(`http/2 connection closed with error code ENHANCE_YOUR_CALM (0x${http2__WEBPACK_IMPORTED_MODULE_0__.constants.NGHTTP2_ENHANCE_YOUR_CALM.toString(16)}), too_many_pings, doubled the interval`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.ResourceExhausted);\n            (_a = state.onError) === null || _a === void 0 ? void 0 : _a.call(state, ce);\n        }\n        else {\n            (_b = state.onError) === null || _b === void 0 ? void 0 : _b.call(state, (0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromNodeReason)(err));\n        }\n    }\n    function cleanup() {\n        stopPingInterval();\n        stopIdleTimeout();\n        conn.off(\"error\", onError);\n        conn.off(\"close\", onClose);\n        conn.off(\"goaway\", onGoaway);\n    }\n    conn.on(\"error\", onError);\n    conn.on(\"close\", onClose);\n    conn.on(\"goaway\", onGoaway);\n    return state;\n}\n/**\n * setTimeout(), but simply ignores values larger than the maximum supported\n * value (signed 32-bit integer) instead of calling the callback right away,\n * and does not block Node.js from exiting.\n */\nfunction safeSetTimeout(callback, ms) {\n    if (ms > 0x7fffffff) {\n        return;\n    }\n    return setTimeout(callback, ms).unref();\n}\nfunction assertSessionOpen(conn) {\n    if (conn.connecting) {\n        throw new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"expected open session, but it is connecting\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n    if (conn.destroyed) {\n        throw new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"expected open session, but it is destroyed\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n    if (conn.closed) {\n        throw new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"expected open session, but it is closed\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9odHRwMi1zZXNzaW9uLW1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUMwQjtBQUNJO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZ0ZBQWdGLGNBQWMsa0NBQWtDO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLDZEQUFZLHVCQUF1QixxREFBSTtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDZEQUFZO0FBQ25ELFFBQVEsNkRBQVksc0JBQXNCLHFEQUFJO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDBDQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDBFQUEwQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDRDQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLDRDQUFlO0FBQ3BEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2REFBWSxtQkFBbUIscURBQUksZUFBZSw0Q0FBZTtBQUM5RixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZEQUFZLG1CQUFtQixxREFBSSxlQUFlLDRDQUFlO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0Q0FBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNENBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkRBQVksNkNBQTZDLHFEQUFJLFlBQVksNENBQWU7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZEQUFZLGtFQUFrRSw0Q0FBZSx3Q0FBd0MsMENBQTBDLHFEQUFJO0FBQzlNO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRiwwRUFBMEI7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFZLGdEQUFnRCxxREFBSTtBQUNsRjtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFZLCtDQUErQyxxREFBSTtBQUNqRjtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFZLDRDQUE0QyxxREFBSTtBQUM5RTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxodHRwMi1zZXNzaW9uLW1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCAqIGFzIGh0dHAyIGZyb20gXCJodHRwMlwiO1xuaW1wb3J0IHsgQ29kZSwgQ29ubmVjdEVycm9yIH0gZnJvbSBcIkBjb25uZWN0cnBjL2Nvbm5lY3RcIjtcbmltcG9ydCB7IGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uIH0gZnJvbSBcIi4vbm9kZS1lcnJvci5qc1wiO1xuLyoqXG4gKiBNYW5hZ2UgYW4gSFRUUC8yIGNvbm5lY3Rpb24gYW5kIGtlZXAgaXQgYWxpdmUgd2l0aCBQSU5HIGZyYW1lcy5cbiAqXG4gKiBUaGUgbG9naWMgaXMgYmFzZWQgb24gXCJCYXNpYyBLZWVwYWxpdmVcIiBkZXNjcmliZWQgaW5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvMGJhMGMxOTA1MDUwNTI1ZjliMGFlZTQ2ZjNmMjNjOGUxZTUxNTQ4OS9BOC1jbGllbnQtc2lkZS1rZWVwYWxpdmUubWQjYmFzaWMta2VlcGFsaXZlXG4gKiBhcyB3ZWxsIGFzIHRoZSBjbGllbnQgY2hhbm5lbCBhcmd1bWVudHMgZGVzY3JpYmVkIGluXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjL2Jsb2IvOGUxMzdlNTI0YTFiMWRhN2JiZjQ2MDM2NjI4NzZkNTcxOTU2M2I1Ny9kb2Mva2VlcGFsaXZlLm1kXG4gKlxuICogVXN1YWxseSwgdGhlIG1hbmFnZXJzIHRyYWNrcyBleGFjdGx5IG9uZSBjb25uZWN0aW9uLCBidXQgaWYgYSBjb25uZWN0aW9uXG4gKiByZWNlaXZlcyBhIEdPQVdBWSBmcmFtZSB3aXRoIE5PX0VSUk9SLCB0aGUgY29ubmVjdGlvbiBpcyBtYWludGFpbmVkIHVudGlsXG4gKiBhbGwgc3RyZWFtcyBoYXZlIGZpbmlzaGVkLCBhbmQgbmV3IHJlcXVlc3RzIHdpbGwgb3BlbiBhIG5ldyBjb25uZWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgSHR0cDJTZXNzaW9uTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbm5lY3Rpb246XG4gICAgICpcbiAgICAgKiAtIFwiY2xvc2VkXCJcbiAgICAgKiAgIFRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZCwgb3Igbm8gY29ubmVjdGlvbiBoYXMgYmVlbiBvcGVuZWQgeWV0LlxuICAgICAqIC0gY29ubmVjdGluZ1xuICAgICAqICAgQ3VycmVudGx5IGVzdGFibGlzaGluZyBhIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiAtIFwib3BlblwiXG4gICAgICogICBBIGNvbm5lY3Rpb24gaXMgb3BlbiBhbmQgaGFzIG9wZW4gc3RyZWFtcy4gUElORyBmcmFtZXMgYXJlIHNlbnQgZXZlcnlcbiAgICAgKiAgIHBpbmdJbnRlcnZhbE1zLCB1bmxlc3MgYSBzdHJlYW0gcmVjZWl2ZWQgZGF0YS5cbiAgICAgKiAgIElmIGEgUElORyBmcmFtZSBpcyBub3QgcmVzcG9uZGVkIHRvIHdpdGhpbiBwaW5nVGltZW91dE1zLCB0aGUgY29ubmVjdGlvblxuICAgICAqICAgYW5kIGFsbCBvcGVuIHN0cmVhbXMgY2xvc2UuXG4gICAgICpcbiAgICAgKiAtIFwiaWRsZVwiXG4gICAgICogICBBIGNvbm5lY3Rpb24gaXMgb3BlbiwgYnV0IGl0IGRvZXMgbm90IGhhdmUgYW55IG9wZW4gc3RyZWFtcy5cbiAgICAgKiAgIElmIHBpbmdJZGxlQ29ubmVjdGlvbiBpcyBlbmFibGVkLCBQSU5HIGZyYW1lcyBhcmUgdXNlZCB0byBrZWVwIHRoZVxuICAgICAqICAgY29ubmVjdGlvbiBhbGl2ZSwgc2ltaWxhciB0byBhbiBcIm9wZW5cIiBjb25uZWN0aW9uLlxuICAgICAqICAgSWYgYSBjb25uZWN0aW9uIGlzIGlkbGUgZm9yIGxvbmdlciB0aGFuIGlkbGVDb25uZWN0aW9uVGltZW91dE1zLCBpdCBjbG9zZXMuXG4gICAgICogICBJZiBhIHJlcXVlc3QgaXMgbWFkZSBvbiBhbiBpZGxlIGNvbm5lY3Rpb24gdGhhdCBoYXMgbm90IGJlZW4gdXNlZCBmb3JcbiAgICAgKiAgIGxvbmdlciB0aGFuIHBpbmdJbnRlcnZhbE1zLCB0aGUgY29ubmVjdGlvbiBpcyB2ZXJpZmllZC5cbiAgICAgKlxuICAgICAqIC0gXCJ2ZXJpZnlpbmdcIlxuICAgICAqICAgVmVyaWZ5aW5nIGEgY29ubmVjdGlvbiBhZnRlciBhIGxvbmcgcGVyaW9kIG9mIGluYWN0aXZpdHkgYmVmb3JlIGlzc3VpbmcgYVxuICAgICAqICAgcmVxdWVzdC4gQSBQSU5HIGZyYW1lIGlzIHNlbnQsIGFuZCBpZiBpdCB0aW1lcyBvdXQgd2l0aGluIHBpbmdUaW1lb3V0TXMsIGFcbiAgICAgKiAgIG5ldyBjb25uZWN0aW9uIGlzIG9wZW5lZC5cbiAgICAgKlxuICAgICAqIC0gXCJlcnJvclwiXG4gICAgICogICBUaGUgY29ubmVjdGlvbiBpcyBjbG9zZWQgYmVjYXVzZSBvZiBhIHRyYW5zaWVudCBlcnJvci4gQSBjb25uZWN0aW9uXG4gICAgICogICBtYXkgaGF2ZSBmYWlsZWQgdG8gcmVhY2ggdGhlIGhvc3QsIG9yIHRoZSBjb25uZWN0aW9uIG1heSBoYXZlIGRpZWQsXG4gICAgICogICBvciBpdCBtYXkgaGF2ZSBiZWVuIGFib3J0ZWQuXG4gICAgICovXG4gICAgc3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnMudCA9PSBcInJlYWR5XCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcmlmeWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidmVyaWZ5aW5nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zLnN0cmVhbUNvdW50KCkgPiAwID8gXCJvcGVuXCIgOiBcImlkbGVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zLnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGVycm9yIG9iamVjdCBpZiB0aGUgY29ubmVjdGlvbiBpcyBpbiB0aGUgXCJlcnJvclwiIHN0YXRlLFxuICAgICAqIGB1bmRlZmluZWRgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBlcnJvcigpIHtcbiAgICAgICAgaWYgKHRoaXMucy50ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucy5yZWFzb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodXJsLCBwaW5nT3B0aW9ucywgaHR0cDJTZXNzaW9uT3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMucyA9IGNsb3NlZCgpO1xuICAgICAgICB0aGlzLnNodXR0aW5nRG93biA9IFtdO1xuICAgICAgICB0aGlzLmF1dGhvcml0eSA9IG5ldyBVUkwodXJsKS5vcmlnaW47XG4gICAgICAgIHRoaXMuaHR0cDJTZXNzaW9uT3B0aW9ucyA9IGh0dHAyU2Vzc2lvbk9wdGlvbnM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHBpbmdJbnRlcnZhbE1zOiAoX2EgPSBwaW5nT3B0aW9ucyA9PT0gbnVsbCB8fCBwaW5nT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGluZ09wdGlvbnMucGluZ0ludGVydmFsTXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIHBpbmdUaW1lb3V0TXM6IChfYiA9IHBpbmdPcHRpb25zID09PSBudWxsIHx8IHBpbmdPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaW5nT3B0aW9ucy5waW5nVGltZW91dE1zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxMDAwICogMTUsXG4gICAgICAgICAgICBwaW5nSWRsZUNvbm5lY3Rpb246IChfYyA9IHBpbmdPcHRpb25zID09PSBudWxsIHx8IHBpbmdPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaW5nT3B0aW9ucy5waW5nSWRsZUNvbm5lY3Rpb24pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlLFxuICAgICAgICAgICAgaWRsZUNvbm5lY3Rpb25UaW1lb3V0TXM6IChfZCA9IHBpbmdPcHRpb25zID09PSBudWxsIHx8IHBpbmdPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwaW5nT3B0aW9ucy5pZGxlQ29ubmVjdGlvblRpbWVvdXRNcykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogMTAwMCAqIDYwICogMTUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gYSBjb25uZWN0aW9uIGlmIG5vbmUgZXhpc3RzLCB2ZXJpZnkgYW4gZXhpc3RpbmcgY29ubmVjdGlvbiBpZlxuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSBhd2FpdCB0aGlzLmdvdG9SZWFkeSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlYWR5LnN0cmVhbUNvdW50KCkgPiAwID8gXCJvcGVuXCIgOiBcImlkbGVcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJc3N1ZSBhIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IG9wZW5zIGEgY29ubmVjdGlvbiBpZiBub25lIGV4aXN0cywgYW5kIHZlcmlmaWVzXG4gICAgICogYW4gZXhpc3RpbmcgY29ubmVjdGlvbiBpZiBuZWNlc3NhcnkuIEl0IGNhbGxzIGh0dHAyLkNsaWVudEh0dHAyU2Vzc2lvbi5yZXF1ZXN0KCksXG4gICAgICogYW5kIGtlZXBzIHRyYWNrIG9mIGFsbCBvcGVuIGh0dHAyLkNsaWVudEh0dHAyU3RyZWFtLlxuICAgICAqXG4gICAgICogQ2xpZW50cyBtdXN0IGNhbGwgbm90aWZ5UmVzcG9uc2VCeXRlUmVhZCgpIHdoZW5ldmVyIHRoZXkgc3VjY2Vzc2Z1bGx5IHJlYWRcbiAgICAgKiBkYXRhIGZyb20gdGhlIGh0dHAyLkNsaWVudEh0dHAyU3RyZWFtLlxuICAgICAqL1xuICAgIGFzeW5jIHJlcXVlc3QobWV0aG9kLCBwYXRoLCBoZWFkZXJzLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFJlcXVlc3Qgc29tZXRpbWVzIGZhaWxzIHdpdGggZ29hd2F5L2Rlc3Ryb3llZFxuICAgICAgICAvLyBlcnJvcnMsIHdlIHVzZSBhIGxvb3AgdG8gcmV0cnkuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IGV4cGVjdGVkIHRvIGhhcHBlbiBvZnRlbiwgYnV0IGl0IGlzIHBvc3NpYmxlIHRoYXQgYVxuICAgICAgICAvLyBjb25uZWN0aW9uIGlzIGNsb3NlZCB3aGlsZSB3ZSBhcmUgdHJ5aW5nIHRvIG9wZW4gYSBzdHJlYW0uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9oZWxwL2lzc3Vlcy8yMTA1XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWR5ID0gYXdhaXQgdGhpcy5nb3RvUmVhZHkoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gcmVhZHkuY29ubi5yZXF1ZXN0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaGVhZGVycyksIHsgXCI6bWV0aG9kXCI6IG1ldGhvZCwgXCI6cGF0aFwiOiBwYXRoIH0pLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZWFkeS5yZWdpc3RlclJlcXVlc3Qoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkIG9yIGRlc3Ryb3llZFxuICAgICAgICAgICAgICAgIC8vIGFuZCBpZiBzbywgd2UgdHJ5IGFnYWluLlxuICAgICAgICAgICAgICAgIGlmIChyZWFkeS5jb25uLmNsb3NlZCB8fCByZWFkeS5jb25uLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIG1hbmFnZXIgb2YgYSBzdWNjZXNzZnVsIHJlYWQgZnJvbSBhIGh0dHAyLkNsaWVudEh0dHAyU3RyZWFtLlxuICAgICAqXG4gICAgICogQ2xpZW50cyBtdXN0IGNhbGwgdGhpcyBmdW5jdGlvbiB3aGVuZXZlciB0aGV5IHN1Y2Nlc3NmdWxseSByZWFkIGRhdGEgZnJvbVxuICAgICAqIGEgaHR0cDIuQ2xpZW50SHR0cDJTdHJlYW0gb2J0YWluZWQgZnJvbSByZXF1ZXN0KCkuIFRoaXMgaW5mb3JtcyB0aGVcbiAgICAgKiBrZWVwLWFsaXZlIGxvZ2ljIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgYWxpdmUsIGFuZCBwcmV2ZW50cyBpdCBmcm9tIHNlbmRpbmdcbiAgICAgKiB1bm5lY2Vzc2FyeSBQSU5HIGZyYW1lcy5cbiAgICAgKi9cbiAgICBub3RpZnlSZXNwb25zZUJ5dGVSZWFkKHN0cmVhbSkge1xuICAgICAgICBpZiAodGhpcy5zLnQgPT0gXCJyZWFkeVwiKSB7XG4gICAgICAgICAgICB0aGlzLnMucmVzcG9uc2VCeXRlUmVhZChzdHJlYW0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnNodXR0aW5nRG93bikge1xuICAgICAgICAgICAgcy5yZXNwb25zZUJ5dGVSZWFkKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUgaXMgYW4gb3BlbiBjb25uZWN0aW9uLCBjbG9zZSBpdC4gVGhpcyBhbHNvIGNsb3NlcyBhbnkgb3BlbiBzdHJlYW1zLlxuICAgICAqL1xuICAgIGFib3J0KHJlYXNvbikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uICE9PSBudWxsICYmIHJlYXNvbiAhPT0gdm9pZCAwID8gcmVhc29uIDogbmV3IENvbm5lY3RFcnJvcihcImNvbm5lY3Rpb24gYWJvcnRlZFwiLCBDb2RlLkNhbmNlbGVkKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5zKS5hYm9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGVycik7XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnNodXR0aW5nRG93bikge1xuICAgICAgICAgICAgKF9jID0gcy5hYm9ydCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwocywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKGNsb3NlZE9yRXJyb3IoZXJyKSk7XG4gICAgfVxuICAgIGFzeW5jIGdvdG9SZWFkeSgpIHtcbiAgICAgICAgaWYgKHRoaXMucy50ID09IFwicmVhZHlcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucy5pc1NodXR0aW5nRG93bigpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zLmNvbm4uY2xvc2VkIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zLmNvbm4uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25uZWN0KHRoaXMuYXV0aG9yaXR5LCB0aGlzLmh0dHAyU2Vzc2lvbk9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucy5yZXF1aXJlc1ZlcmlmeSgpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy52ZXJpZnkodGhpcy5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnMudCA9PSBcImNsb3NlZFwiIHx8IHRoaXMucy50ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25uZWN0KHRoaXMuYXV0aG9yaXR5LCB0aGlzLmh0dHAyU2Vzc2lvbk9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5zLnQgIT09IFwicmVhZHlcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucy50ID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLnMucmVhc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucy50ID09PSBcImNvbm5lY3RpbmdcIikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucy5jb25uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnM7XG4gICAgfVxuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMucykub25FeGl0U3RhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgaWYgKHRoaXMucy50ID09IFwicmVhZHlcIiAmJiB0aGlzLnMuaXNTaHV0dGluZ0Rvd24oKSkge1xuICAgICAgICAgICAgLy8gTWFpbnRhaW4gY29ubmVjdGlvbnMgdGhhdCBoYXZlIGJlZW4gYXNrZWQgdG8gc2h1dCBkb3duLlxuICAgICAgICAgICAgY29uc3Qgc2QgPSB0aGlzLnM7XG4gICAgICAgICAgICB0aGlzLnNodXR0aW5nRG93bi5wdXNoKHNkKTtcbiAgICAgICAgICAgIHNkLm9uQ2xvc2UgPSBzZC5vbkVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLnNodXR0aW5nRG93bi5pbmRleE9mKHNkKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaHV0dGluZ0Rvd24uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChzdGF0ZS50KSB7XG4gICAgICAgICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgICAgICAgICAgIHN0YXRlLmNvbm4udGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShyZWFkeSh2YWx1ZSwgdGhpcy5vcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGNsb3NlZE9yRXJyb3IocmVhc29uKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVhZHlcIjpcbiAgICAgICAgICAgICAgICBzdGF0ZS5vbkNsb3NlID0gKCkgPT4gdGhpcy5zZXRTdGF0ZShjbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgc3RhdGUub25FcnJvciA9IChlcnIpID0+IHRoaXMuc2V0U3RhdGUoY2xvc2VkT3JFcnJvcihlcnIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjbG9zZWRcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucyA9IHN0YXRlO1xuICAgIH1cbiAgICB2ZXJpZnkoc3RhdGVSZWFkeSkge1xuICAgICAgICBpZiAodGhpcy52ZXJpZnlpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmVyaWZ5aW5nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyaWZ5aW5nID0gc3RhdGVSZWFkeVxuICAgICAgICAgICAgLnZlcmlmeSgpXG4gICAgICAgICAgICAudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2ZXJpZnkoKSBoYXMgZGVzdHJveWVkIHRoZSBvbGQgY29ubmVjdGlvblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25uZWN0KHRoaXMuYXV0aG9yaXR5LCB0aGlzLmh0dHAyU2Vzc2lvbk9wdGlvbnMpKTtcbiAgICAgICAgfSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjbG9zZWRPckVycm9yKHJlYXNvbikpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52ZXJpZnlpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJpZnlpbmc7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xvc2VkKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHQ6IFwiY2xvc2VkXCIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGVycm9yKHJlYXNvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHQ6IFwiZXJyb3JcIixcbiAgICAgICAgcmVhc29uLFxuICAgIH07XG59XG5mdW5jdGlvbiBjbG9zZWRPckVycm9yKHJlYXNvbikge1xuICAgIGNvbnN0IGlzQ2FuY2VsID0gcmVhc29uIGluc3RhbmNlb2YgQ29ubmVjdEVycm9yICYmXG4gICAgICAgIENvbm5lY3RFcnJvci5mcm9tKHJlYXNvbikuY29kZSA9PSBDb2RlLkNhbmNlbGVkO1xuICAgIHJldHVybiBpc0NhbmNlbCA/IGNsb3NlZCgpIDogZXJyb3IocmVhc29uKTtcbn1cbmZ1bmN0aW9uIGNvbm5lY3QoYXV0aG9yaXR5LCBodHRwMlNlc3Npb25PcHRpb25zKSB7XG4gICAgbGV0IHJlc29sdmU7XG4gICAgbGV0IHJlamVjdDtcbiAgICBjb25zdCBjb25uID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICAgIHJlamVjdCA9IHJlajtcbiAgICB9KTtcbiAgICBjb25zdCBuZXdDb25uID0gaHR0cDIuY29ubmVjdChhdXRob3JpdHksIGh0dHAyU2Vzc2lvbk9wdGlvbnMpO1xuICAgIG5ld0Nvbm4ub24oXCJjb25uZWN0XCIsIG9uQ29ubmVjdCk7XG4gICAgbmV3Q29ubi5vbihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIGZ1bmN0aW9uIG9uQ29ubmVjdCgpIHtcbiAgICAgICAgcmVzb2x2ZSA9PT0gbnVsbCB8fCByZXNvbHZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNvbHZlKG5ld0Nvbm4pO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHJlamVjdCA9PT0gbnVsbCB8fCByZWplY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlamVjdChjb25uZWN0RXJyb3JGcm9tTm9kZVJlYXNvbihlcnIpKTtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBuZXdDb25uLm9mZihcImNvbm5lY3RcIiwgb25Db25uZWN0KTtcbiAgICAgICAgbmV3Q29ubi5vZmYoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdDogXCJjb25uZWN0aW5nXCIsXG4gICAgICAgIGNvbm4sXG4gICAgICAgIGFib3J0KHJlYXNvbikge1xuICAgICAgICAgICAgaWYgKCFuZXdDb25uLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIG5ld0Nvbm4uZGVzdHJveSh1bmRlZmluZWQsIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIGRvY3VtZW50YXRpb24sIGRlc3Ryb3koKSBzaG91bGQgaW1tZWRpYXRlbHkgdGVybWluYXRlXG4gICAgICAgICAgICAvLyB0aGUgc2Vzc2lvbiBhbmQgdGhlIHNvY2tldCwgYnV0IHdlIHN0aWxsIHJlY2VpdmUgYSBcImNvbm5lY3RcIiBldmVudC5cbiAgICAgICAgICAgIC8vIFdlIG11c3Qgbm90IHJlc29sdmUgYSBicm9rZW4gY29ubmVjdGlvbiwgc28gd2UgcmVqZWN0IGl0IG1hbnVhbGx5IGhlcmUuXG4gICAgICAgICAgICByZWplY3QgPT09IG51bGwgfHwgcmVqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FeGl0U3RhdGUoKSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlYWR5KGNvbm4sIG9wdGlvbnMpIHtcbiAgICAvLyBVc2VycyBoYXZlIHJlcG9ydGVkIGFuIGVycm9yIFwiVGhlIHNlc3Npb24gaGFzIGJlZW4gZGVzdHJveWVkXCIgcmFpc2VkXG4gICAgLy8gZnJvbSBIMlNlc3Npb25NYW5hZ2VyLnJlcXVlc3QoKSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jb25uZWN0cnBjL2Nvbm5lY3QtZXMvaXNzdWVzLzY4M1xuICAgIC8vIFRoaXMgYXNzZXJ0aW9uIHdpbGwgc2hvdyB3aGV0aGVyIHRoZSBzZXNzaW9uIGFscmVhZHkgZGllZCBpbiB0aGVcbiAgICAvLyBcImNvbm5lY3RpbmdcIiBzdGF0ZS5cbiAgICBhc3NlcnRTZXNzaW9uT3Blbihjb25uKTtcbiAgICAvLyBEbyBub3QgYmxvY2sgTm9kZS5qcyBmcm9tIGV4aXRpbmcgb24gYW4gaWRsZSBjb25uZWN0aW9uLlxuICAgIC8vIE5vdGUgdGhhdCB3ZSByZWYoKSBhZ2FpbiBmb3IgdGhlIGZpcnN0IHN0cmVhbSB0byBvcGVuLCBhbmQgdW5yZWYoKSBhZ2FpblxuICAgIC8vIGZvciB0aGUgbGFzdCBzdHJlYW0gdG8gY2xvc2UuXG4gICAgY29ubi51bnJlZigpO1xuICAgIC8vIHRoZSBsYXN0IHRpbWUgd2Ugd2VyZSBzdXJlIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgYWxpdmUsIHZpYSBhIFBJTkdcbiAgICAvLyByZXNwb25zZSwgb3IgdmlhIHJlY2VpdmVkIHJlc3BvbnNlIGJ5dGVzXG4gICAgbGV0IGxhc3RBbGl2ZUF0ID0gRGF0ZS5ub3coKTtcbiAgICAvLyBob3cgbWFueSBzdHJlYW1zIGFyZSBjdXJyZW50bHkgb3BlbiBvbiB0aGlzIHNlc3Npb25cbiAgICBsZXQgc3RyZWFtQ291bnQgPSAwO1xuICAgIC8vIHRpbWVyIGZvciB0aGUga2VlcC1hbGl2ZSBpbnRlcnZhbFxuICAgIGxldCBwaW5nSW50ZXJ2YWxJZDtcbiAgICAvLyB0aW1lciBmb3Igd2FpdGluZyBmb3IgYSBQSU5HIHJlc3BvbnNlXG4gICAgbGV0IHBpbmdUaW1lb3V0SWQ7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBHT0FXQVkgLSBncmFjZWZ1bGx5IHNodXQgZG93biBvcGVuIHN0cmVhbXMgLyB3YWl0IGZvciBjb25uZWN0aW9uIHRvIGVycm9yXG4gICAgbGV0IHJlY2VpdmVkR29Bd2F5ID0gZmFsc2U7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBHT0FXQVkgd2l0aCBFTkhBTkNFX1lPVVJfQ0FMTSBhbmQgd2l0aCBkZWJ1ZyBkYXRhIHRvb19tYW55X3BpbmdzXG4gICAgbGV0IHJlY2VpdmVkR29Bd2F5RW5oYW5jZVlvdXJDYWxtVG9vTWFueVBpbmdzID0gZmFsc2U7XG4gICAgLy8gdGltZXIgZm9yIGNsb3NpbmcgY29ubmVjdGlvbnMgd2l0aG91dCBvcGVuIHN0cmVhbXMsIG11c3QgYmUgaW5pdGlhbGl6ZWRcbiAgICBsZXQgaWRsZVRpbWVvdXRJZDtcbiAgICByZXNldElkbGVUaW1lb3V0KCk7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHQ6IFwicmVhZHlcIixcbiAgICAgICAgY29ubixcbiAgICAgICAgc3RyZWFtQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVzVmVyaWZ5KCkge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZE1zID0gRGF0ZS5ub3coKSAtIGxhc3RBbGl2ZUF0O1xuICAgICAgICAgICAgcmV0dXJuIGVsYXBzZWRNcyA+IG9wdGlvbnMucGluZ0ludGVydmFsTXM7XG4gICAgICAgIH0sXG4gICAgICAgIGlzU2h1dHRpbmdEb3duKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY2VpdmVkR29Bd2F5O1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gICAgICAgIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVnaXN0ZXJSZXF1ZXN0KHN0cmVhbSkge1xuICAgICAgICAgICAgc3RyZWFtQ291bnQrKztcbiAgICAgICAgICAgIGlmIChzdHJlYW1Db3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29ubi5yZWYoKTtcbiAgICAgICAgICAgICAgICByZXNldFBpbmdJbnRlcnZhbCgpOyAvLyByZXNldCB0byBwaW5nIHdpdGggdGhlIGFwcHJvcHJpYXRlIGludGVydmFsIGZvciBcIm9wZW5cIlxuICAgICAgICAgICAgICAgIHN0b3BJZGxlVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyZWFtLm9uY2UoXCJyZXNwb25zZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGFzdEFsaXZlQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHJlc2V0UGluZ0ludGVydmFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0cmVhbS5vbmNlKFwiY2xvc2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0cmVhbUNvdW50LS07XG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbUNvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubi51bnJlZigpO1xuICAgICAgICAgICAgICAgICAgICByZXNldFBpbmdJbnRlcnZhbCgpOyAvLyByZXNldCB0byBwaW5nIHdpdGggdGhlIGFwcHJvcHJpYXRlIGludGVydmFsIGZvciBcImlkbGVcIlxuICAgICAgICAgICAgICAgICAgICByZXNldElkbGVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbnNlQnl0ZVJlYWQoc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLnNlc3Npb24gIT09IGNvbm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29ubi5jbG9zZWQgfHwgY29ubi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RyZWFtQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RBbGl2ZUF0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJlc2V0UGluZ0ludGVydmFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHZlcmlmeSgpIHtcbiAgICAgICAgICAgIGNvbm4ucmVmKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjb21tb25QaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbUNvdW50ID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uLnVucmVmKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29ubi5vbmNlKFwiZXJyb3JcIiwgKCkgPT4gcmVzb2x2ZShmYWxzZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFib3J0KHJlYXNvbikge1xuICAgICAgICAgICAgaWYgKCFjb25uLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGNvbm4ub25jZShcImVycm9yXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29ubi5kZXN0cm95KCkgbWF5IHJhaXNlIGFuIGVycm9yIGFmdGVyIG9uRXhpdFN0YXRlKCkgd2FzIGNhbGxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgb3VyIGVycm9yIGxpc3RlbmVycyBhcmUgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXR0YWNoIHRoaXMgb25lIHRvIHN3YWxsb3cgdW5jYXVnaHQgZXhjZXB0aW9ucy5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25uLmRlc3Ryb3kocmVhc29uLCBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9DQU5DRUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkV4aXRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc1NodXR0aW5nRG93bigpKSB7XG4gICAgICAgICAgICAgICAgLy8gUGVyIHRoZSBpbnRlcmZhY2UsIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIHRoZSBtYW5hZ2VyIGlzIGxlYXZpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3RhdGUuIFdlIG1haW50YWluIHRoaXMgY29ubmVjdGlvbiBpbiB0aGUgc2Vzc2lvbiBtYW5hZ2VyIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gYWxsIHN0cmVhbXMgaGF2ZSBmaW5pc2hlZCwgc28gd2UgZG8gbm90IGRldGFjaCBldmVudCBsaXN0ZW5lcnMgaGVyZS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICAvLyBzdGFydCBvciByZXN0YXJ0IHRoZSBwaW5nIGludGVydmFsXG4gICAgZnVuY3Rpb24gcmVzZXRQaW5nSW50ZXJ2YWwoKSB7XG4gICAgICAgIHN0b3BQaW5nSW50ZXJ2YWwoKTtcbiAgICAgICAgaWYgKHN0cmVhbUNvdW50ID4gMCB8fCBvcHRpb25zLnBpbmdJZGxlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgcGluZ0ludGVydmFsSWQgPSBzYWZlU2V0VGltZW91dChvblBpbmdJbnRlcnZhbCwgb3B0aW9ucy5waW5nSW50ZXJ2YWxNcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFBpbmdJbnRlcnZhbCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBpbmdJbnRlcnZhbElkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBpbmdUaW1lb3V0SWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblBpbmdJbnRlcnZhbCgpIHtcbiAgICAgICAgY29tbW9uUGluZyhyZXNldFBpbmdJbnRlcnZhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1vblBpbmcob25TdWNjZXNzKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwaW5nVGltZW91dElkKTtcbiAgICAgICAgcGluZ1RpbWVvdXRJZCA9IHNhZmVTZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbm4uZGVzdHJveShuZXcgQ29ubmVjdEVycm9yKFwiUElORyB0aW1lZCBvdXRcIiwgQ29kZS5VbmF2YWlsYWJsZSksIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgIH0sIG9wdGlvbnMucGluZ1RpbWVvdXRNcyk7XG4gICAgICAgIGNvbm4ucGluZygoZXJyLCBkdXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpbmdUaW1lb3V0SWQpO1xuICAgICAgICAgICAgaWYgKGVyciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHdpbGwgcmVjZWl2ZSBhbiBFUlJfSFRUUDJfUElOR19DQU5DRUwgaGVyZSBpZiB3ZSBkZXN0cm95IHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gd2l0aCBhIHBlbmRpbmcgcGluZy5cbiAgICAgICAgICAgICAgICAvLyBXZSBtaWdodCBhbHNvIHNlZSBvdGhlciBlcnJvcnMsIGJ1dCB0aGV5IHNob3VsZCBiZSBwaWNrZWQgdXAgYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gXCJlcnJvclwiIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiA+IG9wdGlvbnMucGluZ1RpbWVvdXRNcykge1xuICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQgaXMgbm90IHByZWNpc2UsIGFuZCBIVFRQLzIgcGluZ3MgdGFrZSBsZXNzIHRoYW4gMW1zIGluXG4gICAgICAgICAgICAgICAgLy8gdGVzdHMuXG4gICAgICAgICAgICAgICAgY29ubi5kZXN0cm95KG5ldyBDb25uZWN0RXJyb3IoXCJQSU5HIHRpbWVkIG91dFwiLCBDb2RlLlVuYXZhaWxhYmxlKSwgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0QWxpdmVBdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BJZGxlVGltZW91dCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lb3V0SWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldElkbGVUaW1lb3V0KCkge1xuICAgICAgICBpZGxlVGltZW91dElkID0gc2FmZVNldFRpbWVvdXQob25JZGxlVGltZW91dCwgb3B0aW9ucy5pZGxlQ29ubmVjdGlvblRpbWVvdXRNcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uSWRsZVRpbWVvdXQoKSB7XG4gICAgICAgIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgb25DbG9zZSgpOyAvLyB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlIHJpZ2h0IGF3YXksIHNvIHdlIGFyZSBub3Qgb3BlbiB0byByYWNlc1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkdvYXdheShlcnJvckNvZGUsIGxhc3RTdHJlYW1JRCwgb3BhcXVlRGF0YSkge1xuICAgICAgICByZWNlaXZlZEdvQXdheSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHRvb01hbnlQaW5nc0FzY2lpID0gQnVmZmVyLmZyb20oXCJ0b29fbWFueV9waW5nc1wiLCBcImFzY2lpXCIpO1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09PSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9FTkhBTkNFX1lPVVJfQ0FMTSAmJlxuICAgICAgICAgICAgb3BhcXVlRGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICBvcGFxdWVEYXRhLmVxdWFscyh0b29NYW55UGluZ3NBc2NpaSkpIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZSBwaW5nSW50ZXJ2YWxNcywgZm9sbG93aW5nIHRoZSBsYXN0IHBhcmFncmFwaCBvZiBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9wcm9wb3NhbC9ibG9iLzBiYTBjMTkwNTA1MDUyNWY5YjBhZWU0NmYzZjIzYzhlMWU1MTU0ODkvQTgtY2xpZW50LXNpZGUta2VlcGFsaXZlLm1kI2Jhc2ljLWtlZXBhbGl2ZVxuICAgICAgICAgICAgb3B0aW9ucy5waW5nSW50ZXJ2YWxNcyA9IG9wdGlvbnMucGluZ0ludGVydmFsTXMgKiAyO1xuICAgICAgICAgICAgcmVjZWl2ZWRHb0F3YXlFbmhhbmNlWW91ckNhbG1Ub29NYW55UGluZ3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT09IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlTWFqb3IgPSBwYXJzZUludChwcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoXCIuXCIpWzBdLCAxMCk7XG4gICAgICAgICAgICAvLyBOb2RlLmpzIHYxNiBjbG9zZXMgYSBjb25uZWN0aW9uIG9uIGl0cyBvd24gd2hlbiBpdCByZWNlaXZlcyBhIEdPQVdBWVxuICAgICAgICAgICAgLy8gZnJhbWUgYW5kIHRoZXJlIGFyZSBubyBvcGVuIHN0cmVhbXMgKGVtaXR0aW5nIGEgXCJjbG9zZVwiIGV2ZW50IGFuZFxuICAgICAgICAgICAgLy8gZGVzdHJveWluZyB0aGUgc2Vzc2lvbiksIGJ1dCBtb3JlIHJlY2VudCB2ZXJzaW9ucyBkbyBub3QuXG4gICAgICAgICAgICAvLyBDYWxsaW5nIGNsb3NlKCkgb3Vyc2VsdmVzIGlzIGluZWZmZWN0aXZlIGhlcmUgLSBpdCBhcHBlYXJzIHRoYXQgdGhlXG4gICAgICAgICAgICAvLyBtZXRob2QgaXMgYWxyZWFkeSBiZWluZyBjYWxsZWQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi8xOThhZmZjNjM5NzM4MDVjZTUxMDJkMjQ2ZjZiNzgyMmJlNTdmNWZjL2xpYi9pbnRlcm5hbC9odHRwMi9jb3JlLmpzI0w2ODFcbiAgICAgICAgICAgIGlmIChzdHJlYW1Db3VudCA9PSAwICYmIG5vZGVNYWpvciA+PSAxOCkge1xuICAgICAgICAgICAgICAgIGNvbm4uZGVzdHJveShuZXcgQ29ubmVjdEVycm9yKFwicmVjZWl2ZWQgR09BV0FZIHdpdGhvdXQgYW55IG9wZW4gc3RyZWFtc1wiLCBDb2RlLkNhbmNlbGVkKSwgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAoX2EgPSBzdGF0ZS5vbkNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgaWYgKHJlY2VpdmVkR29Bd2F5RW5oYW5jZVlvdXJDYWxtVG9vTWFueVBpbmdzKSB7XG4gICAgICAgICAgICAvLyBXZSBjYW5ub3QgcHJldmVudCBub2RlIGZyb20gZGVzdHJveWluZyBzZXNzaW9uIGFuZCBzdHJlYW1zIHdpdGggaXRzIG93blxuICAgICAgICAgICAgLy8gZXJyb3IgdGhhdCBkb2VzIG5vdCBjYXJyeSBkZWJ1ZyBkYXRhLCBidXQgYXQgbGVhc3Qgd2UgY2FuIHdyYXAgdGhlIGVycm9yXG4gICAgICAgICAgICAvLyB3ZSBzdXJmYWNlIG9uIHRoZSBtYW5hZ2VyLlxuICAgICAgICAgICAgY29uc3QgY2UgPSBuZXcgQ29ubmVjdEVycm9yKGBodHRwLzIgY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvciBjb2RlIEVOSEFOQ0VfWU9VUl9DQUxNICgweCR7aHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfRU5IQU5DRV9ZT1VSX0NBTE0udG9TdHJpbmcoMTYpfSksIHRvb19tYW55X3BpbmdzLCBkb3VibGVkIHRoZSBpbnRlcnZhbGAsIENvZGUuUmVzb3VyY2VFeGhhdXN0ZWQpO1xuICAgICAgICAgICAgKF9hID0gc3RhdGUub25FcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3RhdGUsIGNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIChfYiA9IHN0YXRlLm9uRXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHN0YXRlLCBjb25uZWN0RXJyb3JGcm9tTm9kZVJlYXNvbihlcnIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBzdG9wUGluZ0ludGVydmFsKCk7XG4gICAgICAgIHN0b3BJZGxlVGltZW91dCgpO1xuICAgICAgICBjb25uLm9mZihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgICBjb25uLm9mZihcImNsb3NlXCIsIG9uQ2xvc2UpO1xuICAgICAgICBjb25uLm9mZihcImdvYXdheVwiLCBvbkdvYXdheSk7XG4gICAgfVxuICAgIGNvbm4ub24oXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICBjb25uLm9uKFwiY2xvc2VcIiwgb25DbG9zZSk7XG4gICAgY29ubi5vbihcImdvYXdheVwiLCBvbkdvYXdheSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuLyoqXG4gKiBzZXRUaW1lb3V0KCksIGJ1dCBzaW1wbHkgaWdub3JlcyB2YWx1ZXMgbGFyZ2VyIHRoYW4gdGhlIG1heGltdW0gc3VwcG9ydGVkXG4gKiB2YWx1ZSAoc2lnbmVkIDMyLWJpdCBpbnRlZ2VyKSBpbnN0ZWFkIG9mIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHJpZ2h0IGF3YXksXG4gKiBhbmQgZG9lcyBub3QgYmxvY2sgTm9kZS5qcyBmcm9tIGV4aXRpbmcuXG4gKi9cbmZ1bmN0aW9uIHNhZmVTZXRUaW1lb3V0KGNhbGxiYWNrLCBtcykge1xuICAgIGlmIChtcyA+IDB4N2ZmZmZmZmYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgbXMpLnVucmVmKCk7XG59XG5mdW5jdGlvbiBhc3NlcnRTZXNzaW9uT3Blbihjb25uKSB7XG4gICAgaWYgKGNvbm4uY29ubmVjdGluZykge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwiZXhwZWN0ZWQgb3BlbiBzZXNzaW9uLCBidXQgaXQgaXMgY29ubmVjdGluZ1wiLCBDb2RlLkludGVybmFsKTtcbiAgICB9XG4gICAgaWYgKGNvbm4uZGVzdHJveWVkKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJleHBlY3RlZCBvcGVuIHNlc3Npb24sIGJ1dCBpdCBpcyBkZXN0cm95ZWRcIiwgQ29kZS5JbnRlcm5hbCk7XG4gICAgfVxuICAgIGlmIChjb25uLmNsb3NlZCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwiZXhwZWN0ZWQgb3BlbiBzZXNzaW9uLCBidXQgaXQgaXMgY2xvc2VkXCIsIENvZGUuSW50ZXJuYWwpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Http2SessionManager: () => (/* reexport safe */ _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_8__.Http2SessionManager),\n/* harmony export */   compressionBrotli: () => (/* reexport safe */ _compression_js__WEBPACK_IMPORTED_MODULE_4__.compressionBrotli),\n/* harmony export */   compressionGzip: () => (/* reexport safe */ _compression_js__WEBPACK_IMPORTED_MODULE_4__.compressionGzip),\n/* harmony export */   connectNodeAdapter: () => (/* reexport safe */ _connect_node_adapter_js__WEBPACK_IMPORTED_MODULE_5__.connectNodeAdapter),\n/* harmony export */   createConnectTransport: () => (/* reexport safe */ _connect_transport_js__WEBPACK_IMPORTED_MODULE_3__.createConnectTransport),\n/* harmony export */   createGrpcTransport: () => (/* reexport safe */ _grpc_transport_js__WEBPACK_IMPORTED_MODULE_2__.createGrpcTransport),\n/* harmony export */   createGrpcWebTransport: () => (/* reexport safe */ _grpc_web_transport_js__WEBPACK_IMPORTED_MODULE_1__.createGrpcWebTransport),\n/* harmony export */   createNodeHttpClient: () => (/* reexport safe */ _node_universal_client_js__WEBPACK_IMPORTED_MODULE_7__.createNodeHttpClient),\n/* harmony export */   universalRequestFromNodeRequest: () => (/* reexport safe */ _node_universal_handler_js__WEBPACK_IMPORTED_MODULE_6__.universalRequestFromNodeRequest),\n/* harmony export */   universalResponseToNodeResponse: () => (/* reexport safe */ _node_universal_handler_js__WEBPACK_IMPORTED_MODULE_6__.universalResponseToNodeResponse)\n/* harmony export */ });\n/* harmony import */ var _node_headers_polyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-headers-polyfill.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-headers-polyfill.js\");\n/* harmony import */ var _grpc_web_transport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grpc-web-transport.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-web-transport.js\");\n/* harmony import */ var _grpc_transport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grpc-transport.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/grpc-transport.js\");\n/* harmony import */ var _connect_transport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connect-transport.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-transport.js\");\n/* harmony import */ var _compression_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./compression.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/compression.js\");\n/* harmony import */ var _connect_node_adapter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./connect-node-adapter.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/connect-node-adapter.js\");\n/* harmony import */ var _node_universal_handler_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node-universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-handler.js\");\n/* harmony import */ var _node_universal_client_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node-universal-client.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-client.js\");\n/* harmony import */ var _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./http2-session-manager.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Polyfill the Headers API for Node versions < 18\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvQztBQUM2QjtBQUNQO0FBQ007QUFDTTtBQUNQO0FBQ2lEO0FBQzlDO0FBQ0QiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdC1ub2RlXFxkaXN0XFxlc21cXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyBQb2x5ZmlsbCB0aGUgSGVhZGVycyBBUEkgZm9yIE5vZGUgdmVyc2lvbnMgPCAxOFxuaW1wb3J0IFwiLi9ub2RlLWhlYWRlcnMtcG9seWZpbGwuanNcIjtcbmV4cG9ydCB7IGNyZWF0ZUdycGNXZWJUcmFuc3BvcnQgfSBmcm9tIFwiLi9ncnBjLXdlYi10cmFuc3BvcnQuanNcIjtcbmV4cG9ydCB7IGNyZWF0ZUdycGNUcmFuc3BvcnQgfSBmcm9tIFwiLi9ncnBjLXRyYW5zcG9ydC5qc1wiO1xuZXhwb3J0IHsgY3JlYXRlQ29ubmVjdFRyYW5zcG9ydCB9IGZyb20gXCIuL2Nvbm5lY3QtdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyBjb21wcmVzc2lvbkJyb3RsaSwgY29tcHJlc3Npb25HemlwIH0gZnJvbSBcIi4vY29tcHJlc3Npb24uanNcIjtcbmV4cG9ydCB7IGNvbm5lY3ROb2RlQWRhcHRlciB9IGZyb20gXCIuL2Nvbm5lY3Qtbm9kZS1hZGFwdGVyLmpzXCI7XG5leHBvcnQgeyB1bml2ZXJzYWxSZXF1ZXN0RnJvbU5vZGVSZXF1ZXN0LCB1bml2ZXJzYWxSZXNwb25zZVRvTm9kZVJlc3BvbnNlLCB9IGZyb20gXCIuL25vZGUtdW5pdmVyc2FsLWhhbmRsZXIuanNcIjtcbmV4cG9ydCB7IGNyZWF0ZU5vZGVIdHRwQ2xpZW50IH0gZnJvbSBcIi4vbm9kZS11bml2ZXJzYWwtY2xpZW50LmpzXCI7XG5leHBvcnQgeyBIdHRwMlNlc3Npb25NYW5hZ2VyIH0gZnJvbSBcIi4vaHR0cDItc2Vzc2lvbi1tYW5hZ2VyLmpzXCI7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/index.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-error.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   H2Code: () => (/* binding */ H2Code),\n/* harmony export */   connectErrorFromH2ResetCode: () => (/* binding */ connectErrorFromH2ResetCode),\n/* harmony export */   connectErrorFromNodeReason: () => (/* binding */ connectErrorFromNodeReason),\n/* harmony export */   getNodeErrorProps: () => (/* binding */ getNodeErrorProps),\n/* harmony export */   unwrapNodeErrorChain: () => (/* binding */ unwrapNodeErrorChain)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Similar to ConnectError.from(), this function turns any value into\n * a ConnectError, but special cases some Node.js specific error codes and\n * sets an appropriate Connect error code.\n */\nfunction connectErrorFromNodeReason(reason) {\n    let code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Internal;\n    const chain = unwrapNodeErrorChain(reason).map(getNodeErrorProps);\n    if (chain.some((p) => p.code == \"ERR_STREAM_WRITE_AFTER_END\")) {\n        // We do not want intentional errors from the server to be shadowed\n        // by client-side errors.\n        // This can occur if the server has written a response with an error\n        // and has ended the connection. This response may already sit in a\n        // buffer on the client, while it is still writing to the request\n        // body.\n        // To avoid this problem, we wrap ERR_STREAM_WRITE_AFTER_END as a\n        // ConnectError with Code.Aborted. The special meaning of this code\n        // in this situation is documented in StreamingConn.send() and in\n        // createServerStreamingFn().\n        code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Aborted;\n    }\n    else if (chain.some((p) => p.code == \"ERR_STREAM_DESTROYED\" ||\n        p.code == \"ERR_HTTP2_INVALID_STREAM\" ||\n        p.code == \"ECONNRESET\")) {\n        // A handler whose stream is suddenly destroyed usually means the client\n        // hung up. This behavior is triggered by the conformance test \"cancel_after_begin\".\n        code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Aborted;\n    }\n    else if (chain.some((p) => p.code == \"ETIMEDOUT\" ||\n        p.code == \"ENOTFOUND\" ||\n        p.code == \"EAI_AGAIN\" ||\n        p.code == \"ECONNREFUSED\")) {\n        // Calling an unresolvable host should raise a ConnectError with\n        // Code.Aborted.\n        // This behavior is covered by the conformance test \"unresolvable_host\".\n        code = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n    }\n    const ce = _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError.from(reason, code);\n    if (ce !== reason) {\n        ce.cause = reason;\n    }\n    return ce;\n}\n/**\n * Unwraps a chain of errors, by walking through all \"cause\" properties\n * recursively.\n * This function is useful to find the root cause of an error.\n */\nfunction unwrapNodeErrorChain(reason) {\n    const chain = [];\n    for (;;) {\n        if (!(reason instanceof Error)) {\n            break;\n        }\n        if (chain.includes(reason)) {\n            // safeguard against infinite loop when \"cause\" points to an ancestor\n            break;\n        }\n        chain.push(reason);\n        if (!(\"cause\" in reason)) {\n            break;\n        }\n        reason = reason.cause;\n    }\n    return chain;\n}\n/**\n * Returns standard Node.js error properties from the given reason, if present.\n *\n * For context: Every error raised by Node.js APIs should expose a `code`\n * property - a string that permanently identifies the error. Some errors may\n * have an additional `syscall` property - a string that identifies native\n * components, for example \"getaddrinfo\" of libuv.\n * For more information, see https://github.com/nodejs/node/blob/f6052c68c1f9a4400a723e9c0b79da14197ab754/lib/internal/errors.js\n */\nfunction getNodeErrorProps(reason) {\n    const props = {};\n    if (reason instanceof Error) {\n        if (\"code\" in reason && typeof reason.code == \"string\") {\n            props.code = reason.code;\n        }\n        if (\"syscall\" in reason && typeof reason.syscall == \"string\") {\n            props.syscall = reason.syscall;\n        }\n    }\n    return props;\n}\n/**\n * Returns a ConnectError for an HTTP/2 error code.\n */\nfunction connectErrorFromH2ResetCode(rstCode) {\n    switch (rstCode) {\n        case H2Code.PROTOCOL_ERROR:\n        case H2Code.INTERNAL_ERROR:\n        case H2Code.FLOW_CONTROL_ERROR:\n        case H2Code.SETTINGS_TIMEOUT:\n        case H2Code.FRAME_SIZE_ERROR:\n        case H2Code.COMPRESSION_ERROR:\n        case H2Code.CONNECT_ERROR:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Internal);\n        case H2Code.REFUSED_STREAM:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable);\n        case H2Code.CANCEL:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.Canceled);\n        case H2Code.ENHANCE_YOUR_CALM:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.ResourceExhausted);\n        case H2Code.INADEQUATE_SECURITY:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.PermissionDenied);\n        case H2Code.HTTP_1_1_REQUIRED:\n            return new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_0__.Code.PermissionDenied);\n        case H2Code.STREAM_CLOSED:\n        default:\n            // Intentionally not mapping STREAM_CLOSED (0x5), see https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md#errors\n            break;\n    }\n    return undefined;\n}\nvar H2Code;\n(function (H2Code) {\n    H2Code[H2Code[\"PROTOCOL_ERROR\"] = 1] = \"PROTOCOL_ERROR\";\n    H2Code[H2Code[\"INTERNAL_ERROR\"] = 2] = \"INTERNAL_ERROR\";\n    H2Code[H2Code[\"FLOW_CONTROL_ERROR\"] = 3] = \"FLOW_CONTROL_ERROR\";\n    H2Code[H2Code[\"SETTINGS_TIMEOUT\"] = 4] = \"SETTINGS_TIMEOUT\";\n    H2Code[H2Code[\"STREAM_CLOSED\"] = 5] = \"STREAM_CLOSED\";\n    H2Code[H2Code[\"FRAME_SIZE_ERROR\"] = 6] = \"FRAME_SIZE_ERROR\";\n    H2Code[H2Code[\"REFUSED_STREAM\"] = 7] = \"REFUSED_STREAM\";\n    H2Code[H2Code[\"CANCEL\"] = 8] = \"CANCEL\";\n    H2Code[H2Code[\"COMPRESSION_ERROR\"] = 9] = \"COMPRESSION_ERROR\";\n    H2Code[H2Code[\"CONNECT_ERROR\"] = 10] = \"CONNECT_ERROR\";\n    H2Code[H2Code[\"ENHANCE_YOUR_CALM\"] = 11] = \"ENHANCE_YOUR_CALM\";\n    H2Code[H2Code[\"INADEQUATE_SECURITY\"] = 12] = \"INADEQUATE_SECURITY\";\n    H2Code[H2Code[\"HTTP_1_1_REQUIRED\"] = 13] = \"HTTP_1_1_REQUIRED\";\n})(H2Code || (H2Code = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLWVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxlQUFlLHFEQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBSTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBSTtBQUNuQjtBQUNBLGVBQWUsNkRBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBWSx5Q0FBeUMsaUJBQWlCLEtBQUsscUJBQXFCLElBQUkscURBQUk7QUFDL0g7QUFDQSx1QkFBdUIsNkRBQVkseUNBQXlDLGlCQUFpQixLQUFLLHFCQUFxQixJQUFJLHFEQUFJO0FBQy9IO0FBQ0EsdUJBQXVCLDZEQUFZLHlDQUF5QyxpQkFBaUIsS0FBSyxxQkFBcUIsSUFBSSxxREFBSTtBQUMvSDtBQUNBLHVCQUF1Qiw2REFBWSx5Q0FBeUMsaUJBQWlCLEtBQUsscUJBQXFCLElBQUkscURBQUk7QUFDL0g7QUFDQSx1QkFBdUIsNkRBQVkseUNBQXlDLGlCQUFpQixLQUFLLHFCQUFxQixJQUFJLHFEQUFJO0FBQy9IO0FBQ0EsdUJBQXVCLDZEQUFZLHlDQUF5QyxpQkFBaUIsS0FBSyxxQkFBcUIsSUFBSSxxREFBSTtBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxub2RlLWVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBDb2RlLCBDb25uZWN0RXJyb3IgfSBmcm9tIFwiQGNvbm5lY3RycGMvY29ubmVjdFwiO1xuLyoqXG4gKiBTaW1pbGFyIHRvIENvbm5lY3RFcnJvci5mcm9tKCksIHRoaXMgZnVuY3Rpb24gdHVybnMgYW55IHZhbHVlIGludG9cbiAqIGEgQ29ubmVjdEVycm9yLCBidXQgc3BlY2lhbCBjYXNlcyBzb21lIE5vZGUuanMgc3BlY2lmaWMgZXJyb3IgY29kZXMgYW5kXG4gKiBzZXRzIGFuIGFwcHJvcHJpYXRlIENvbm5lY3QgZXJyb3IgY29kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uKHJlYXNvbikge1xuICAgIGxldCBjb2RlID0gQ29kZS5JbnRlcm5hbDtcbiAgICBjb25zdCBjaGFpbiA9IHVud3JhcE5vZGVFcnJvckNoYWluKHJlYXNvbikubWFwKGdldE5vZGVFcnJvclByb3BzKTtcbiAgICBpZiAoY2hhaW4uc29tZSgocCkgPT4gcC5jb2RlID09IFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIikpIHtcbiAgICAgICAgLy8gV2UgZG8gbm90IHdhbnQgaW50ZW50aW9uYWwgZXJyb3JzIGZyb20gdGhlIHNlcnZlciB0byBiZSBzaGFkb3dlZFxuICAgICAgICAvLyBieSBjbGllbnQtc2lkZSBlcnJvcnMuXG4gICAgICAgIC8vIFRoaXMgY2FuIG9jY3VyIGlmIHRoZSBzZXJ2ZXIgaGFzIHdyaXR0ZW4gYSByZXNwb25zZSB3aXRoIGFuIGVycm9yXG4gICAgICAgIC8vIGFuZCBoYXMgZW5kZWQgdGhlIGNvbm5lY3Rpb24uIFRoaXMgcmVzcG9uc2UgbWF5IGFscmVhZHkgc2l0IGluIGFcbiAgICAgICAgLy8gYnVmZmVyIG9uIHRoZSBjbGllbnQsIHdoaWxlIGl0IGlzIHN0aWxsIHdyaXRpbmcgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgLy8gYm9keS5cbiAgICAgICAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSB3cmFwIEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EIGFzIGFcbiAgICAgICAgLy8gQ29ubmVjdEVycm9yIHdpdGggQ29kZS5BYm9ydGVkLiBUaGUgc3BlY2lhbCBtZWFuaW5nIG9mIHRoaXMgY29kZVxuICAgICAgICAvLyBpbiB0aGlzIHNpdHVhdGlvbiBpcyBkb2N1bWVudGVkIGluIFN0cmVhbWluZ0Nvbm4uc2VuZCgpIGFuZCBpblxuICAgICAgICAvLyBjcmVhdGVTZXJ2ZXJTdHJlYW1pbmdGbigpLlxuICAgICAgICBjb2RlID0gQ29kZS5BYm9ydGVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFpbi5zb21lKChwKSA9PiBwLmNvZGUgPT0gXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiIHx8XG4gICAgICAgIHAuY29kZSA9PSBcIkVSUl9IVFRQMl9JTlZBTElEX1NUUkVBTVwiIHx8XG4gICAgICAgIHAuY29kZSA9PSBcIkVDT05OUkVTRVRcIikpIHtcbiAgICAgICAgLy8gQSBoYW5kbGVyIHdob3NlIHN0cmVhbSBpcyBzdWRkZW5seSBkZXN0cm95ZWQgdXN1YWxseSBtZWFucyB0aGUgY2xpZW50XG4gICAgICAgIC8vIGh1bmcgdXAuIFRoaXMgYmVoYXZpb3IgaXMgdHJpZ2dlcmVkIGJ5IHRoZSBjb25mb3JtYW5jZSB0ZXN0IFwiY2FuY2VsX2FmdGVyX2JlZ2luXCIuXG4gICAgICAgIGNvZGUgPSBDb2RlLkFib3J0ZWQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYWluLnNvbWUoKHApID0+IHAuY29kZSA9PSBcIkVUSU1FRE9VVFwiIHx8XG4gICAgICAgIHAuY29kZSA9PSBcIkVOT1RGT1VORFwiIHx8XG4gICAgICAgIHAuY29kZSA9PSBcIkVBSV9BR0FJTlwiIHx8XG4gICAgICAgIHAuY29kZSA9PSBcIkVDT05OUkVGVVNFRFwiKSkge1xuICAgICAgICAvLyBDYWxsaW5nIGFuIHVucmVzb2x2YWJsZSBob3N0IHNob3VsZCByYWlzZSBhIENvbm5lY3RFcnJvciB3aXRoXG4gICAgICAgIC8vIENvZGUuQWJvcnRlZC5cbiAgICAgICAgLy8gVGhpcyBiZWhhdmlvciBpcyBjb3ZlcmVkIGJ5IHRoZSBjb25mb3JtYW5jZSB0ZXN0IFwidW5yZXNvbHZhYmxlX2hvc3RcIi5cbiAgICAgICAgY29kZSA9IENvZGUuVW5hdmFpbGFibGU7XG4gICAgfVxuICAgIGNvbnN0IGNlID0gQ29ubmVjdEVycm9yLmZyb20ocmVhc29uLCBjb2RlKTtcbiAgICBpZiAoY2UgIT09IHJlYXNvbikge1xuICAgICAgICBjZS5jYXVzZSA9IHJlYXNvbjtcbiAgICB9XG4gICAgcmV0dXJuIGNlO1xufVxuLyoqXG4gKiBVbndyYXBzIGEgY2hhaW4gb2YgZXJyb3JzLCBieSB3YWxraW5nIHRocm91Z2ggYWxsIFwiY2F1c2VcIiBwcm9wZXJ0aWVzXG4gKiByZWN1cnNpdmVseS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZnVsIHRvIGZpbmQgdGhlIHJvb3QgY2F1c2Ugb2YgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBOb2RlRXJyb3JDaGFpbihyZWFzb24pIHtcbiAgICBjb25zdCBjaGFpbiA9IFtdO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKCEocmVhc29uIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhaW4uaW5jbHVkZXMocmVhc29uKSkge1xuICAgICAgICAgICAgLy8gc2FmZWd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcCB3aGVuIFwiY2F1c2VcIiBwb2ludHMgdG8gYW4gYW5jZXN0b3JcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoYWluLnB1c2gocmVhc29uKTtcbiAgICAgICAgaWYgKCEoXCJjYXVzZVwiIGluIHJlYXNvbikpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJlYXNvbiA9IHJlYXNvbi5jYXVzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYWluO1xufVxuLyoqXG4gKiBSZXR1cm5zIHN0YW5kYXJkIE5vZGUuanMgZXJyb3IgcHJvcGVydGllcyBmcm9tIHRoZSBnaXZlbiByZWFzb24sIGlmIHByZXNlbnQuXG4gKlxuICogRm9yIGNvbnRleHQ6IEV2ZXJ5IGVycm9yIHJhaXNlZCBieSBOb2RlLmpzIEFQSXMgc2hvdWxkIGV4cG9zZSBhIGBjb2RlYFxuICogcHJvcGVydHkgLSBhIHN0cmluZyB0aGF0IHBlcm1hbmVudGx5IGlkZW50aWZpZXMgdGhlIGVycm9yLiBTb21lIGVycm9ycyBtYXlcbiAqIGhhdmUgYW4gYWRkaXRpb25hbCBgc3lzY2FsbGAgcHJvcGVydHkgLSBhIHN0cmluZyB0aGF0IGlkZW50aWZpZXMgbmF0aXZlXG4gKiBjb21wb25lbnRzLCBmb3IgZXhhbXBsZSBcImdldGFkZHJpbmZvXCIgb2YgbGlidXYuXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL2Y2MDUyYzY4YzFmOWE0NDAwYTcyM2U5YzBiNzlkYTE0MTk3YWI3NTQvbGliL2ludGVybmFsL2Vycm9ycy5qc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZUVycm9yUHJvcHMocmVhc29uKSB7XG4gICAgY29uc3QgcHJvcHMgPSB7fTtcbiAgICBpZiAocmVhc29uIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKFwiY29kZVwiIGluIHJlYXNvbiAmJiB0eXBlb2YgcmVhc29uLmNvZGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcHJvcHMuY29kZSA9IHJlYXNvbi5jb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInN5c2NhbGxcIiBpbiByZWFzb24gJiYgdHlwZW9mIHJlYXNvbi5zeXNjYWxsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHByb3BzLnN5c2NhbGwgPSByZWFzb24uc3lzY2FsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHM7XG59XG4vKipcbiAqIFJldHVybnMgYSBDb25uZWN0RXJyb3IgZm9yIGFuIEhUVFAvMiBlcnJvciBjb2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdEVycm9yRnJvbUgyUmVzZXRDb2RlKHJzdENvZGUpIHtcbiAgICBzd2l0Y2ggKHJzdENvZGUpIHtcbiAgICAgICAgY2FzZSBIMkNvZGUuUFJPVE9DT0xfRVJST1I6XG4gICAgICAgIGNhc2UgSDJDb2RlLklOVEVSTkFMX0VSUk9SOlxuICAgICAgICBjYXNlIEgyQ29kZS5GTE9XX0NPTlRST0xfRVJST1I6XG4gICAgICAgIGNhc2UgSDJDb2RlLlNFVFRJTkdTX1RJTUVPVVQ6XG4gICAgICAgIGNhc2UgSDJDb2RlLkZSQU1FX1NJWkVfRVJST1I6XG4gICAgICAgIGNhc2UgSDJDb2RlLkNPTVBSRVNTSU9OX0VSUk9SOlxuICAgICAgICBjYXNlIEgyQ29kZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0RXJyb3IoYGh0dHAvMiBzdHJlYW0gY2xvc2VkIHdpdGggZXJyb3IgY29kZSAke0gyQ29kZVtyc3RDb2RlXX0gKDB4JHtyc3RDb2RlLnRvU3RyaW5nKDE2KX0pYCwgQ29kZS5JbnRlcm5hbCk7XG4gICAgICAgIGNhc2UgSDJDb2RlLlJFRlVTRURfU1RSRUFNOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0RXJyb3IoYGh0dHAvMiBzdHJlYW0gY2xvc2VkIHdpdGggZXJyb3IgY29kZSAke0gyQ29kZVtyc3RDb2RlXX0gKDB4JHtyc3RDb2RlLnRvU3RyaW5nKDE2KX0pYCwgQ29kZS5VbmF2YWlsYWJsZSk7XG4gICAgICAgIGNhc2UgSDJDb2RlLkNBTkNFTDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdEVycm9yKGBodHRwLzIgc3RyZWFtIGNsb3NlZCB3aXRoIGVycm9yIGNvZGUgJHtIMkNvZGVbcnN0Q29kZV19ICgweCR7cnN0Q29kZS50b1N0cmluZygxNil9KWAsIENvZGUuQ2FuY2VsZWQpO1xuICAgICAgICBjYXNlIEgyQ29kZS5FTkhBTkNFX1lPVVJfQ0FMTTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdEVycm9yKGBodHRwLzIgc3RyZWFtIGNsb3NlZCB3aXRoIGVycm9yIGNvZGUgJHtIMkNvZGVbcnN0Q29kZV19ICgweCR7cnN0Q29kZS50b1N0cmluZygxNil9KWAsIENvZGUuUmVzb3VyY2VFeGhhdXN0ZWQpO1xuICAgICAgICBjYXNlIEgyQ29kZS5JTkFERVFVQVRFX1NFQ1VSSVRZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0RXJyb3IoYGh0dHAvMiBzdHJlYW0gY2xvc2VkIHdpdGggZXJyb3IgY29kZSAke0gyQ29kZVtyc3RDb2RlXX0gKDB4JHtyc3RDb2RlLnRvU3RyaW5nKDE2KX0pYCwgQ29kZS5QZXJtaXNzaW9uRGVuaWVkKTtcbiAgICAgICAgY2FzZSBIMkNvZGUuSFRUUF8xXzFfUkVRVUlSRUQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbm5lY3RFcnJvcihgaHR0cC8yIHN0cmVhbSBjbG9zZWQgd2l0aCBlcnJvciBjb2RlICR7SDJDb2RlW3JzdENvZGVdfSAoMHgke3JzdENvZGUudG9TdHJpbmcoMTYpfSlgLCBDb2RlLlBlcm1pc3Npb25EZW5pZWQpO1xuICAgICAgICBjYXNlIEgyQ29kZS5TVFJFQU1fQ0xPU0VEOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBub3QgbWFwcGluZyBTVFJFQU1fQ0xPU0VEICgweDUpLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9kb2MvUFJPVE9DT0wtSFRUUDIubWQjZXJyb3JzXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCB2YXIgSDJDb2RlO1xuKGZ1bmN0aW9uIChIMkNvZGUpIHtcbiAgICBIMkNvZGVbSDJDb2RlW1wiUFJPVE9DT0xfRVJST1JcIl0gPSAxXSA9IFwiUFJPVE9DT0xfRVJST1JcIjtcbiAgICBIMkNvZGVbSDJDb2RlW1wiSU5URVJOQUxfRVJST1JcIl0gPSAyXSA9IFwiSU5URVJOQUxfRVJST1JcIjtcbiAgICBIMkNvZGVbSDJDb2RlW1wiRkxPV19DT05UUk9MX0VSUk9SXCJdID0gM10gPSBcIkZMT1dfQ09OVFJPTF9FUlJPUlwiO1xuICAgIEgyQ29kZVtIMkNvZGVbXCJTRVRUSU5HU19USU1FT1VUXCJdID0gNF0gPSBcIlNFVFRJTkdTX1RJTUVPVVRcIjtcbiAgICBIMkNvZGVbSDJDb2RlW1wiU1RSRUFNX0NMT1NFRFwiXSA9IDVdID0gXCJTVFJFQU1fQ0xPU0VEXCI7XG4gICAgSDJDb2RlW0gyQ29kZVtcIkZSQU1FX1NJWkVfRVJST1JcIl0gPSA2XSA9IFwiRlJBTUVfU0laRV9FUlJPUlwiO1xuICAgIEgyQ29kZVtIMkNvZGVbXCJSRUZVU0VEX1NUUkVBTVwiXSA9IDddID0gXCJSRUZVU0VEX1NUUkVBTVwiO1xuICAgIEgyQ29kZVtIMkNvZGVbXCJDQU5DRUxcIl0gPSA4XSA9IFwiQ0FOQ0VMXCI7XG4gICAgSDJDb2RlW0gyQ29kZVtcIkNPTVBSRVNTSU9OX0VSUk9SXCJdID0gOV0gPSBcIkNPTVBSRVNTSU9OX0VSUk9SXCI7XG4gICAgSDJDb2RlW0gyQ29kZVtcIkNPTk5FQ1RfRVJST1JcIl0gPSAxMF0gPSBcIkNPTk5FQ1RfRVJST1JcIjtcbiAgICBIMkNvZGVbSDJDb2RlW1wiRU5IQU5DRV9ZT1VSX0NBTE1cIl0gPSAxMV0gPSBcIkVOSEFOQ0VfWU9VUl9DQUxNXCI7XG4gICAgSDJDb2RlW0gyQ29kZVtcIklOQURFUVVBVEVfU0VDVVJJVFlcIl0gPSAxMl0gPSBcIklOQURFUVVBVEVfU0VDVVJJVFlcIjtcbiAgICBIMkNvZGVbSDJDb2RlW1wiSFRUUF8xXzFfUkVRVUlSRURcIl0gPSAxM10gPSBcIkhUVFBfMV8xX1JFUVVJUkVEXCI7XG59KShIMkNvZGUgfHwgKEgyQ29kZSA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-headers-polyfill.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-headers-polyfill.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var undici__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! undici */ \"(middleware)/./node_modules/undici/index.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// The global Headers class was introduced in Node v16.15.0, behind the\n// --experimental-fetch flag. It became available by default with Node\n// v18.0.0.\n// If this code runs in Node < 18, it installs an alternative\n// implementation if one has not already been polyfilled.\nconst [major] = process.versions.node\n    .split(\".\")\n    .map((value) => parseInt(value, 10));\nif (major < 18) {\n    if (typeof globalThis.Headers === \"undefined\") {\n        globalThis.Headers = undici__WEBPACK_IMPORTED_MODULE_0__.Headers;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLWhlYWRlcnMtcG9seWZpbGwuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyQ0FBZTtBQUM1QztBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxub2RlLWhlYWRlcnMtcG9seWZpbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IEhlYWRlcnMgYXMgSGVhZGVyc1BvbHlmaWxsIH0gZnJvbSBcInVuZGljaVwiO1xuLy8gVGhlIGdsb2JhbCBIZWFkZXJzIGNsYXNzIHdhcyBpbnRyb2R1Y2VkIGluIE5vZGUgdjE2LjE1LjAsIGJlaGluZCB0aGVcbi8vIC0tZXhwZXJpbWVudGFsLWZldGNoIGZsYWcuIEl0IGJlY2FtZSBhdmFpbGFibGUgYnkgZGVmYXVsdCB3aXRoIE5vZGVcbi8vIHYxOC4wLjAuXG4vLyBJZiB0aGlzIGNvZGUgcnVucyBpbiBOb2RlIDwgMTgsIGl0IGluc3RhbGxzIGFuIGFsdGVybmF0aXZlXG4vLyBpbXBsZW1lbnRhdGlvbiBpZiBvbmUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcG9seWZpbGxlZC5cbmNvbnN0IFttYWpvcl0gPSBwcm9jZXNzLnZlcnNpb25zLm5vZGVcbiAgICAuc3BsaXQoXCIuXCIpXG4gICAgLm1hcCgodmFsdWUpID0+IHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuaWYgKG1ham9yIDwgMTgpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuSGVhZGVycyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBnbG9iYWxUaGlzLkhlYWRlcnMgPSBIZWFkZXJzUG9seWZpbGw7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-headers-polyfill.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateNodeTransportOptions: () => (/* binding */ validateNodeTransportOptions)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @connectrpc/connect/protocol */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js\");\n/* harmony import */ var _compression_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compression.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/compression.js\");\n/* harmony import */ var _node_universal_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node-universal-client.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-client.js\");\n/* harmony import */ var _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http2-session-manager.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js\");\n/* harmony import */ var http2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! http2 */ \"http2\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! https */ \"https\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n/**\n * Asserts that the options are within sane limits, and returns default values\n * where no value is provided.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateNodeTransportOptions(options) {\n    var _a, _b, _c, _d;\n    let httpClient;\n    if (options.httpVersion == \"2\") {\n        let sessionManager;\n        if (options.sessionManager) {\n            sessionManager = options.sessionManager;\n        }\n        else {\n            sessionManager = new _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_2__.Http2SessionManager(options.baseUrl, {\n                pingIntervalMs: options.pingIntervalMs,\n                pingIdleConnection: options.pingIdleConnection,\n                pingTimeoutMs: options.pingTimeoutMs,\n                idleConnectionTimeoutMs: options.idleConnectionTimeoutMs,\n            }, options.nodeOptions);\n        }\n        httpClient = (0,_node_universal_client_js__WEBPACK_IMPORTED_MODULE_1__.createNodeHttpClient)({\n            httpVersion: \"2\",\n            sessionProvider: () => sessionManager,\n        });\n    }\n    else {\n        httpClient = (0,_node_universal_client_js__WEBPACK_IMPORTED_MODULE_1__.createNodeHttpClient)({\n            httpVersion: \"1.1\",\n            nodeOptions: options.nodeOptions,\n        });\n    }\n    return Object.assign(Object.assign(Object.assign({}, options), { httpClient, useBinaryFormat: (_a = options.useBinaryFormat) !== null && _a !== void 0 ? _a : true, interceptors: (_b = options.interceptors) !== null && _b !== void 0 ? _b : [], sendCompression: (_c = options.sendCompression) !== null && _c !== void 0 ? _c : null, acceptCompression: (_d = options.acceptCompression) !== null && _d !== void 0 ? _d : [\n            _compression_js__WEBPACK_IMPORTED_MODULE_0__.compressionGzip,\n            _compression_js__WEBPACK_IMPORTED_MODULE_0__.compressionBrotli,\n        ] }), (0,_connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_6__.validateReadWriteMaxBytes)(options.readMaxBytes, options.writeMaxBytes, options.compressMinBytes));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLXRyYW5zcG9ydC1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUU7QUFDSDtBQUNKO0FBQ0Q7QUFDbEM7QUFDRjtBQUNFO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwRUFBbUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsK0VBQW9CO0FBQ3pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFCQUFxQiwrRUFBb0I7QUFDekM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFLFlBQVksNERBQWU7QUFDM0IsWUFBWSw4REFBaUI7QUFDN0IsV0FBVyxHQUFHLHVGQUF5QjtBQUN2QyIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0LW5vZGVcXGRpc3RcXGVzbVxcbm9kZS10cmFuc3BvcnQtb3B0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgdmFsaWRhdGVSZWFkV3JpdGVNYXhCeXRlcyB9IGZyb20gXCJAY29ubmVjdHJwYy9jb25uZWN0L3Byb3RvY29sXCI7XG5pbXBvcnQgeyBjb21wcmVzc2lvbkJyb3RsaSwgY29tcHJlc3Npb25HemlwIH0gZnJvbSBcIi4vY29tcHJlc3Npb24uanNcIjtcbmltcG9ydCB7IGNyZWF0ZU5vZGVIdHRwQ2xpZW50IH0gZnJvbSBcIi4vbm9kZS11bml2ZXJzYWwtY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBIdHRwMlNlc3Npb25NYW5hZ2VyIH0gZnJvbSBcIi4vaHR0cDItc2Vzc2lvbi1tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgKiBhcyBodHRwMiBmcm9tIFwiaHR0cDJcIjtcbmltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCAqIGFzIGh0dHBzIGZyb20gXCJodHRwc1wiO1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIG9wdGlvbnMgYXJlIHdpdGhpbiBzYW5lIGxpbWl0cywgYW5kIHJldHVybnMgZGVmYXVsdCB2YWx1ZXNcbiAqIHdoZXJlIG5vIHZhbHVlIGlzIHByb3ZpZGVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOb2RlVHJhbnNwb3J0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGxldCBodHRwQ2xpZW50O1xuICAgIGlmIChvcHRpb25zLmh0dHBWZXJzaW9uID09IFwiMlwiKSB7XG4gICAgICAgIGxldCBzZXNzaW9uTWFuYWdlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2Vzc2lvbk1hbmFnZXIpIHtcbiAgICAgICAgICAgIHNlc3Npb25NYW5hZ2VyID0gb3B0aW9ucy5zZXNzaW9uTWFuYWdlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlc3Npb25NYW5hZ2VyID0gbmV3IEh0dHAyU2Vzc2lvbk1hbmFnZXIob3B0aW9ucy5iYXNlVXJsLCB7XG4gICAgICAgICAgICAgICAgcGluZ0ludGVydmFsTXM6IG9wdGlvbnMucGluZ0ludGVydmFsTXMsXG4gICAgICAgICAgICAgICAgcGluZ0lkbGVDb25uZWN0aW9uOiBvcHRpb25zLnBpbmdJZGxlQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICBwaW5nVGltZW91dE1zOiBvcHRpb25zLnBpbmdUaW1lb3V0TXMsXG4gICAgICAgICAgICAgICAgaWRsZUNvbm5lY3Rpb25UaW1lb3V0TXM6IG9wdGlvbnMuaWRsZUNvbm5lY3Rpb25UaW1lb3V0TXMsXG4gICAgICAgICAgICB9LCBvcHRpb25zLm5vZGVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBodHRwQ2xpZW50ID0gY3JlYXRlTm9kZUh0dHBDbGllbnQoe1xuICAgICAgICAgICAgaHR0cFZlcnNpb246IFwiMlwiLFxuICAgICAgICAgICAgc2Vzc2lvblByb3ZpZGVyOiAoKSA9PiBzZXNzaW9uTWFuYWdlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBodHRwQ2xpZW50ID0gY3JlYXRlTm9kZUh0dHBDbGllbnQoe1xuICAgICAgICAgICAgaHR0cFZlcnNpb246IFwiMS4xXCIsXG4gICAgICAgICAgICBub2RlT3B0aW9uczogb3B0aW9ucy5ub2RlT3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgaHR0cENsaWVudCwgdXNlQmluYXJ5Rm9ybWF0OiAoX2EgPSBvcHRpb25zLnVzZUJpbmFyeUZvcm1hdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSwgaW50ZXJjZXB0b3JzOiAoX2IgPSBvcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sIHNlbmRDb21wcmVzc2lvbjogKF9jID0gb3B0aW9ucy5zZW5kQ29tcHJlc3Npb24pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsIGFjY2VwdENvbXByZXNzaW9uOiAoX2QgPSBvcHRpb25zLmFjY2VwdENvbXByZXNzaW9uKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbXG4gICAgICAgICAgICBjb21wcmVzc2lvbkd6aXAsXG4gICAgICAgICAgICBjb21wcmVzc2lvbkJyb3RsaSxcbiAgICAgICAgXSB9KSwgdmFsaWRhdGVSZWFkV3JpdGVNYXhCeXRlcyhvcHRpb25zLnJlYWRNYXhCeXRlcywgb3B0aW9ucy53cml0ZU1heEJ5dGVzLCBvcHRpb25zLmNvbXByZXNzTWluQnl0ZXMpKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-transport-options.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-client.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-universal-client.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNodeHttpClient: () => (/* binding */ createNodeHttpClient)\n/* harmony export */ });\n/* harmony import */ var http2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http2 */ \"http2\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node-universal-header.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-header.js\");\n/* harmony import */ var _node_error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node-error.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js\");\n/* harmony import */ var _connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @connectrpc/connect/protocol */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js\");\n/* harmony import */ var _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http2-session-manager.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/http2-session-manager.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n/**\n * Create a universal client function, a minimal abstraction of an HTTP client,\n * using the Node.js `http`, `https`, or `http2` module.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createNodeHttpClient(options) {\n    var _a;\n    if (options.httpVersion == \"1.1\") {\n        return createNodeHttp1Client(options.nodeOptions);\n    }\n    const sessionProvider = (_a = options.sessionProvider) !== null && _a !== void 0 ? _a : ((url) => new _http2_session_manager_js__WEBPACK_IMPORTED_MODULE_5__.Http2SessionManager(url));\n    return createNodeHttp2Client(sessionProvider);\n}\n/**\n * Create an HTTP client using the Node.js `http` or `https` package.\n *\n * The HTTP client is a simple function conforming to the type UniversalClientFn.\n * It takes an UniversalClientRequest as an argument, and returns a promise for\n * an UniversalClientResponse.\n */\nfunction createNodeHttp1Client(httpOptions) {\n    return async function request(req) {\n        const sentinel = createSentinel(req.signal);\n        return new Promise((resolve, reject) => {\n            sentinel.catch((e) => {\n                reject(e);\n            });\n            h1Request(sentinel, req.url, Object.assign(Object.assign({}, httpOptions), { headers: (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.webHeaderToNodeHeaders)(req.header, httpOptions === null || httpOptions === void 0 ? void 0 : httpOptions.headers), method: req.method }), (request) => {\n                void sinkRequest(req, request, sentinel);\n                request.on(\"response\", (response) => {\n                    var _a;\n                    response.on(\"error\", sentinel.reject);\n                    sentinel.catch((reason) => response.destroy((0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.connectErrorFromNodeReason)(reason)));\n                    const trailer = new Headers();\n                    resolve({\n                        status: (_a = response.statusCode) !== null && _a !== void 0 ? _a : 0,\n                        header: (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.nodeHeaderToWebHeader)(response.headers),\n                        body: h1ResponseIterable(sentinel, response, trailer),\n                        trailer,\n                    });\n                });\n            });\n        });\n    };\n}\n/**\n * Create an HTTP client using the Node.js `http2` package.\n *\n * The HTTP client is a simple function conforming to the type UniversalClientFn.\n * It takes an UniversalClientRequest as an argument, and returns a promise for\n * an UniversalClientResponse.\n */\nfunction createNodeHttp2Client(sessionProvider) {\n    return function request(req) {\n        const sentinel = createSentinel(req.signal);\n        const sessionManager = sessionProvider(req.url);\n        return new Promise((resolve, reject) => {\n            sentinel.catch((e) => {\n                reject(e);\n            });\n            h2Request(sentinel, sessionManager, req.url, req.method, (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.webHeaderToNodeHeaders)(req.header), {}, (stream) => {\n                void sinkRequest(req, stream, sentinel);\n                stream.on(\"response\", (headers) => {\n                    var _a;\n                    const response = {\n                        status: (_a = headers[\":status\"]) !== null && _a !== void 0 ? _a : 0,\n                        header: (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.nodeHeaderToWebHeader)(headers),\n                        body: h2ResponseIterable(sentinel, stream, sessionManager),\n                        trailer: h2ResponseTrailer(stream),\n                    };\n                    resolve(response);\n                });\n            });\n        });\n    };\n}\nfunction h1Request(sentinel, url, options, onRequest) {\n    let request;\n    if (new URL(url).protocol.startsWith(\"https\")) {\n        request = https__WEBPACK_IMPORTED_MODULE_2__.request(url, options);\n    }\n    else {\n        request = http__WEBPACK_IMPORTED_MODULE_1__.request(url, options);\n    }\n    sentinel.catch((reason) => request.destroy((0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.connectErrorFromNodeReason)(reason)));\n    // Node.js will only send headers with the first request body byte by default.\n    // We force it to send headers right away for consistent behavior between\n    // HTTP/1.1 and HTTP/2.2 clients.\n    request.flushHeaders();\n    request.on(\"error\", sentinel.reject);\n    request.on(\"socket\", function onRequestSocket(socket) {\n        function onSocketConnect() {\n            socket.off(\"connect\", onSocketConnect);\n            onRequest(request);\n        }\n        // If readyState is open, then socket is already open due to keepAlive, so\n        // the 'connect' event will never fire so call onRequest explicitly\n        if (socket.readyState === \"open\") {\n            onRequest(request);\n        }\n        else {\n            socket.on(\"connect\", onSocketConnect);\n        }\n    });\n}\nfunction h1ResponseIterable(sentinel, response, trailer) {\n    const inner = response[Symbol.asyncIterator]();\n    return {\n        [Symbol.asyncIterator]() {\n            return {\n                async next() {\n                    const r = await sentinel.race(inner.next());\n                    if (r.done === true) {\n                        (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.nodeHeaderToWebHeader)(response.trailers).forEach((value, key) => {\n                            trailer.set(key, value);\n                        });\n                        sentinel.resolve();\n                        await sentinel;\n                    }\n                    return r;\n                },\n                throw(e) {\n                    sentinel.reject(e);\n                    throw e;\n                },\n            };\n        },\n    };\n}\nfunction h2Request(sentinel, sm, url, method, headers, options, onStream) {\n    const requestUrl = new URL(url);\n    if (requestUrl.origin !== sm.authority) {\n        const message = `cannot make a request to ${requestUrl.origin}: the http2 session is connected to ${sm.authority}`;\n        sentinel.reject(new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_6__.ConnectError(message, _connectrpc_connect__WEBPACK_IMPORTED_MODULE_7__.Code.Internal));\n        return;\n    }\n    sm.request(method, requestUrl.pathname + requestUrl.search, headers, {}).then((stream) => {\n        sentinel.catch((reason) => {\n            if (stream.closed) {\n                return;\n            }\n            // Node.js http2 streams that are aborted via an AbortSignal close with\n            // an RST_STREAM with code INTERNAL_ERROR.\n            // To comply with the mapping between gRPC and HTTP/2 codes, we need to\n            // close with code CANCEL.\n            // See https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md#errors\n            // See https://www.rfc-editor.org/rfc/rfc7540#section-7\n            const rstCode = reason instanceof _connectrpc_connect__WEBPACK_IMPORTED_MODULE_6__.ConnectError && reason.code == _connectrpc_connect__WEBPACK_IMPORTED_MODULE_7__.Code.Canceled\n                ? _node_error_js__WEBPACK_IMPORTED_MODULE_4__.H2Code.CANCEL\n                : _node_error_js__WEBPACK_IMPORTED_MODULE_4__.H2Code.INTERNAL_ERROR;\n            return new Promise((resolve) => stream.close(rstCode, resolve));\n        });\n        stream.on(\"error\", function h2StreamError(e) {\n            if (stream.writableEnded &&\n                (0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.unwrapNodeErrorChain)(e)\n                    .map(_node_error_js__WEBPACK_IMPORTED_MODULE_4__.getNodeErrorProps)\n                    .some((p) => p.code == \"ERR_STREAM_WRITE_AFTER_END\")) {\n                return;\n            }\n            sentinel.reject(e);\n        });\n        stream.on(\"close\", function h2StreamClose() {\n            const err = (0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.connectErrorFromH2ResetCode)(stream.rstCode);\n            if (err) {\n                sentinel.reject(err);\n            }\n        });\n        onStream(stream);\n    }, (reason) => {\n        sentinel.reject(reason);\n    });\n}\nfunction h2ResponseTrailer(response) {\n    const trailer = new Headers();\n    response.on(\"trailers\", (args) => {\n        (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_3__.nodeHeaderToWebHeader)(args).forEach((value, key) => {\n            trailer.set(key, value);\n        });\n    });\n    return trailer;\n}\nfunction h2ResponseIterable(sentinel, response, sm) {\n    const inner = response[Symbol.asyncIterator]();\n    return {\n        [Symbol.asyncIterator]() {\n            return {\n                async next() {\n                    const r = await sentinel.race(inner.next());\n                    if (r.done === true) {\n                        sentinel.resolve();\n                        await sentinel;\n                    }\n                    sm === null || sm === void 0 ? void 0 : sm.notifyResponseByteRead(response);\n                    return r;\n                },\n                throw(e) {\n                    sentinel.reject(e);\n                    throw e;\n                },\n            };\n        },\n    };\n}\nasync function sinkRequest(request, nodeRequest, sentinel) {\n    if (request.body === undefined) {\n        await new Promise((resolve) => nodeRequest.end(resolve));\n        return;\n    }\n    const it = request.body[Symbol.asyncIterator]();\n    return new Promise((resolve) => {\n        writeNext();\n        function writeNext() {\n            if (sentinel.isRejected()) {\n                return;\n            }\n            it.next().then((r) => {\n                if (r.done === true) {\n                    nodeRequest.end(resolve);\n                    return;\n                }\n                nodeRequest.write(r.value, \"binary\", function (e) {\n                    if (e === null || e === undefined) {\n                        writeNext();\n                        return;\n                    }\n                    if (it.throw !== undefined) {\n                        it.throw((0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.connectErrorFromNodeReason)(e)).catch(() => {\n                            //\n                        });\n                    }\n                    // If the server responds and closes the connection before the client has written the entire response\n                    // body, we get an ERR_STREAM_WRITE_AFTER_END error code from Node.js here.\n                    // We do want to notify the iterable of the error condition, but we do not want to reject our sentinel,\n                    // because that would also affect the reading side.\n                    if (nodeRequest.writableEnded &&\n                        (0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.unwrapNodeErrorChain)(e)\n                            .map(_node_error_js__WEBPACK_IMPORTED_MODULE_4__.getNodeErrorProps)\n                            .some((p) => p.code == \"ERR_STREAM_WRITE_AFTER_END\")) {\n                        return;\n                    }\n                    sentinel.reject(e);\n                });\n            }, (e) => {\n                sentinel.reject(e);\n            });\n        }\n    });\n}\nfunction createSentinel(signal) {\n    let res;\n    let rej;\n    let resolved = false;\n    let rejected = false;\n    const p = new Promise((resolve, reject) => {\n        res = resolve;\n        rej = reject;\n    });\n    const c = {\n        resolve() {\n            if (!resolved && !rejected) {\n                resolved = true;\n                res === null || res === void 0 ? void 0 : res();\n            }\n        },\n        isResolved() {\n            return resolved;\n        },\n        reject(reason) {\n            if (!resolved && !rejected) {\n                rejected = true;\n                rej === null || rej === void 0 ? void 0 : rej((0,_node_error_js__WEBPACK_IMPORTED_MODULE_4__.connectErrorFromNodeReason)(reason));\n            }\n        },\n        isRejected() {\n            return rejected;\n        },\n        async race(promise) {\n            const r = await Promise.race([promise, p]);\n            if (r === undefined && resolved) {\n                throw new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_6__.ConnectError(\"sentinel completed early\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_7__.Code.Internal);\n            }\n            return r;\n        },\n    };\n    const s = Object.assign(p, c);\n    function onSignalAbort() {\n        c.reject((0,_connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_8__.getAbortSignalReason)(this));\n    }\n    if (signal) {\n        if (signal.aborted) {\n            c.reject((0,_connectrpc_connect_protocol__WEBPACK_IMPORTED_MODULE_8__.getAbortSignalReason)(signal));\n        }\n        else {\n            signal.addEventListener(\"abort\", onSignalAbort);\n        }\n        p.finally(() => signal.removeEventListener(\"abort\", onSignalAbort)).catch(() => {\n            // We intentionally swallow sentinel rejection - errors must\n            // propagate through the request or response iterables.\n        });\n    }\n    return s;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLXVuaXZlcnNhbC1jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0Y7QUFDRTtBQUMwQjtBQUNtQztBQUNnRDtBQUN4RTtBQUNIO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEcsMEVBQW1CO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix1RUFBdUUsa0JBQWtCLFNBQVMsaUZBQXNCLGlIQUFpSDtBQUN6TztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSwwRUFBMEI7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdGQUFxQjtBQUNyRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHFFQUFxRSxpRkFBc0IsZ0JBQWdCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0ZBQXFCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQ0FBYTtBQUMvQjtBQUNBO0FBQ0Esa0JBQWtCLHlDQUFZO0FBQzlCO0FBQ0EsK0NBQStDLDBFQUEwQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdGQUFxQjtBQUM3QztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0Isc0NBQXNDLGFBQWE7QUFDekgsNEJBQTRCLDZEQUFZLFVBQVUscURBQUk7QUFDdEQ7QUFDQTtBQUNBLDJFQUEyRTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyw2REFBWSxtQkFBbUIscURBQUk7QUFDakYsa0JBQWtCLGtEQUFNO0FBQ3hCLGtCQUFrQixrREFBTTtBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFvQjtBQUNwQyx5QkFBeUIsNkRBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0JBQXdCLDJFQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdGQUFxQjtBQUM3QjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwRUFBMEI7QUFDM0Q7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9FQUFvQjtBQUM1QyxpQ0FBaUMsNkRBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOERBQThELDBFQUEwQjtBQUN4RjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2REFBWSw2QkFBNkIscURBQUk7QUFDdkU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0ZBQW9CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrRkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxub2RlLXVuaXZlcnNhbC1jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCAqIGFzIGh0dHAyIGZyb20gXCJodHRwMlwiO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0ICogYXMgaHR0cHMgZnJvbSBcImh0dHBzXCI7XG5pbXBvcnQgeyBDb2RlLCBDb25uZWN0RXJyb3IgfSBmcm9tIFwiQGNvbm5lY3RycGMvY29ubmVjdFwiO1xuaW1wb3J0IHsgbm9kZUhlYWRlclRvV2ViSGVhZGVyLCB3ZWJIZWFkZXJUb05vZGVIZWFkZXJzLCB9IGZyb20gXCIuL25vZGUtdW5pdmVyc2FsLWhlYWRlci5qc1wiO1xuaW1wb3J0IHsgY29ubmVjdEVycm9yRnJvbUgyUmVzZXRDb2RlLCBjb25uZWN0RXJyb3JGcm9tTm9kZVJlYXNvbiwgZ2V0Tm9kZUVycm9yUHJvcHMsIEgyQ29kZSwgdW53cmFwTm9kZUVycm9yQ2hhaW4sIH0gZnJvbSBcIi4vbm9kZS1lcnJvci5qc1wiO1xuaW1wb3J0IHsgZ2V0QWJvcnRTaWduYWxSZWFzb24gfSBmcm9tIFwiQGNvbm5lY3RycGMvY29ubmVjdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgSHR0cDJTZXNzaW9uTWFuYWdlciB9IGZyb20gXCIuL2h0dHAyLXNlc3Npb24tbWFuYWdlci5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSB1bml2ZXJzYWwgY2xpZW50IGZ1bmN0aW9uLCBhIG1pbmltYWwgYWJzdHJhY3Rpb24gb2YgYW4gSFRUUCBjbGllbnQsXG4gKiB1c2luZyB0aGUgTm9kZS5qcyBgaHR0cGAsIGBodHRwc2AsIG9yIGBodHRwMmAgbW9kdWxlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZUh0dHBDbGllbnQob3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBpZiAob3B0aW9ucy5odHRwVmVyc2lvbiA9PSBcIjEuMVwiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVOb2RlSHR0cDFDbGllbnQob3B0aW9ucy5ub2RlT3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IHNlc3Npb25Qcm92aWRlciA9IChfYSA9IG9wdGlvbnMuc2Vzc2lvblByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoKHVybCkgPT4gbmV3IEh0dHAyU2Vzc2lvbk1hbmFnZXIodXJsKSk7XG4gICAgcmV0dXJuIGNyZWF0ZU5vZGVIdHRwMkNsaWVudChzZXNzaW9uUHJvdmlkZXIpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gSFRUUCBjbGllbnQgdXNpbmcgdGhlIE5vZGUuanMgYGh0dHBgIG9yIGBodHRwc2AgcGFja2FnZS5cbiAqXG4gKiBUaGUgSFRUUCBjbGllbnQgaXMgYSBzaW1wbGUgZnVuY3Rpb24gY29uZm9ybWluZyB0byB0aGUgdHlwZSBVbml2ZXJzYWxDbGllbnRGbi5cbiAqIEl0IHRha2VzIGFuIFVuaXZlcnNhbENsaWVudFJlcXVlc3QgYXMgYW4gYXJndW1lbnQsIGFuZCByZXR1cm5zIGEgcHJvbWlzZSBmb3JcbiAqIGFuIFVuaXZlcnNhbENsaWVudFJlc3BvbnNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlSHR0cDFDbGllbnQoaHR0cE9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcmVxdWVzdChyZXEpIHtcbiAgICAgICAgY29uc3Qgc2VudGluZWwgPSBjcmVhdGVTZW50aW5lbChyZXEuc2lnbmFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNlbnRpbmVsLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoMVJlcXVlc3Qoc2VudGluZWwsIHJlcS51cmwsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaHR0cE9wdGlvbnMpLCB7IGhlYWRlcnM6IHdlYkhlYWRlclRvTm9kZUhlYWRlcnMocmVxLmhlYWRlciwgaHR0cE9wdGlvbnMgPT09IG51bGwgfHwgaHR0cE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGh0dHBPcHRpb25zLmhlYWRlcnMpLCBtZXRob2Q6IHJlcS5tZXRob2QgfSksIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdm9pZCBzaW5rUmVxdWVzdChyZXEsIHJlcXVlc3QsIHNlbnRpbmVsKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uKFwicmVzcG9uc2VcIiwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uub24oXCJlcnJvclwiLCBzZW50aW5lbC5yZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICBzZW50aW5lbC5jYXRjaCgocmVhc29uKSA9PiByZXNwb25zZS5kZXN0cm95KGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uKHJlYXNvbikpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhaWxlciA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoX2EgPSByZXNwb25zZS5zdGF0dXNDb2RlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBub2RlSGVhZGVyVG9XZWJIZWFkZXIocmVzcG9uc2UuaGVhZGVycyksXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBoMVJlc3BvbnNlSXRlcmFibGUoc2VudGluZWwsIHJlc3BvbnNlLCB0cmFpbGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsZXIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhbiBIVFRQIGNsaWVudCB1c2luZyB0aGUgTm9kZS5qcyBgaHR0cDJgIHBhY2thZ2UuXG4gKlxuICogVGhlIEhUVFAgY2xpZW50IGlzIGEgc2ltcGxlIGZ1bmN0aW9uIGNvbmZvcm1pbmcgdG8gdGhlIHR5cGUgVW5pdmVyc2FsQ2xpZW50Rm4uXG4gKiBJdCB0YWtlcyBhbiBVbml2ZXJzYWxDbGllbnRSZXF1ZXN0IGFzIGFuIGFyZ3VtZW50LCBhbmQgcmV0dXJucyBhIHByb21pc2UgZm9yXG4gKiBhbiBVbml2ZXJzYWxDbGllbnRSZXNwb25zZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTm9kZUh0dHAyQ2xpZW50KHNlc3Npb25Qcm92aWRlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0KHJlcSkge1xuICAgICAgICBjb25zdCBzZW50aW5lbCA9IGNyZWF0ZVNlbnRpbmVsKHJlcS5zaWduYWwpO1xuICAgICAgICBjb25zdCBzZXNzaW9uTWFuYWdlciA9IHNlc3Npb25Qcm92aWRlcihyZXEudXJsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNlbnRpbmVsLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoMlJlcXVlc3Qoc2VudGluZWwsIHNlc3Npb25NYW5hZ2VyLCByZXEudXJsLCByZXEubWV0aG9kLCB3ZWJIZWFkZXJUb05vZGVIZWFkZXJzKHJlcS5oZWFkZXIpLCB7fSwgKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgIHZvaWQgc2lua1JlcXVlc3QocmVxLCBzdHJlYW0sIHNlbnRpbmVsKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ub24oXCJyZXNwb25zZVwiLCAoaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoX2EgPSBoZWFkZXJzW1wiOnN0YXR1c1wiXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogbm9kZUhlYWRlclRvV2ViSGVhZGVyKGhlYWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogaDJSZXNwb25zZUl0ZXJhYmxlKHNlbnRpbmVsLCBzdHJlYW0sIHNlc3Npb25NYW5hZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsZXI6IGgyUmVzcG9uc2VUcmFpbGVyKHN0cmVhbSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBoMVJlcXVlc3Qoc2VudGluZWwsIHVybCwgb3B0aW9ucywgb25SZXF1ZXN0KSB7XG4gICAgbGV0IHJlcXVlc3Q7XG4gICAgaWYgKG5ldyBVUkwodXJsKS5wcm90b2NvbC5zdGFydHNXaXRoKFwiaHR0cHNcIikpIHtcbiAgICAgICAgcmVxdWVzdCA9IGh0dHBzLnJlcXVlc3QodXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBodHRwLnJlcXVlc3QodXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc2VudGluZWwuY2F0Y2goKHJlYXNvbikgPT4gcmVxdWVzdC5kZXN0cm95KGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uKHJlYXNvbikpKTtcbiAgICAvLyBOb2RlLmpzIHdpbGwgb25seSBzZW5kIGhlYWRlcnMgd2l0aCB0aGUgZmlyc3QgcmVxdWVzdCBib2R5IGJ5dGUgYnkgZGVmYXVsdC5cbiAgICAvLyBXZSBmb3JjZSBpdCB0byBzZW5kIGhlYWRlcnMgcmlnaHQgYXdheSBmb3IgY29uc2lzdGVudCBiZWhhdmlvciBiZXR3ZWVuXG4gICAgLy8gSFRUUC8xLjEgYW5kIEhUVFAvMi4yIGNsaWVudHMuXG4gICAgcmVxdWVzdC5mbHVzaEhlYWRlcnMoKTtcbiAgICByZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgc2VudGluZWwucmVqZWN0KTtcbiAgICByZXF1ZXN0Lm9uKFwic29ja2V0XCIsIGZ1bmN0aW9uIG9uUmVxdWVzdFNvY2tldChzb2NrZXQpIHtcbiAgICAgICAgZnVuY3Rpb24gb25Tb2NrZXRDb25uZWN0KCkge1xuICAgICAgICAgICAgc29ja2V0Lm9mZihcImNvbm5lY3RcIiwgb25Tb2NrZXRDb25uZWN0KTtcbiAgICAgICAgICAgIG9uUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiByZWFkeVN0YXRlIGlzIG9wZW4sIHRoZW4gc29ja2V0IGlzIGFscmVhZHkgb3BlbiBkdWUgdG8ga2VlcEFsaXZlLCBzb1xuICAgICAgICAvLyB0aGUgJ2Nvbm5lY3QnIGV2ZW50IHdpbGwgbmV2ZXIgZmlyZSBzbyBjYWxsIG9uUmVxdWVzdCBleHBsaWNpdGx5XG4gICAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIG9uUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgb25Tb2NrZXRDb25uZWN0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gaDFSZXNwb25zZUl0ZXJhYmxlKHNlbnRpbmVsLCByZXNwb25zZSwgdHJhaWxlcikge1xuICAgIGNvbnN0IGlubmVyID0gcmVzcG9uc2VbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHNlbnRpbmVsLnJhY2UoaW5uZXIubmV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUhlYWRlclRvV2ViSGVhZGVyKHJlc3BvbnNlLnRyYWlsZXJzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnRpbmVsLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGhyb3coZSkge1xuICAgICAgICAgICAgICAgICAgICBzZW50aW5lbC5yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGgyUmVxdWVzdChzZW50aW5lbCwgc20sIHVybCwgbWV0aG9kLCBoZWFkZXJzLCBvcHRpb25zLCBvblN0cmVhbSkge1xuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgaWYgKHJlcXVlc3RVcmwub3JpZ2luICE9PSBzbS5hdXRob3JpdHkpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBjYW5ub3QgbWFrZSBhIHJlcXVlc3QgdG8gJHtyZXF1ZXN0VXJsLm9yaWdpbn06IHRoZSBodHRwMiBzZXNzaW9uIGlzIGNvbm5lY3RlZCB0byAke3NtLmF1dGhvcml0eX1gO1xuICAgICAgICBzZW50aW5lbC5yZWplY3QobmV3IENvbm5lY3RFcnJvcihtZXNzYWdlLCBDb2RlLkludGVybmFsKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc20ucmVxdWVzdChtZXRob2QsIHJlcXVlc3RVcmwucGF0aG5hbWUgKyByZXF1ZXN0VXJsLnNlYXJjaCwgaGVhZGVycywge30pLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICBzZW50aW5lbC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vZGUuanMgaHR0cDIgc3RyZWFtcyB0aGF0IGFyZSBhYm9ydGVkIHZpYSBhbiBBYm9ydFNpZ25hbCBjbG9zZSB3aXRoXG4gICAgICAgICAgICAvLyBhbiBSU1RfU1RSRUFNIHdpdGggY29kZSBJTlRFUk5BTF9FUlJPUi5cbiAgICAgICAgICAgIC8vIFRvIGNvbXBseSB3aXRoIHRoZSBtYXBwaW5nIGJldHdlZW4gZ1JQQyBhbmQgSFRUUC8yIGNvZGVzLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBjbG9zZSB3aXRoIGNvZGUgQ0FOQ0VMLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL1BST1RPQ09MLUhUVFAyLm1kI2Vycm9yc1xuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM3NTQwI3NlY3Rpb24tN1xuICAgICAgICAgICAgY29uc3QgcnN0Q29kZSA9IHJlYXNvbiBpbnN0YW5jZW9mIENvbm5lY3RFcnJvciAmJiByZWFzb24uY29kZSA9PSBDb2RlLkNhbmNlbGVkXG4gICAgICAgICAgICAgICAgPyBIMkNvZGUuQ0FOQ0VMXG4gICAgICAgICAgICAgICAgOiBIMkNvZGUuSU5URVJOQUxfRVJST1I7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHN0cmVhbS5jbG9zZShyc3RDb2RlLCByZXNvbHZlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdHJlYW0ub24oXCJlcnJvclwiLCBmdW5jdGlvbiBoMlN0cmVhbUVycm9yKGUpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0ud3JpdGFibGVFbmRlZCAmJlxuICAgICAgICAgICAgICAgIHVud3JhcE5vZGVFcnJvckNoYWluKGUpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZ2V0Tm9kZUVycm9yUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIC5zb21lKChwKSA9PiBwLmNvZGUgPT0gXCJFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbnRpbmVsLnJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0cmVhbS5vbihcImNsb3NlXCIsIGZ1bmN0aW9uIGgyU3RyZWFtQ2xvc2UoKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjb25uZWN0RXJyb3JGcm9tSDJSZXNldENvZGUoc3RyZWFtLnJzdENvZGUpO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHNlbnRpbmVsLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb25TdHJlYW0oc3RyZWFtKTtcbiAgICB9LCAocmVhc29uKSA9PiB7XG4gICAgICAgIHNlbnRpbmVsLnJlamVjdChyZWFzb24pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gaDJSZXNwb25zZVRyYWlsZXIocmVzcG9uc2UpIHtcbiAgICBjb25zdCB0cmFpbGVyID0gbmV3IEhlYWRlcnMoKTtcbiAgICByZXNwb25zZS5vbihcInRyYWlsZXJzXCIsIChhcmdzKSA9PiB7XG4gICAgICAgIG5vZGVIZWFkZXJUb1dlYkhlYWRlcihhcmdzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICB0cmFpbGVyLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYWlsZXI7XG59XG5mdW5jdGlvbiBoMlJlc3BvbnNlSXRlcmFibGUoc2VudGluZWwsIHJlc3BvbnNlLCBzbSkge1xuICAgIGNvbnN0IGlubmVyID0gcmVzcG9uc2VbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHNlbnRpbmVsLnJhY2UoaW5uZXIubmV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VudGluZWwucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc20gPT09IG51bGwgfHwgc20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNtLm5vdGlmeVJlc3BvbnNlQnl0ZVJlYWQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRocm93KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VudGluZWwucmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG5hc3luYyBmdW5jdGlvbiBzaW5rUmVxdWVzdChyZXF1ZXN0LCBub2RlUmVxdWVzdCwgc2VudGluZWwpIHtcbiAgICBpZiAocmVxdWVzdC5ib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IG5vZGVSZXF1ZXN0LmVuZChyZXNvbHZlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXQgPSByZXF1ZXN0LmJvZHlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHdyaXRlTmV4dCgpO1xuICAgICAgICBmdW5jdGlvbiB3cml0ZU5leHQoKSB7XG4gICAgICAgICAgICBpZiAoc2VudGluZWwuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXQubmV4dCgpLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoci5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVSZXF1ZXN0LmVuZChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlUmVxdWVzdC53cml0ZShyLnZhbHVlLCBcImJpbmFyeVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSA9PT0gbnVsbCB8fCBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlTmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC50aHJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC50aHJvdyhjb25uZWN0RXJyb3JGcm9tTm9kZVJlYXNvbihlKSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VydmVyIHJlc3BvbmRzIGFuZCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gYmVmb3JlIHRoZSBjbGllbnQgaGFzIHdyaXR0ZW4gdGhlIGVudGlyZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAvLyBib2R5LCB3ZSBnZXQgYW4gRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQgZXJyb3IgY29kZSBmcm9tIE5vZGUuanMgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG8gd2FudCB0byBub3RpZnkgdGhlIGl0ZXJhYmxlIG9mIHRoZSBlcnJvciBjb25kaXRpb24sIGJ1dCB3ZSBkbyBub3Qgd2FudCB0byByZWplY3Qgb3VyIHNlbnRpbmVsLFxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd291bGQgYWxzbyBhZmZlY3QgdGhlIHJlYWRpbmcgc2lkZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVSZXF1ZXN0LndyaXRhYmxlRW5kZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHVud3JhcE5vZGVFcnJvckNoYWluKGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChnZXROb2RlRXJyb3JQcm9wcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29tZSgocCkgPT4gcC5jb2RlID09IFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW50aW5lbC5yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbnRpbmVsLnJlamVjdChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZW50aW5lbChzaWduYWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGxldCByZWo7XG4gICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG4gICAgbGV0IHJlamVjdGVkID0gZmFsc2U7XG4gICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzID0gcmVzb2x2ZTtcbiAgICAgICAgcmVqID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIGNvbnN0IGMgPSB7XG4gICAgICAgIHJlc29sdmUoKSB7XG4gICAgICAgICAgICBpZiAoIXJlc29sdmVkICYmICFyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaXNSZXNvbHZlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0KHJlYXNvbikge1xuICAgICAgICAgICAgaWYgKCFyZXNvbHZlZCAmJiAhcmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVqID09PSBudWxsIHx8IHJlaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVqKGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uKHJlYXNvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1JlamVjdGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdGVkO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyByYWNlKHByb21pc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBQcm9taXNlLnJhY2UoW3Byb21pc2UsIHBdKTtcbiAgICAgICAgICAgIGlmIChyID09PSB1bmRlZmluZWQgJiYgcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwic2VudGluZWwgY29tcGxldGVkIGVhcmx5XCIsIENvZGUuSW50ZXJuYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBzID0gT2JqZWN0LmFzc2lnbihwLCBjKTtcbiAgICBmdW5jdGlvbiBvblNpZ25hbEFib3J0KCkge1xuICAgICAgICBjLnJlamVjdChnZXRBYm9ydFNpZ25hbFJlYXNvbih0aGlzKSk7XG4gICAgfVxuICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICBjLnJlamVjdChnZXRBYm9ydFNpZ25hbFJlYXNvbihzaWduYWwpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25TaWduYWxBYm9ydCk7XG4gICAgICAgIH1cbiAgICAgICAgcC5maW5hbGx5KCgpID0+IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25TaWduYWxBYm9ydCkpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFdlIGludGVudGlvbmFsbHkgc3dhbGxvdyBzZW50aW5lbCByZWplY3Rpb24gLSBlcnJvcnMgbXVzdFxuICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRocm91Z2ggdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2UgaXRlcmFibGVzLlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-client.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-handler.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-universal-handler.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   universalRequestFromNodeRequest: () => (/* binding */ universalRequestFromNodeRequest),\n/* harmony export */   universalResponseToNodeResponse: () => (/* binding */ universalResponseToNodeResponse)\n/* harmony export */ });\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @connectrpc/connect */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _node_universal_header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-universal-header.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-header.js\");\n/* harmony import */ var _node_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node-error.js */ \"(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\n\n\n\nfunction universalRequestFromNodeRequest(nodeRequest, ...rest) {\n    var _a, _b;\n    const nodeResponse = rest.length === 3 ? rest[0] : undefined;\n    const parsedJsonBody = rest.length === 3 ? rest[1] : rest[0];\n    const contextValues = rest.length === 3 ? rest[2] : rest[1];\n    const encrypted = \"encrypted\" in nodeRequest.socket && nodeRequest.socket.encrypted;\n    const protocol = encrypted ? \"https\" : \"http\";\n    const authority = \"authority\" in nodeRequest\n        ? nodeRequest.authority\n        : nodeRequest.headers.host;\n    const pathname = (_a = nodeRequest.url) !== null && _a !== void 0 ? _a : \"\";\n    if (authority === undefined) {\n        throw new _connectrpc_connect__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"unable to determine request authority from Node.js server request\", _connectrpc_connect__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n    const body = parsedJsonBody !== undefined\n        ? parsedJsonBody\n        : asyncIterableFromNodeServerRequest(nodeRequest);\n    const abortController = new AbortController();\n    if (\"stream\" in nodeRequest) {\n        // HTTP/2 has error codes we want to honor\n        nodeRequest.once(\"close\", () => {\n            const err = (0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromH2ResetCode)(nodeRequest.stream.rstCode);\n            if (err !== undefined) {\n                abortController.abort(err);\n            }\n            else {\n                abortController.abort();\n            }\n        });\n    }\n    else {\n        // HTTP/1.1 does not have error codes, but Node.js has ECONNRESET\n        const nodeResponsOrRequest = nodeResponse !== null && nodeResponse !== void 0 ? nodeResponse : nodeRequest;\n        const onH1Error = (e) => {\n            nodeRequest.off(\"error\", onH1Error);\n            nodeResponsOrRequest.off(\"close\", onH1Close);\n            abortController.abort((0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromNodeReason)(e));\n        };\n        const onH1Close = () => {\n            nodeRequest.off(\"error\", onH1Error);\n            nodeResponsOrRequest.off(\"close\", onH1Close);\n            // When subscribed to the response, this can get called before \"error\"\n            abortController.abort(nodeRequest.errored\n                ? (0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromNodeReason)(nodeRequest.errored)\n                : undefined);\n        };\n        nodeRequest.once(\"error\", onH1Error);\n        // Node emits close on the request as soon as all data is read.\n        // We instead subscribe to the response (if available)\n        //\n        // Ref: https://github.com/nodejs/node/issues/40775\n        nodeResponsOrRequest.once(\"close\", onH1Close);\n    }\n    return {\n        httpVersion: nodeRequest.httpVersion,\n        method: (_b = nodeRequest.method) !== null && _b !== void 0 ? _b : \"\",\n        url: new URL(pathname, `${protocol}://${authority}`).toString(),\n        header: (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_0__.nodeHeaderToWebHeader)(nodeRequest.headers),\n        body,\n        signal: abortController.signal,\n        contextValues: contextValues,\n    };\n}\n/**\n * Writes a UniversalServerResponse to a Node.js server response.\n * This function helps to implement adapters to server frameworks running\n * on Node.js. Please be careful using this function in your own code, as we\n * may have to make changes to it in the future.\n */\nasync function universalResponseToNodeResponse(universalResponse, nodeResponse) {\n    var _a, _b, _c;\n    const it = (_a = universalResponse.body) === null || _a === void 0 ? void 0 : _a[Symbol.asyncIterator]();\n    let isWriteError = false;\n    try {\n        if (it !== undefined) {\n            let chunk = await it.next();\n            isWriteError = true;\n            // we deliberately send headers after first read, not before,\n            // because we have to give the implementation a chance to\n            // set response headers\n            nodeResponse.writeHead(universalResponse.status, (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_0__.webHeaderToNodeHeaders)(universalResponse.header));\n            isWriteError = false;\n            for (; chunk.done !== true; chunk = await it.next()) {\n                isWriteError = true;\n                await write(nodeResponse, chunk.value);\n                if (\"flush\" in nodeResponse &&\n                    typeof nodeResponse.flush == \"function\") {\n                    // The npm package \"compression\" is an express middleware that is widely used,\n                    // for example in next.js. It uses the npm package \"compressible\" to determine\n                    // whether to apply compression to a response. Unfortunately, \"compressible\"\n                    // matches every mime type that ends with \"+json\", causing our server-streaming\n                    // RPCs to be buffered.\n                    // The package modifies the response object, and adds a flush() method, which\n                    // flushes the underlying gzip or deflate stream from the Node.js zlib module.\n                    // The method is added here:\n                    // https://github.com/expressjs/compression/blob/ad5113b98cafe1382a0ece30bb4673707ac59ce7/index.js#L70\n                    nodeResponse.flush();\n                }\n                isWriteError = false;\n            }\n        }\n        if (!nodeResponse.headersSent) {\n            nodeResponse.writeHead(universalResponse.status, (0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_0__.webHeaderToNodeHeaders)(universalResponse.header));\n        }\n        if (universalResponse.trailer) {\n            nodeResponse.addTrailers((0,_node_universal_header_js__WEBPACK_IMPORTED_MODULE_0__.webHeaderToNodeHeaders)(universalResponse.trailer));\n        }\n        await new Promise((resolve) => {\n            // The npm package \"compression\" crashes when a callback is passed to end()\n            // https://github.com/expressjs/compression/blob/ad5113b98cafe1382a0ece30bb4673707ac59ce7/index.js#L115\n            nodeResponse.once(\"end\", resolve);\n            nodeResponse.end();\n        });\n    }\n    catch (e) {\n        // Report write errors to the handler.\n        if (isWriteError) {\n            (_b = it === null || it === void 0 ? void 0 : it.throw) === null || _b === void 0 ? void 0 : _b.call(it, e).catch(() => { });\n        }\n        throw (0,_node_error_js__WEBPACK_IMPORTED_MODULE_1__.connectErrorFromNodeReason)(e);\n    }\n    finally {\n        (_c = it === null || it === void 0 ? void 0 : it.return) === null || _c === void 0 ? void 0 : _c.call(it).catch(() => { });\n    }\n}\nfunction asyncIterableFromNodeServerRequest(request) {\n    return __asyncGenerator(this, arguments, function* asyncIterableFromNodeServerRequest_1() {\n        var _a, e_1, _b, _c;\n        const it = request.iterator({\n            // Node.js v16 closes request and response when this option isn't disabled.\n            // When one of our handlers receives invalid data (such as an unexpected\n            // compression flag in a streaming request), we're unable to write the error\n            // response.\n            // Later major versions have a more sensible behavior - we can revert this\n            // workaround once we stop supporting v16.\n            destroyOnReturn: false,\n        });\n        try {\n            for (var _d = true, it_1 = __asyncValues(it), it_1_1; it_1_1 = yield __await(it_1.next()), _a = it_1_1.done, !_a; _d = true) {\n                _c = it_1_1.value;\n                _d = false;\n                const chunk = _c;\n                yield yield __await(chunk);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = it_1.return)) yield __await(_b.call(it_1));\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    });\n}\nfunction write(stream, data) {\n    return new Promise((resolve, reject) => {\n        if (stream.errored) {\n            return error(stream.errored);\n        }\n        stream.once(\"error\", error);\n        stream.once(\"drain\", drain);\n        // flushed == false: the stream wishes for the calling code to wait for\n        // the 'drain' event to be emitted before continuing to write additional\n        // data.\n        const flushed = stream.write(data, \"binary\", function (err) {\n            if (err && !flushed) {\n                // We are never getting a \"drain\" nor an \"error\" event if the stream\n                // has already ended (ERR_STREAM_WRITE_AFTER_END), so we have to\n                // resolve our promise in this callback.\n                error(err);\n                // However, once we do that (and remove our event listeners), we _do_\n                // get an \"error\" event, which ends up as an uncaught exception.\n                // We silence this error specifically with the following listener.\n                // All of this seems very fragile.\n                stream.once(\"error\", () => {\n                    //\n                });\n            }\n        });\n        if (flushed) {\n            drain();\n        }\n        function error(err) {\n            stream.off(\"error\", error);\n            stream.off(\"drain\", drain);\n            reject(err);\n        }\n        function drain() {\n            stream.off(\"error\", error);\n            stream.off(\"drain\", drain);\n            resolve();\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLXVuaXZlcnNhbC1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQUksSUFBSSxTQUFJO0FBQ2pDO0FBQ0E7QUFDQSwyR0FBMkcsdUZBQXVGLGNBQWM7QUFDaE4sdUJBQXVCLDhCQUE4QixnREFBZ0Qsd0RBQXdEO0FBQzdKLDZDQUE2QyxzQ0FBc0MsVUFBVSxtQkFBbUIsSUFBSTtBQUNwSDtBQUNBLGVBQWUsU0FBSSxJQUFJLFNBQUksNEJBQTRCO0FBQ3ZELHdCQUF3QixTQUFJLElBQUksU0FBSTtBQUNwQztBQUNBO0FBQ0EsaUJBQWlCLG9HQUFvRyxjQUFjO0FBQ25JLDhCQUE4QixzQkFBc0I7QUFDcEQsMEJBQTBCLFlBQVksc0JBQXNCLHFDQUFxQywyQ0FBMkMsTUFBTTtBQUNsSiw0QkFBNEIsTUFBTSxpQkFBaUIsWUFBWTtBQUMvRCx1QkFBdUI7QUFDdkIsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUI7QUFDeUQ7QUFDbUM7QUFDRDtBQUNwRjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQVksc0VBQXNFLHFEQUFJO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkVBQTJCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywwRUFBMEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBFQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsU0FBUyxLQUFLLFVBQVU7QUFDMUQsZ0JBQWdCLGdGQUFxQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpRkFBc0I7QUFDbkY7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGlGQUFzQjtBQUNuRjtBQUNBO0FBQ0EscUNBQXFDLGlGQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1SUFBdUk7QUFDdkk7QUFDQSxjQUFjLDBFQUEwQjtBQUN4QztBQUNBO0FBQ0EsaUlBQWlJO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0VBQWtFLDREQUE0RDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3Qtbm9kZVxcZGlzdFxcZXNtXFxub2RlLXVuaXZlcnNhbC1oYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG52YXIgX19hc3luY1ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX19hc3luY1ZhbHVlcykgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59O1xudmFyIF9fYXdhaXQgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXQpIHx8IGZ1bmN0aW9uICh2KSB7IHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpOyB9XG52YXIgX19hc3luY0dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19hc3luY0dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufTtcbmltcG9ydCB7IENvZGUsIENvbm5lY3RFcnJvciB9IGZyb20gXCJAY29ubmVjdHJwYy9jb25uZWN0XCI7XG5pbXBvcnQgeyBub2RlSGVhZGVyVG9XZWJIZWFkZXIsIHdlYkhlYWRlclRvTm9kZUhlYWRlcnMsIH0gZnJvbSBcIi4vbm9kZS11bml2ZXJzYWwtaGVhZGVyLmpzXCI7XG5pbXBvcnQgeyBjb25uZWN0RXJyb3JGcm9tSDJSZXNldENvZGUsIGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uLCB9IGZyb20gXCIuL25vZGUtZXJyb3IuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1bml2ZXJzYWxSZXF1ZXN0RnJvbU5vZGVSZXF1ZXN0KG5vZGVSZXF1ZXN0LCAuLi5yZXN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBub2RlUmVzcG9uc2UgPSByZXN0Lmxlbmd0aCA9PT0gMyA/IHJlc3RbMF0gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyc2VkSnNvbkJvZHkgPSByZXN0Lmxlbmd0aCA9PT0gMyA/IHJlc3RbMV0gOiByZXN0WzBdO1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZXMgPSByZXN0Lmxlbmd0aCA9PT0gMyA/IHJlc3RbMl0gOiByZXN0WzFdO1xuICAgIGNvbnN0IGVuY3J5cHRlZCA9IFwiZW5jcnlwdGVkXCIgaW4gbm9kZVJlcXVlc3Quc29ja2V0ICYmIG5vZGVSZXF1ZXN0LnNvY2tldC5lbmNyeXB0ZWQ7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBlbmNyeXB0ZWQgPyBcImh0dHBzXCIgOiBcImh0dHBcIjtcbiAgICBjb25zdCBhdXRob3JpdHkgPSBcImF1dGhvcml0eVwiIGluIG5vZGVSZXF1ZXN0XG4gICAgICAgID8gbm9kZVJlcXVlc3QuYXV0aG9yaXR5XG4gICAgICAgIDogbm9kZVJlcXVlc3QuaGVhZGVycy5ob3N0O1xuICAgIGNvbnN0IHBhdGhuYW1lID0gKF9hID0gbm9kZVJlcXVlc3QudXJsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiO1xuICAgIGlmIChhdXRob3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwidW5hYmxlIHRvIGRldGVybWluZSByZXF1ZXN0IGF1dGhvcml0eSBmcm9tIE5vZGUuanMgc2VydmVyIHJlcXVlc3RcIiwgQ29kZS5JbnRlcm5hbCk7XG4gICAgfVxuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRKc29uQm9keSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyc2VkSnNvbkJvZHlcbiAgICAgICAgOiBhc3luY0l0ZXJhYmxlRnJvbU5vZGVTZXJ2ZXJSZXF1ZXN0KG5vZGVSZXF1ZXN0KTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgaWYgKFwic3RyZWFtXCIgaW4gbm9kZVJlcXVlc3QpIHtcbiAgICAgICAgLy8gSFRUUC8yIGhhcyBlcnJvciBjb2RlcyB3ZSB3YW50IHRvIGhvbm9yXG4gICAgICAgIG5vZGVSZXF1ZXN0Lm9uY2UoXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBjb25uZWN0RXJyb3JGcm9tSDJSZXNldENvZGUobm9kZVJlcXVlc3Quc3RyZWFtLnJzdENvZGUpO1xuICAgICAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBIVFRQLzEuMSBkb2VzIG5vdCBoYXZlIGVycm9yIGNvZGVzLCBidXQgTm9kZS5qcyBoYXMgRUNPTk5SRVNFVFxuICAgICAgICBjb25zdCBub2RlUmVzcG9uc09yUmVxdWVzdCA9IG5vZGVSZXNwb25zZSAhPT0gbnVsbCAmJiBub2RlUmVzcG9uc2UgIT09IHZvaWQgMCA/IG5vZGVSZXNwb25zZSA6IG5vZGVSZXF1ZXN0O1xuICAgICAgICBjb25zdCBvbkgxRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgbm9kZVJlcXVlc3Qub2ZmKFwiZXJyb3JcIiwgb25IMUVycm9yKTtcbiAgICAgICAgICAgIG5vZGVSZXNwb25zT3JSZXF1ZXN0Lm9mZihcImNsb3NlXCIsIG9uSDFDbG9zZSk7XG4gICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoY29ubmVjdEVycm9yRnJvbU5vZGVSZWFzb24oZSkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbkgxQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBub2RlUmVxdWVzdC5vZmYoXCJlcnJvclwiLCBvbkgxRXJyb3IpO1xuICAgICAgICAgICAgbm9kZVJlc3BvbnNPclJlcXVlc3Qub2ZmKFwiY2xvc2VcIiwgb25IMUNsb3NlKTtcbiAgICAgICAgICAgIC8vIFdoZW4gc3Vic2NyaWJlZCB0byB0aGUgcmVzcG9uc2UsIHRoaXMgY2FuIGdldCBjYWxsZWQgYmVmb3JlIFwiZXJyb3JcIlxuICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KG5vZGVSZXF1ZXN0LmVycm9yZWRcbiAgICAgICAgICAgICAgICA/IGNvbm5lY3RFcnJvckZyb21Ob2RlUmVhc29uKG5vZGVSZXF1ZXN0LmVycm9yZWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICB9O1xuICAgICAgICBub2RlUmVxdWVzdC5vbmNlKFwiZXJyb3JcIiwgb25IMUVycm9yKTtcbiAgICAgICAgLy8gTm9kZSBlbWl0cyBjbG9zZSBvbiB0aGUgcmVxdWVzdCBhcyBzb29uIGFzIGFsbCBkYXRhIGlzIHJlYWQuXG4gICAgICAgIC8vIFdlIGluc3RlYWQgc3Vic2NyaWJlIHRvIHRoZSByZXNwb25zZSAoaWYgYXZhaWxhYmxlKVxuICAgICAgICAvL1xuICAgICAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvNDA3NzVcbiAgICAgICAgbm9kZVJlc3BvbnNPclJlcXVlc3Qub25jZShcImNsb3NlXCIsIG9uSDFDbG9zZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGh0dHBWZXJzaW9uOiBub2RlUmVxdWVzdC5odHRwVmVyc2lvbixcbiAgICAgICAgbWV0aG9kOiAoX2IgPSBub2RlUmVxdWVzdC5tZXRob2QpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCIsXG4gICAgICAgIHVybDogbmV3IFVSTChwYXRobmFtZSwgYCR7cHJvdG9jb2x9Oi8vJHthdXRob3JpdHl9YCkudG9TdHJpbmcoKSxcbiAgICAgICAgaGVhZGVyOiBub2RlSGVhZGVyVG9XZWJIZWFkZXIobm9kZVJlcXVlc3QuaGVhZGVycyksXG4gICAgICAgIGJvZHksXG4gICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgY29udGV4dFZhbHVlczogY29udGV4dFZhbHVlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBXcml0ZXMgYSBVbml2ZXJzYWxTZXJ2ZXJSZXNwb25zZSB0byBhIE5vZGUuanMgc2VydmVyIHJlc3BvbnNlLlxuICogVGhpcyBmdW5jdGlvbiBoZWxwcyB0byBpbXBsZW1lbnQgYWRhcHRlcnMgdG8gc2VydmVyIGZyYW1ld29ya3MgcnVubmluZ1xuICogb24gTm9kZS5qcy4gUGxlYXNlIGJlIGNhcmVmdWwgdXNpbmcgdGhpcyBmdW5jdGlvbiBpbiB5b3VyIG93biBjb2RlLCBhcyB3ZVxuICogbWF5IGhhdmUgdG8gbWFrZSBjaGFuZ2VzIHRvIGl0IGluIHRoZSBmdXR1cmUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bml2ZXJzYWxSZXNwb25zZVRvTm9kZVJlc3BvbnNlKHVuaXZlcnNhbFJlc3BvbnNlLCBub2RlUmVzcG9uc2UpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBpdCA9IChfYSA9IHVuaXZlcnNhbFJlc3BvbnNlLmJvZHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICBsZXQgaXNXcml0ZUVycm9yID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBjaHVuayA9IGF3YWl0IGl0Lm5leHQoKTtcbiAgICAgICAgICAgIGlzV3JpdGVFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAvLyB3ZSBkZWxpYmVyYXRlbHkgc2VuZCBoZWFkZXJzIGFmdGVyIGZpcnN0IHJlYWQsIG5vdCBiZWZvcmUsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGhhdmUgdG8gZ2l2ZSB0aGUgaW1wbGVtZW50YXRpb24gYSBjaGFuY2UgdG9cbiAgICAgICAgICAgIC8vIHNldCByZXNwb25zZSBoZWFkZXJzXG4gICAgICAgICAgICBub2RlUmVzcG9uc2Uud3JpdGVIZWFkKHVuaXZlcnNhbFJlc3BvbnNlLnN0YXR1cywgd2ViSGVhZGVyVG9Ob2RlSGVhZGVycyh1bml2ZXJzYWxSZXNwb25zZS5oZWFkZXIpKTtcbiAgICAgICAgICAgIGlzV3JpdGVFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICg7IGNodW5rLmRvbmUgIT09IHRydWU7IGNodW5rID0gYXdhaXQgaXQubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgaXNXcml0ZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhd2FpdCB3cml0ZShub2RlUmVzcG9uc2UsIGNodW5rLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoXCJmbHVzaFwiIGluIG5vZGVSZXNwb25zZSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygbm9kZVJlc3BvbnNlLmZsdXNoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbnBtIHBhY2thZ2UgXCJjb21wcmVzc2lvblwiIGlzIGFuIGV4cHJlc3MgbWlkZGxld2FyZSB0aGF0IGlzIHdpZGVseSB1c2VkLFxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgZXhhbXBsZSBpbiBuZXh0LmpzLiBJdCB1c2VzIHRoZSBucG0gcGFja2FnZSBcImNvbXByZXNzaWJsZVwiIHRvIGRldGVybWluZVxuICAgICAgICAgICAgICAgICAgICAvLyB3aGV0aGVyIHRvIGFwcGx5IGNvbXByZXNzaW9uIHRvIGEgcmVzcG9uc2UuIFVuZm9ydHVuYXRlbHksIFwiY29tcHJlc3NpYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hlcyBldmVyeSBtaW1lIHR5cGUgdGhhdCBlbmRzIHdpdGggXCIranNvblwiLCBjYXVzaW5nIG91ciBzZXJ2ZXItc3RyZWFtaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIFJQQ3MgdG8gYmUgYnVmZmVyZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwYWNrYWdlIG1vZGlmaWVzIHRoZSByZXNwb25zZSBvYmplY3QsIGFuZCBhZGRzIGEgZmx1c2goKSBtZXRob2QsIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgIC8vIGZsdXNoZXMgdGhlIHVuZGVybHlpbmcgZ3ppcCBvciBkZWZsYXRlIHN0cmVhbSBmcm9tIHRoZSBOb2RlLmpzIHpsaWIgbW9kdWxlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWV0aG9kIGlzIGFkZGVkIGhlcmU6XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9leHByZXNzanMvY29tcHJlc3Npb24vYmxvYi9hZDUxMTNiOThjYWZlMTM4MmEwZWNlMzBiYjQ2NzM3MDdhYzU5Y2U3L2luZGV4LmpzI0w3MFxuICAgICAgICAgICAgICAgICAgICBub2RlUmVzcG9uc2UuZmx1c2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNXcml0ZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFub2RlUmVzcG9uc2UuaGVhZGVyc1NlbnQpIHtcbiAgICAgICAgICAgIG5vZGVSZXNwb25zZS53cml0ZUhlYWQodW5pdmVyc2FsUmVzcG9uc2Uuc3RhdHVzLCB3ZWJIZWFkZXJUb05vZGVIZWFkZXJzKHVuaXZlcnNhbFJlc3BvbnNlLmhlYWRlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bml2ZXJzYWxSZXNwb25zZS50cmFpbGVyKSB7XG4gICAgICAgICAgICBub2RlUmVzcG9uc2UuYWRkVHJhaWxlcnMod2ViSGVhZGVyVG9Ob2RlSGVhZGVycyh1bml2ZXJzYWxSZXNwb25zZS50cmFpbGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSBucG0gcGFja2FnZSBcImNvbXByZXNzaW9uXCIgY3Jhc2hlcyB3aGVuIGEgY2FsbGJhY2sgaXMgcGFzc2VkIHRvIGVuZCgpXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXhwcmVzc2pzL2NvbXByZXNzaW9uL2Jsb2IvYWQ1MTEzYjk4Y2FmZTEzODJhMGVjZTMwYmI0NjczNzA3YWM1OWNlNy9pbmRleC5qcyNMMTE1XG4gICAgICAgICAgICBub2RlUmVzcG9uc2Uub25jZShcImVuZFwiLCByZXNvbHZlKTtcbiAgICAgICAgICAgIG5vZGVSZXNwb25zZS5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFJlcG9ydCB3cml0ZSBlcnJvcnMgdG8gdGhlIGhhbmRsZXIuXG4gICAgICAgIGlmIChpc1dyaXRlRXJyb3IpIHtcbiAgICAgICAgICAgIChfYiA9IGl0ID09PSBudWxsIHx8IGl0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdC50aHJvdykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoaXQsIGUpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgY29ubmVjdEVycm9yRnJvbU5vZGVSZWFzb24oZSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAoX2MgPSBpdCA9PT0gbnVsbCB8fCBpdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXQucmV0dXJuKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChpdCkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3luY0l0ZXJhYmxlRnJvbU5vZGVTZXJ2ZXJSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiBhc3luY0l0ZXJhYmxlRnJvbU5vZGVTZXJ2ZXJSZXF1ZXN0XzEoKSB7XG4gICAgICAgIHZhciBfYSwgZV8xLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGl0ID0gcmVxdWVzdC5pdGVyYXRvcih7XG4gICAgICAgICAgICAvLyBOb2RlLmpzIHYxNiBjbG9zZXMgcmVxdWVzdCBhbmQgcmVzcG9uc2Ugd2hlbiB0aGlzIG9wdGlvbiBpc24ndCBkaXNhYmxlZC5cbiAgICAgICAgICAgIC8vIFdoZW4gb25lIG9mIG91ciBoYW5kbGVycyByZWNlaXZlcyBpbnZhbGlkIGRhdGEgKHN1Y2ggYXMgYW4gdW5leHBlY3RlZFxuICAgICAgICAgICAgLy8gY29tcHJlc3Npb24gZmxhZyBpbiBhIHN0cmVhbWluZyByZXF1ZXN0KSwgd2UncmUgdW5hYmxlIHRvIHdyaXRlIHRoZSBlcnJvclxuICAgICAgICAgICAgLy8gcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBMYXRlciBtYWpvciB2ZXJzaW9ucyBoYXZlIGEgbW9yZSBzZW5zaWJsZSBiZWhhdmlvciAtIHdlIGNhbiByZXZlcnQgdGhpc1xuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBvbmNlIHdlIHN0b3Agc3VwcG9ydGluZyB2MTYuXG4gICAgICAgICAgICBkZXN0cm95T25SZXR1cm46IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRfMSA9IF9fYXN5bmNWYWx1ZXMoaXQpLCBpdF8xXzE7IGl0XzFfMSA9IHlpZWxkIF9fYXdhaXQoaXRfMS5uZXh0KCkpLCBfYSA9IGl0XzFfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF9jID0gaXRfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIF9kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfZCAmJiAhX2EgJiYgKF9iID0gaXRfMS5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB3cml0ZShzdHJlYW0sIGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoc3RyZWFtLmVycm9yZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihzdHJlYW0uZXJyb3JlZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyZWFtLm9uY2UoXCJlcnJvclwiLCBlcnJvcik7XG4gICAgICAgIHN0cmVhbS5vbmNlKFwiZHJhaW5cIiwgZHJhaW4pO1xuICAgICAgICAvLyBmbHVzaGVkID09IGZhbHNlOiB0aGUgc3RyZWFtIHdpc2hlcyBmb3IgdGhlIGNhbGxpbmcgY29kZSB0byB3YWl0IGZvclxuICAgICAgICAvLyB0aGUgJ2RyYWluJyBldmVudCB0byBiZSBlbWl0dGVkIGJlZm9yZSBjb250aW51aW5nIHRvIHdyaXRlIGFkZGl0aW9uYWxcbiAgICAgICAgLy8gZGF0YS5cbiAgICAgICAgY29uc3QgZmx1c2hlZCA9IHN0cmVhbS53cml0ZShkYXRhLCBcImJpbmFyeVwiLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyICYmICFmbHVzaGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG5ldmVyIGdldHRpbmcgYSBcImRyYWluXCIgbm9yIGFuIFwiZXJyb3JcIiBldmVudCBpZiB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgZW5kZWQgKEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EKSwgc28gd2UgaGF2ZSB0b1xuICAgICAgICAgICAgICAgIC8vIHJlc29sdmUgb3VyIHByb21pc2UgaW4gdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIG9uY2Ugd2UgZG8gdGhhdCAoYW5kIHJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXJzKSwgd2UgX2RvX1xuICAgICAgICAgICAgICAgIC8vIGdldCBhbiBcImVycm9yXCIgZXZlbnQsIHdoaWNoIGVuZHMgdXAgYXMgYW4gdW5jYXVnaHQgZXhjZXB0aW9uLlxuICAgICAgICAgICAgICAgIC8vIFdlIHNpbGVuY2UgdGhpcyBlcnJvciBzcGVjaWZpY2FsbHkgd2l0aCB0aGUgZm9sbG93aW5nIGxpc3RlbmVyLlxuICAgICAgICAgICAgICAgIC8vIEFsbCBvZiB0aGlzIHNlZW1zIHZlcnkgZnJhZ2lsZS5cbiAgICAgICAgICAgICAgICBzdHJlYW0ub25jZShcImVycm9yXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmbHVzaGVkKSB7XG4gICAgICAgICAgICBkcmFpbigpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgICAgICAgc3RyZWFtLm9mZihcImVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHN0cmVhbS5vZmYoXCJkcmFpblwiLCBkcmFpbik7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkcmFpbigpIHtcbiAgICAgICAgICAgIHN0cmVhbS5vZmYoXCJlcnJvclwiLCBlcnJvcik7XG4gICAgICAgICAgICBzdHJlYW0ub2ZmKFwiZHJhaW5cIiwgZHJhaW4pO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-handler.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-header.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect-node/dist/esm/node-universal-header.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   nodeHeaderToWebHeader: () => (/* binding */ nodeHeaderToWebHeader),\n/* harmony export */   webHeaderToNodeHeaders: () => (/* binding */ webHeaderToNodeHeaders)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Convert a Node.js header object to a fetch API Headers object.\n *\n * This function works for Node.js incoming and outgoing headers, and for the\n * http and the http2 package.\n *\n * HTTP/2 pseudo-headers (:method, :path, etc.) are stripped.\n */\nfunction nodeHeaderToWebHeader(nodeHeaders) {\n    const header = new Headers();\n    for (const [k, v] of Object.entries(nodeHeaders)) {\n        if (k.startsWith(\":\")) {\n            continue;\n        }\n        if (v === undefined) {\n            continue;\n        }\n        if (typeof v == \"string\") {\n            header.append(k, v);\n        }\n        else if (typeof v == \"number\") {\n            header.append(k, String(v));\n        }\n        else {\n            for (const e of v) {\n                header.append(k, e);\n            }\n        }\n    }\n    return header;\n}\nfunction webHeaderToNodeHeaders(headersInit, defaultNodeHeaders) {\n    if (headersInit === undefined && defaultNodeHeaders === undefined) {\n        return undefined;\n    }\n    const o = Object.create(null);\n    if (defaultNodeHeaders !== undefined) {\n        for (const [key, value] of Object.entries(defaultNodeHeaders)) {\n            if (Array.isArray(value)) {\n                o[key] = value.concat();\n            }\n            else if (value !== undefined) {\n                o[key] = value;\n            }\n        }\n    }\n    if (headersInit !== undefined) {\n        if (Array.isArray(headersInit)) {\n            for (const [key, value] of headersInit) {\n                appendWebHeader(o, key, value);\n            }\n        }\n        else if (\"forEach\" in headersInit) {\n            if (typeof headersInit.forEach == \"function\") {\n                headersInit.forEach((value, key) => {\n                    appendWebHeader(o, key, value);\n                });\n            }\n        }\n        else {\n            for (const [key, value] of Object.entries(headersInit)) {\n                appendWebHeader(o, key, value);\n            }\n        }\n    }\n    return o;\n}\nfunction appendWebHeader(o, key, value) {\n    key = key.toLowerCase();\n    const existing = o[key];\n    if (Array.isArray(existing)) {\n        existing.push(value);\n    }\n    else if (existing === undefined) {\n        o[key] = value;\n    }\n    else {\n        o[key] = [existing.toString(), value];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3Qtbm9kZS9kaXN0L2VzbS9ub2RlLXVuaXZlcnNhbC1oZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0LW5vZGVcXGRpc3RcXGVzbVxcbm9kZS11bml2ZXJzYWwtaGVhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIENvbnZlcnQgYSBOb2RlLmpzIGhlYWRlciBvYmplY3QgdG8gYSBmZXRjaCBBUEkgSGVhZGVycyBvYmplY3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3b3JrcyBmb3IgTm9kZS5qcyBpbmNvbWluZyBhbmQgb3V0Z29pbmcgaGVhZGVycywgYW5kIGZvciB0aGVcbiAqIGh0dHAgYW5kIHRoZSBodHRwMiBwYWNrYWdlLlxuICpcbiAqIEhUVFAvMiBwc2V1ZG8taGVhZGVycyAoOm1ldGhvZCwgOnBhdGgsIGV0Yy4pIGFyZSBzdHJpcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vZGVIZWFkZXJUb1dlYkhlYWRlcihub2RlSGVhZGVycykge1xuICAgIGNvbnN0IGhlYWRlciA9IG5ldyBIZWFkZXJzKCk7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMobm9kZUhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoXCI6XCIpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHYgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaGVhZGVyLmFwcGVuZChrLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBoZWFkZXIuYXBwZW5kKGssIFN0cmluZyh2KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygdikge1xuICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmQoaywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3ZWJIZWFkZXJUb05vZGVIZWFkZXJzKGhlYWRlcnNJbml0LCBkZWZhdWx0Tm9kZUhlYWRlcnMpIHtcbiAgICBpZiAoaGVhZGVyc0luaXQgPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0Tm9kZUhlYWRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZGVmYXVsdE5vZGVIZWFkZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdE5vZGVIZWFkZXJzKSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb1trZXldID0gdmFsdWUuY29uY2F0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhlYWRlcnNJbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBoZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFdlYkhlYWRlcihvLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcImZvckVhY2hcIiBpbiBoZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBoZWFkZXJzSW5pdC5mb3JFYWNoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNJbml0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kV2ViSGVhZGVyKG8sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kV2ViSGVhZGVyKG8sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvO1xufVxuZnVuY3Rpb24gYXBwZW5kV2ViSGVhZGVyKG8sIGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBleGlzdGluZyA9IG9ba2V5XTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgZXhpc3RpbmcucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb1trZXldID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvW2tleV0gPSBbZXhpc3RpbmcudG9TdHJpbmcoKSwgdmFsdWVdO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect-node/dist/esm/node-universal-header.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/any-client.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/any-client.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeAnyClient: () => (/* binding */ makeAnyClient)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Create any client for the given service.\n *\n * The given createMethod function is called for each method definition\n * of the service. The function it returns is added to the client object\n * as a method.\n */\nfunction makeAnyClient(service, createMethod) {\n    const client = {};\n    for (const [localName, methodInfo] of Object.entries(service.methods)) {\n        const method = createMethod(Object.assign(Object.assign({}, methodInfo), { localName,\n            service }));\n        if (method != null) {\n            client[localName] = method;\n        }\n    }\n    return client;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vYW55LWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGtFQUFrRSxpQkFBaUI7QUFDbkYscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXGFueS1jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogQ3JlYXRlIGFueSBjbGllbnQgZm9yIHRoZSBnaXZlbiBzZXJ2aWNlLlxuICpcbiAqIFRoZSBnaXZlbiBjcmVhdGVNZXRob2QgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIG1ldGhvZCBkZWZpbml0aW9uXG4gKiBvZiB0aGUgc2VydmljZS4gVGhlIGZ1bmN0aW9uIGl0IHJldHVybnMgaXMgYWRkZWQgdG8gdGhlIGNsaWVudCBvYmplY3RcbiAqIGFzIGEgbWV0aG9kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFueUNsaWVudChzZXJ2aWNlLCBjcmVhdGVNZXRob2QpIHtcbiAgICBjb25zdCBjbGllbnQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtsb2NhbE5hbWUsIG1ldGhvZEluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHNlcnZpY2UubWV0aG9kcykpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gY3JlYXRlTWV0aG9kKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbWV0aG9kSW5mbyksIHsgbG9jYWxOYW1lLFxuICAgICAgICAgICAgc2VydmljZSB9KSk7XG4gICAgICAgIGlmIChtZXRob2QgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xpZW50W2xvY2FsTmFtZV0gPSBtZXRob2Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/any-client.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js":
/*!***********************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/code.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Code: () => (/* binding */ Code)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Connect represents categories of errors as codes, and each code maps to a\n * specific HTTP status code. The codes and their semantics were chosen to\n * match gRPC. Only the codes below are valid — there are no user-defined\n * codes.\n *\n * See the specification at https://connectrpc.com/docs/protocol#error-codes\n * for details.\n */\nvar Code;\n(function (Code) {\n    /**\n     * Canceled, usually be the user\n     */\n    Code[Code[\"Canceled\"] = 1] = \"Canceled\";\n    /**\n     * Unknown error\n     */\n    Code[Code[\"Unknown\"] = 2] = \"Unknown\";\n    /**\n     * Argument invalid regardless of system state\n     */\n    Code[Code[\"InvalidArgument\"] = 3] = \"InvalidArgument\";\n    /**\n     * Operation expired, may or may not have completed.\n     */\n    Code[Code[\"DeadlineExceeded\"] = 4] = \"DeadlineExceeded\";\n    /**\n     * Entity not found.\n     */\n    Code[Code[\"NotFound\"] = 5] = \"NotFound\";\n    /**\n     * Entity already exists.\n     */\n    Code[Code[\"AlreadyExists\"] = 6] = \"AlreadyExists\";\n    /**\n     * Operation not authorized.\n     */\n    Code[Code[\"PermissionDenied\"] = 7] = \"PermissionDenied\";\n    /**\n     * Quota exhausted.\n     */\n    Code[Code[\"ResourceExhausted\"] = 8] = \"ResourceExhausted\";\n    /**\n     * Argument invalid in current system state.\n     */\n    Code[Code[\"FailedPrecondition\"] = 9] = \"FailedPrecondition\";\n    /**\n     * Operation aborted.\n     */\n    Code[Code[\"Aborted\"] = 10] = \"Aborted\";\n    /**\n     * Out of bounds, use instead of FailedPrecondition.\n     */\n    Code[Code[\"OutOfRange\"] = 11] = \"OutOfRange\";\n    /**\n     * Operation not implemented or disabled.\n     */\n    Code[Code[\"Unimplemented\"] = 12] = \"Unimplemented\";\n    /**\n     * Internal error, reserved for \"serious errors\".\n     */\n    Code[Code[\"Internal\"] = 13] = \"Internal\";\n    /**\n     * Unavailable, client should back off and retry.\n     */\n    Code[Code[\"Unavailable\"] = 14] = \"Unavailable\";\n    /**\n     * Unrecoverable data loss or corruption.\n     */\n    Code[Code[\"DataLoss\"] = 15] = \"DataLoss\";\n    /**\n     * Request isn't authenticated.\n     */\n    Code[Code[\"Unauthenticated\"] = 16] = \"Unauthenticated\";\n})(Code || (Code = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vY29kZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQiIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXGNvZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogQ29ubmVjdCByZXByZXNlbnRzIGNhdGVnb3JpZXMgb2YgZXJyb3JzIGFzIGNvZGVzLCBhbmQgZWFjaCBjb2RlIG1hcHMgdG8gYVxuICogc3BlY2lmaWMgSFRUUCBzdGF0dXMgY29kZS4gVGhlIGNvZGVzIGFuZCB0aGVpciBzZW1hbnRpY3Mgd2VyZSBjaG9zZW4gdG9cbiAqIG1hdGNoIGdSUEMuIE9ubHkgdGhlIGNvZGVzIGJlbG93IGFyZSB2YWxpZCDigJQgdGhlcmUgYXJlIG5vIHVzZXItZGVmaW5lZFxuICogY29kZXMuXG4gKlxuICogU2VlIHRoZSBzcGVjaWZpY2F0aW9uIGF0IGh0dHBzOi8vY29ubmVjdHJwYy5jb20vZG9jcy9wcm90b2NvbCNlcnJvci1jb2Rlc1xuICogZm9yIGRldGFpbHMuXG4gKi9cbmV4cG9ydCB2YXIgQ29kZTtcbihmdW5jdGlvbiAoQ29kZSkge1xuICAgIC8qKlxuICAgICAqIENhbmNlbGVkLCB1c3VhbGx5IGJlIHRoZSB1c2VyXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiQ2FuY2VsZWRcIl0gPSAxXSA9IFwiQ2FuY2VsZWRcIjtcbiAgICAvKipcbiAgICAgKiBVbmtub3duIGVycm9yXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiVW5rbm93blwiXSA9IDJdID0gXCJVbmtub3duXCI7XG4gICAgLyoqXG4gICAgICogQXJndW1lbnQgaW52YWxpZCByZWdhcmRsZXNzIG9mIHN5c3RlbSBzdGF0ZVxuICAgICAqL1xuICAgIENvZGVbQ29kZVtcIkludmFsaWRBcmd1bWVudFwiXSA9IDNdID0gXCJJbnZhbGlkQXJndW1lbnRcIjtcbiAgICAvKipcbiAgICAgKiBPcGVyYXRpb24gZXhwaXJlZCwgbWF5IG9yIG1heSBub3QgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiRGVhZGxpbmVFeGNlZWRlZFwiXSA9IDRdID0gXCJEZWFkbGluZUV4Y2VlZGVkXCI7XG4gICAgLyoqXG4gICAgICogRW50aXR5IG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBDb2RlW0NvZGVbXCJOb3RGb3VuZFwiXSA9IDVdID0gXCJOb3RGb3VuZFwiO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBhbHJlYWR5IGV4aXN0cy5cbiAgICAgKi9cbiAgICBDb2RlW0NvZGVbXCJBbHJlYWR5RXhpc3RzXCJdID0gNl0gPSBcIkFscmVhZHlFeGlzdHNcIjtcbiAgICAvKipcbiAgICAgKiBPcGVyYXRpb24gbm90IGF1dGhvcml6ZWQuXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiUGVybWlzc2lvbkRlbmllZFwiXSA9IDddID0gXCJQZXJtaXNzaW9uRGVuaWVkXCI7XG4gICAgLyoqXG4gICAgICogUXVvdGEgZXhoYXVzdGVkLlxuICAgICAqL1xuICAgIENvZGVbQ29kZVtcIlJlc291cmNlRXhoYXVzdGVkXCJdID0gOF0gPSBcIlJlc291cmNlRXhoYXVzdGVkXCI7XG4gICAgLyoqXG4gICAgICogQXJndW1lbnQgaW52YWxpZCBpbiBjdXJyZW50IHN5c3RlbSBzdGF0ZS5cbiAgICAgKi9cbiAgICBDb2RlW0NvZGVbXCJGYWlsZWRQcmVjb25kaXRpb25cIl0gPSA5XSA9IFwiRmFpbGVkUHJlY29uZGl0aW9uXCI7XG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIGFib3J0ZWQuXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiQWJvcnRlZFwiXSA9IDEwXSA9IFwiQWJvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIE91dCBvZiBib3VuZHMsIHVzZSBpbnN0ZWFkIG9mIEZhaWxlZFByZWNvbmRpdGlvbi5cbiAgICAgKi9cbiAgICBDb2RlW0NvZGVbXCJPdXRPZlJhbmdlXCJdID0gMTFdID0gXCJPdXRPZlJhbmdlXCI7XG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIG5vdCBpbXBsZW1lbnRlZCBvciBkaXNhYmxlZC5cbiAgICAgKi9cbiAgICBDb2RlW0NvZGVbXCJVbmltcGxlbWVudGVkXCJdID0gMTJdID0gXCJVbmltcGxlbWVudGVkXCI7XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZXJyb3IsIHJlc2VydmVkIGZvciBcInNlcmlvdXMgZXJyb3JzXCIuXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiSW50ZXJuYWxcIl0gPSAxM10gPSBcIkludGVybmFsXCI7XG4gICAgLyoqXG4gICAgICogVW5hdmFpbGFibGUsIGNsaWVudCBzaG91bGQgYmFjayBvZmYgYW5kIHJldHJ5LlxuICAgICAqL1xuICAgIENvZGVbQ29kZVtcIlVuYXZhaWxhYmxlXCJdID0gMTRdID0gXCJVbmF2YWlsYWJsZVwiO1xuICAgIC8qKlxuICAgICAqIFVucmVjb3ZlcmFibGUgZGF0YSBsb3NzIG9yIGNvcnJ1cHRpb24uXG4gICAgICovXG4gICAgQ29kZVtDb2RlW1wiRGF0YUxvc3NcIl0gPSAxNV0gPSBcIkRhdGFMb3NzXCI7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBpc24ndCBhdXRoZW50aWNhdGVkLlxuICAgICAqL1xuICAgIENvZGVbQ29kZVtcIlVuYXV0aGVudGljYXRlZFwiXSA9IDE2XSA9IFwiVW5hdXRoZW50aWNhdGVkXCI7XG59KShDb2RlIHx8IChDb2RlID0ge30pKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js":
/*!********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/connect-error.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectError: () => (/* binding */ ConnectError)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _protocol_connect_code_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./protocol-connect/code-string.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/code-string.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * ConnectError captures four pieces of information: a Code, an error\n * message, an optional cause of the error, and an optional collection of\n * arbitrary Protobuf messages called  \"details\".\n *\n * Because developer tools typically show just the error message, we prefix\n * it with the status code, so that the most important information is always\n * visible immediately.\n *\n * Error details are wrapped with google.protobuf.Any on the wire, so that\n * a server or middleware can attach arbitrary data to an error. Use the\n * method findDetails() to retrieve the details.\n */\nclass ConnectError extends Error {\n    /**\n     * Create a new ConnectError.\n     * If no code is provided, code \"unknown\" is used.\n     * Outgoing details are only relevant for the server side - a service may\n     * raise an error with details, and it is up to the protocol implementation\n     * to encode and send the details along with error.\n     */\n    constructor(message, code = _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unknown, metadata, outgoingDetails, cause) {\n        super(createMessage(message, code));\n        this.name = \"ConnectError\";\n        // see https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#example\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.rawMessage = message;\n        this.code = code;\n        this.metadata = new Headers(metadata !== null && metadata !== void 0 ? metadata : {});\n        this.details = outgoingDetails !== null && outgoingDetails !== void 0 ? outgoingDetails : [];\n        this.cause = cause;\n    }\n    /**\n     * Convert any value - typically a caught error into a ConnectError,\n     * following these rules:\n     * - If the value is already a ConnectError, return it as is.\n     * - If the value is an AbortError from the fetch API, return the message\n     *   of the AbortError with code Canceled.\n     * - For other Errors, return the error message with code Unknown by default.\n     * - For other values, return the values String representation as a message,\n     *   with the code Unknown by default.\n     * The original value will be used for the \"cause\" property for the new\n     * ConnectError.\n     */\n    static from(reason, code = _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unknown) {\n        if (reason instanceof ConnectError) {\n            return reason;\n        }\n        if (reason instanceof Error) {\n            if (reason.name == \"AbortError\") {\n                // Fetch requests can only be canceled with an AbortController.\n                // We detect that condition by looking at the name of the raised\n                // error object, and translate to the appropriate status code.\n                return new ConnectError(reason.message, _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Canceled);\n            }\n            return new ConnectError(reason.message, code, undefined, undefined, reason);\n        }\n        return new ConnectError(String(reason), code, undefined, undefined, reason);\n    }\n    static [Symbol.hasInstance](v) {\n        if (!(v instanceof Error)) {\n            return false;\n        }\n        if (Object.getPrototypeOf(v) === ConnectError.prototype) {\n            return true;\n        }\n        return (v.name === \"ConnectError\" &&\n            \"code\" in v &&\n            typeof v.code === \"number\" &&\n            \"metadata\" in v &&\n            \"details\" in v &&\n            Array.isArray(v.details) &&\n            \"rawMessage\" in v &&\n            typeof v.rawMessage == \"string\" &&\n            \"cause\" in v);\n    }\n    findDetails(typeOrRegistry) {\n        const registry = \"typeName\" in typeOrRegistry\n            ? {\n                findMessage: (typeName) => typeName === typeOrRegistry.typeName ? typeOrRegistry : undefined,\n            }\n            : typeOrRegistry;\n        const details = [];\n        for (const data of this.details) {\n            if (\"getType\" in data) {\n                if (registry.findMessage(data.getType().typeName)) {\n                    details.push(data);\n                }\n                continue;\n            }\n            const type = registry.findMessage(data.type);\n            if (type) {\n                try {\n                    details.push(type.fromBinary(data.value));\n                }\n                catch (_) {\n                    // We silently give up if we are unable to parse the detail, because\n                    // that appears to be the least worst behavior.\n                    // It is very unlikely that a user surrounds a catch body handling the\n                    // error with another try-catch statement, and we do not want to\n                    // recommend doing so.\n                }\n            }\n        }\n        return details;\n    }\n}\n/**\n * Create an error message, prefixing the given code.\n */\nfunction createMessage(message, code) {\n    return message.length\n        ? `[${(0,_protocol_connect_code_string_js__WEBPACK_IMPORTED_MODULE_1__.codeToString)(code)}] ${message}`\n        : `[${(0,_protocol_connect_code_string_js__WEBPACK_IMPORTED_MODULE_1__.codeToString)(code)}]`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vY29ubmVjdC1lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpQztBQUNnQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMENBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQ0FBSTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDBDQUFJO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4RUFBWSxPQUFPLElBQUksUUFBUTtBQUM3QyxjQUFjLDhFQUFZLE9BQU87QUFDakMiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxjb25uZWN0LWVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY29kZVRvU3RyaW5nIH0gZnJvbSBcIi4vcHJvdG9jb2wtY29ubmVjdC9jb2RlLXN0cmluZy5qc1wiO1xuLyoqXG4gKiBDb25uZWN0RXJyb3IgY2FwdHVyZXMgZm91ciBwaWVjZXMgb2YgaW5mb3JtYXRpb246IGEgQ29kZSwgYW4gZXJyb3JcbiAqIG1lc3NhZ2UsIGFuIG9wdGlvbmFsIGNhdXNlIG9mIHRoZSBlcnJvciwgYW5kIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2ZcbiAqIGFyYml0cmFyeSBQcm90b2J1ZiBtZXNzYWdlcyBjYWxsZWQgIFwiZGV0YWlsc1wiLlxuICpcbiAqIEJlY2F1c2UgZGV2ZWxvcGVyIHRvb2xzIHR5cGljYWxseSBzaG93IGp1c3QgdGhlIGVycm9yIG1lc3NhZ2UsIHdlIHByZWZpeFxuICogaXQgd2l0aCB0aGUgc3RhdHVzIGNvZGUsIHNvIHRoYXQgdGhlIG1vc3QgaW1wb3J0YW50IGluZm9ybWF0aW9uIGlzIGFsd2F5c1xuICogdmlzaWJsZSBpbW1lZGlhdGVseS5cbiAqXG4gKiBFcnJvciBkZXRhaWxzIGFyZSB3cmFwcGVkIHdpdGggZ29vZ2xlLnByb3RvYnVmLkFueSBvbiB0aGUgd2lyZSwgc28gdGhhdFxuICogYSBzZXJ2ZXIgb3IgbWlkZGxld2FyZSBjYW4gYXR0YWNoIGFyYml0cmFyeSBkYXRhIHRvIGFuIGVycm9yLiBVc2UgdGhlXG4gKiBtZXRob2QgZmluZERldGFpbHMoKSB0byByZXRyaWV2ZSB0aGUgZGV0YWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQ29ubmVjdEVycm9yLlxuICAgICAqIElmIG5vIGNvZGUgaXMgcHJvdmlkZWQsIGNvZGUgXCJ1bmtub3duXCIgaXMgdXNlZC5cbiAgICAgKiBPdXRnb2luZyBkZXRhaWxzIGFyZSBvbmx5IHJlbGV2YW50IGZvciB0aGUgc2VydmVyIHNpZGUgLSBhIHNlcnZpY2UgbWF5XG4gICAgICogcmFpc2UgYW4gZXJyb3Igd2l0aCBkZXRhaWxzLCBhbmQgaXQgaXMgdXAgdG8gdGhlIHByb3RvY29sIGltcGxlbWVudGF0aW9uXG4gICAgICogdG8gZW5jb2RlIGFuZCBzZW5kIHRoZSBkZXRhaWxzIGFsb25nIHdpdGggZXJyb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSA9IENvZGUuVW5rbm93biwgbWV0YWRhdGEsIG91dGdvaW5nRGV0YWlscywgY2F1c2UpIHtcbiAgICAgICAgc3VwZXIoY3JlYXRlTWVzc2FnZShtZXNzYWdlLCBjb2RlKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29ubmVjdEVycm9yXCI7XG4gICAgICAgIC8vIHNlZSBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9yZWxlYXNlLW5vdGVzL3R5cGVzY3JpcHQtMi0yLmh0bWwjZXhhbXBsZVxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLnJhd01lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbmV3IEhlYWRlcnMobWV0YWRhdGEgIT09IG51bGwgJiYgbWV0YWRhdGEgIT09IHZvaWQgMCA/IG1ldGFkYXRhIDoge30pO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBvdXRnb2luZ0RldGFpbHMgIT09IG51bGwgJiYgb3V0Z29pbmdEZXRhaWxzICE9PSB2b2lkIDAgPyBvdXRnb2luZ0RldGFpbHMgOiBbXTtcbiAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGFueSB2YWx1ZSAtIHR5cGljYWxseSBhIGNhdWdodCBlcnJvciBpbnRvIGEgQ29ubmVjdEVycm9yLFxuICAgICAqIGZvbGxvd2luZyB0aGVzZSBydWxlczpcbiAgICAgKiAtIElmIHRoZSB2YWx1ZSBpcyBhbHJlYWR5IGEgQ29ubmVjdEVycm9yLCByZXR1cm4gaXQgYXMgaXMuXG4gICAgICogLSBJZiB0aGUgdmFsdWUgaXMgYW4gQWJvcnRFcnJvciBmcm9tIHRoZSBmZXRjaCBBUEksIHJldHVybiB0aGUgbWVzc2FnZVxuICAgICAqICAgb2YgdGhlIEFib3J0RXJyb3Igd2l0aCBjb2RlIENhbmNlbGVkLlxuICAgICAqIC0gRm9yIG90aGVyIEVycm9ycywgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlIHdpdGggY29kZSBVbmtub3duIGJ5IGRlZmF1bHQuXG4gICAgICogLSBGb3Igb3RoZXIgdmFsdWVzLCByZXR1cm4gdGhlIHZhbHVlcyBTdHJpbmcgcmVwcmVzZW50YXRpb24gYXMgYSBtZXNzYWdlLFxuICAgICAqICAgd2l0aCB0aGUgY29kZSBVbmtub3duIGJ5IGRlZmF1bHQuXG4gICAgICogVGhlIG9yaWdpbmFsIHZhbHVlIHdpbGwgYmUgdXNlZCBmb3IgdGhlIFwiY2F1c2VcIiBwcm9wZXJ0eSBmb3IgdGhlIG5ld1xuICAgICAqIENvbm5lY3RFcnJvci5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShyZWFzb24sIGNvZGUgPSBDb2RlLlVua25vd24pIHtcbiAgICAgICAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIENvbm5lY3RFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVhc29uIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChyZWFzb24ubmFtZSA9PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgICAgICAgICAgIC8vIEZldGNoIHJlcXVlc3RzIGNhbiBvbmx5IGJlIGNhbmNlbGVkIHdpdGggYW4gQWJvcnRDb250cm9sbGVyLlxuICAgICAgICAgICAgICAgIC8vIFdlIGRldGVjdCB0aGF0IGNvbmRpdGlvbiBieSBsb29raW5nIGF0IHRoZSBuYW1lIG9mIHRoZSByYWlzZWRcbiAgICAgICAgICAgICAgICAvLyBlcnJvciBvYmplY3QsIGFuZCB0cmFuc2xhdGUgdG8gdGhlIGFwcHJvcHJpYXRlIHN0YXR1cyBjb2RlLlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdEVycm9yKHJlYXNvbi5tZXNzYWdlLCBDb2RlLkNhbmNlbGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdEVycm9yKHJlYXNvbi5tZXNzYWdlLCBjb2RlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3RFcnJvcihTdHJpbmcocmVhc29uKSwgY29kZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHJlYXNvbik7XG4gICAgfVxuICAgIHN0YXRpYyBbU3ltYm9sLmhhc0luc3RhbmNlXSh2KSB7XG4gICAgICAgIGlmICghKHYgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHYpID09PSBDb25uZWN0RXJyb3IucHJvdG90eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHYubmFtZSA9PT0gXCJDb25uZWN0RXJyb3JcIiAmJlxuICAgICAgICAgICAgXCJjb2RlXCIgaW4gdiAmJlxuICAgICAgICAgICAgdHlwZW9mIHYuY29kZSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgXCJtZXRhZGF0YVwiIGluIHYgJiZcbiAgICAgICAgICAgIFwiZGV0YWlsc1wiIGluIHYgJiZcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodi5kZXRhaWxzKSAmJlxuICAgICAgICAgICAgXCJyYXdNZXNzYWdlXCIgaW4gdiAmJlxuICAgICAgICAgICAgdHlwZW9mIHYucmF3TWVzc2FnZSA9PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICBcImNhdXNlXCIgaW4gdik7XG4gICAgfVxuICAgIGZpbmREZXRhaWxzKHR5cGVPclJlZ2lzdHJ5KSB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJ5ID0gXCJ0eXBlTmFtZVwiIGluIHR5cGVPclJlZ2lzdHJ5XG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBmaW5kTWVzc2FnZTogKHR5cGVOYW1lKSA9PiB0eXBlTmFtZSA9PT0gdHlwZU9yUmVnaXN0cnkudHlwZU5hbWUgPyB0eXBlT3JSZWdpc3RyeSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdHlwZU9yUmVnaXN0cnk7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuZGV0YWlscykge1xuICAgICAgICAgICAgaWYgKFwiZ2V0VHlwZVwiIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnkuZmluZE1lc3NhZ2UoZGF0YS5nZXRUeXBlKCkudHlwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcmVnaXN0cnkuZmluZE1lc3NhZ2UoZGF0YS50eXBlKTtcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5wdXNoKHR5cGUuZnJvbUJpbmFyeShkYXRhLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHNpbGVudGx5IGdpdmUgdXAgaWYgd2UgYXJlIHVuYWJsZSB0byBwYXJzZSB0aGUgZGV0YWlsLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgYXBwZWFycyB0byBiZSB0aGUgbGVhc3Qgd29yc3QgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0IGlzIHZlcnkgdW5saWtlbHkgdGhhdCBhIHVzZXIgc3Vycm91bmRzIGEgY2F0Y2ggYm9keSBoYW5kbGluZyB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3Igd2l0aCBhbm90aGVyIHRyeS1jYXRjaCBzdGF0ZW1lbnQsIGFuZCB3ZSBkbyBub3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNvbW1lbmQgZG9pbmcgc28uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGFuIGVycm9yIG1lc3NhZ2UsIHByZWZpeGluZyB0aGUgZ2l2ZW4gY29kZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWVzc2FnZShtZXNzYWdlLCBjb2RlKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UubGVuZ3RoXG4gICAgICAgID8gYFske2NvZGVUb1N0cmluZyhjb2RlKX1dICR7bWVzc2FnZX1gXG4gICAgICAgIDogYFske2NvZGVUb1N0cmluZyhjb2RlKX1dYDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/context-values.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createContextKey: () => (/* binding */ createContextKey),\n/* harmony export */   createContextValues: () => (/* binding */ createContextValues)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * createContextValues creates a new ContextValues.\n */\nfunction createContextValues() {\n    return {\n        get(key) {\n            return key.id in this ? this[key.id] : key.defaultValue;\n        },\n        set(key, value) {\n            this[key.id] = value;\n            return this;\n        },\n        delete(key) {\n            delete this[key.id];\n            return this;\n        },\n    };\n}\n/**\n * createContextKey creates a new ContextKey.\n */\nfunction createContextKey(defaultValue, options) {\n    return { id: Symbol(options === null || options === void 0 ? void 0 : options.description), defaultValue };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vY29udGV4dC12YWx1ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsYUFBYTtBQUNiIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxcY29udGV4dC12YWx1ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogY3JlYXRlQ29udGV4dFZhbHVlcyBjcmVhdGVzIGEgbmV3IENvbnRleHRWYWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0VmFsdWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkuaWQgaW4gdGhpcyA/IHRoaXNba2V5LmlkXSA6IGtleS5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2tleS5pZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpc1trZXkuaWRdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogY3JlYXRlQ29udGV4dEtleSBjcmVhdGVzIGEgbmV3IENvbnRleHRLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0S2V5KGRlZmF1bHRWYWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB7IGlkOiBTeW1ib2wob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlc2NyaXB0aW9uKSwgZGVmYXVsdFZhbHVlIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/http-headers.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/http-headers.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendHeaders: () => (/* binding */ appendHeaders),\n/* harmony export */   decodeBinaryHeader: () => (/* binding */ decodeBinaryHeader),\n/* harmony export */   encodeBinaryHeader: () => (/* binding */ encodeBinaryHeader)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/proto-base64.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Encode a single binary header value according to the Connect\n * and gRPC specifications.\n *\n * This function accepts raw binary data from a buffer, a string\n * with UTF-8 text, or a protobuf message. It encodes the input\n * with unpadded base64 and returns a string that can be used for\n * a header whose name ends with `-bin`.\n */\nfunction encodeBinaryHeader(value) {\n    let bytes;\n    if (typeof value == \"object\" && \"getType\" in value) {\n        bytes = value.toBinary();\n    }\n    else if (typeof value == \"string\") {\n        bytes = new TextEncoder().encode(value);\n    }\n    else {\n        bytes = value instanceof Uint8Array ? value : new Uint8Array(value);\n    }\n    return _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__.protoBase64.enc(bytes).replace(/=+$/, \"\");\n}\nfunction decodeBinaryHeader(value, type, options) {\n    try {\n        const bytes = _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__.protoBase64.dec(value);\n        if (type) {\n            return type.fromBinary(bytes, options);\n        }\n        return bytes;\n    }\n    catch (e) {\n        throw _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError.from(e, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.DataLoss);\n    }\n}\n/**\n * Merge two or more Headers objects by appending all fields from\n * all inputs to a new Headers object.\n */\nfunction appendHeaders(...headers) {\n    const h = new Headers();\n    for (const e of headers) {\n        e.forEach((value, key) => {\n            h.append(key, value);\n        });\n    }\n    return h;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vaHR0cC1oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lEO0FBQ0M7QUFDakI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkRBQVc7QUFDdEI7QUFDTztBQUNQO0FBQ0Esc0JBQXNCLDJEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQVksU0FBUywwQ0FBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXGh0dHAtaGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgcHJvdG9CYXNlNjQgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4vY29kZS5qc1wiO1xuLyoqXG4gKiBFbmNvZGUgYSBzaW5nbGUgYmluYXJ5IGhlYWRlciB2YWx1ZSBhY2NvcmRpbmcgdG8gdGhlIENvbm5lY3RcbiAqIGFuZCBnUlBDIHNwZWNpZmljYXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyByYXcgYmluYXJ5IGRhdGEgZnJvbSBhIGJ1ZmZlciwgYSBzdHJpbmdcbiAqIHdpdGggVVRGLTggdGV4dCwgb3IgYSBwcm90b2J1ZiBtZXNzYWdlLiBJdCBlbmNvZGVzIHRoZSBpbnB1dFxuICogd2l0aCB1bnBhZGRlZCBiYXNlNjQgYW5kIHJldHVybnMgYSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCBmb3JcbiAqIGEgaGVhZGVyIHdob3NlIG5hbWUgZW5kcyB3aXRoIGAtYmluYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUJpbmFyeUhlYWRlcih2YWx1ZSkge1xuICAgIGxldCBieXRlcztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgXCJnZXRUeXBlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgYnl0ZXMgPSB2YWx1ZS50b0JpbmFyeSgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBieXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBieXRlcyA9IHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSA/IHZhbHVlIDogbmV3IFVpbnQ4QXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdG9CYXNlNjQuZW5jKGJ5dGVzKS5yZXBsYWNlKC89KyQvLCBcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVCaW5hcnlIZWFkZXIodmFsdWUsIHR5cGUsIG9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBieXRlcyA9IHByb3RvQmFzZTY0LmRlYyh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5mcm9tQmluYXJ5KGJ5dGVzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IENvbm5lY3RFcnJvci5mcm9tKGUsIENvZGUuRGF0YUxvc3MpO1xuICAgIH1cbn1cbi8qKlxuICogTWVyZ2UgdHdvIG9yIG1vcmUgSGVhZGVycyBvYmplY3RzIGJ5IGFwcGVuZGluZyBhbGwgZmllbGRzIGZyb21cbiAqIGFsbCBpbnB1dHMgdG8gYSBuZXcgSGVhZGVycyBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRIZWFkZXJzKC4uLmhlYWRlcnMpIHtcbiAgICBjb25zdCBoID0gbmV3IEhlYWRlcnMoKTtcbiAgICBmb3IgKGNvbnN0IGUgb2YgaGVhZGVycykge1xuICAgICAgICBlLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGguYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGg7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/http-headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/implementation.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandlerContext: () => (/* binding */ createHandlerContext),\n/* harmony export */   createMethodImplSpec: () => (/* binding */ createMethodImplSpec),\n/* harmony export */   createServiceImplSpec: () => (/* binding */ createServiceImplSpec)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _protocol_signals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol/signals.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js\");\n/* harmony import */ var _context_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context-values.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n/**\n * Create a new HandlerContext.\n *\n * The context is usually automatically created by handlers, but if a service\n * implementation is used in unit tests, this function can be used to create\n * a context.\n */\nfunction createHandlerContext(init) {\n    var _a;\n    let timeoutMs;\n    if (init.timeoutMs !== undefined) {\n        const date = new Date(Date.now() + init.timeoutMs);\n        timeoutMs = () => date.getTime() - Date.now();\n    }\n    else {\n        timeoutMs = () => undefined;\n    }\n    const deadline = (0,_protocol_signals_js__WEBPACK_IMPORTED_MODULE_0__.createDeadlineSignal)(init.timeoutMs);\n    const abortController = (0,_protocol_signals_js__WEBPACK_IMPORTED_MODULE_0__.createLinkedAbortController)(deadline.signal, init.requestSignal, init.shutdownSignal);\n    return Object.assign(Object.assign({}, init), { signal: abortController.signal, timeoutMs, requestHeader: new Headers(init.requestHeader), responseHeader: new Headers(init.responseHeader), responseTrailer: new Headers(init.responseTrailer), abort(reason) {\n            deadline.cleanup();\n            abortController.abort(reason);\n        }, values: (_a = init.contextValues) !== null && _a !== void 0 ? _a : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_1__.createContextValues)() });\n}\n/**\n * Create an MethodImplSpec - a user-provided implementation for a method,\n * wrapped in a discriminated union type along with service and method metadata.\n */\nfunction createMethodImplSpec(service, method, impl) {\n    return {\n        kind: method.kind,\n        service,\n        method,\n        impl,\n    };\n}\n/**\n * Create an ServiceImplSpec - a user-provided service implementation wrapped\n * with metadata.\n */\nfunction createServiceImplSpec(service, impl) {\n    const s = { service, methods: {} };\n    for (const [localName, methodInfo] of Object.entries(service.methods)) {\n        let fn = impl[localName];\n        if (typeof fn == \"function\") {\n            fn = fn.bind(impl);\n        }\n        else {\n            const message = `${service.typeName}.${methodInfo.name} is not implemented`;\n            fn = function unimplemented() {\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(message, _code_js__WEBPACK_IMPORTED_MODULE_3__.Code.Unimplemented);\n            };\n        }\n        s.methods[localName] = createMethodImplSpec(service, methodInfo, fn);\n    }\n    return s;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vaW1wbGVtZW50YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dEO0FBQ0U7QUFDakI7QUFDMEQ7QUFDakM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwRUFBb0I7QUFDekMsNEJBQTRCLGlGQUEyQjtBQUN2RCx5Q0FBeUMsV0FBVztBQUNwRDtBQUNBO0FBQ0EsU0FBUyxxRUFBcUUsdUVBQW1CLElBQUk7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxpQkFBaUI7QUFDcEU7QUFDQSwwQkFBMEIsMkRBQVksVUFBVSwwQ0FBSTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxpbXBsZW1lbnRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgTWV0aG9kS2luZCB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi9jb2RlLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVEZWFkbGluZVNpZ25hbCwgY3JlYXRlTGlua2VkQWJvcnRDb250cm9sbGVyLCB9IGZyb20gXCIuL3Byb3RvY29sL3NpZ25hbHMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRWYWx1ZXMgfSBmcm9tIFwiLi9jb250ZXh0LXZhbHVlcy5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgSGFuZGxlckNvbnRleHQuXG4gKlxuICogVGhlIGNvbnRleHQgaXMgdXN1YWxseSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgaGFuZGxlcnMsIGJ1dCBpZiBhIHNlcnZpY2VcbiAqIGltcGxlbWVudGF0aW9uIGlzIHVzZWQgaW4gdW5pdCB0ZXN0cywgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBjcmVhdGVcbiAqIGEgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXJDb250ZXh0KGluaXQpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHRpbWVvdXRNcztcbiAgICBpZiAoaW5pdC50aW1lb3V0TXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGluaXQudGltZW91dE1zKTtcbiAgICAgICAgdGltZW91dE1zID0gKCkgPT4gZGF0ZS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGltZW91dE1zID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBkZWFkbGluZSA9IGNyZWF0ZURlYWRsaW5lU2lnbmFsKGluaXQudGltZW91dE1zKTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBjcmVhdGVMaW5rZWRBYm9ydENvbnRyb2xsZXIoZGVhZGxpbmUuc2lnbmFsLCBpbml0LnJlcXVlc3RTaWduYWwsIGluaXQuc2h1dGRvd25TaWduYWwpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluaXQpLCB7IHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCwgdGltZW91dE1zLCByZXF1ZXN0SGVhZGVyOiBuZXcgSGVhZGVycyhpbml0LnJlcXVlc3RIZWFkZXIpLCByZXNwb25zZUhlYWRlcjogbmV3IEhlYWRlcnMoaW5pdC5yZXNwb25zZUhlYWRlciksIHJlc3BvbnNlVHJhaWxlcjogbmV3IEhlYWRlcnMoaW5pdC5yZXNwb25zZVRyYWlsZXIpLCBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgICAgIGRlYWRsaW5lLmNsZWFudXAoKTtcbiAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydChyZWFzb24pO1xuICAgICAgICB9LCB2YWx1ZXM6IChfYSA9IGluaXQuY29udGV4dFZhbHVlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3JlYXRlQ29udGV4dFZhbHVlcygpIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gTWV0aG9kSW1wbFNwZWMgLSBhIHVzZXItcHJvdmlkZWQgaW1wbGVtZW50YXRpb24gZm9yIGEgbWV0aG9kLFxuICogd3JhcHBlZCBpbiBhIGRpc2NyaW1pbmF0ZWQgdW5pb24gdHlwZSBhbG9uZyB3aXRoIHNlcnZpY2UgYW5kIG1ldGhvZCBtZXRhZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZEltcGxTcGVjKHNlcnZpY2UsIG1ldGhvZCwgaW1wbCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IG1ldGhvZC5raW5kLFxuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIGltcGwsXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIFNlcnZpY2VJbXBsU3BlYyAtIGEgdXNlci1wcm92aWRlZCBzZXJ2aWNlIGltcGxlbWVudGF0aW9uIHdyYXBwZWRcbiAqIHdpdGggbWV0YWRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2aWNlSW1wbFNwZWMoc2VydmljZSwgaW1wbCkge1xuICAgIGNvbnN0IHMgPSB7IHNlcnZpY2UsIG1ldGhvZHM6IHt9IH07XG4gICAgZm9yIChjb25zdCBbbG9jYWxOYW1lLCBtZXRob2RJbmZvXSBvZiBPYmplY3QuZW50cmllcyhzZXJ2aWNlLm1ldGhvZHMpKSB7XG4gICAgICAgIGxldCBmbiA9IGltcGxbbG9jYWxOYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGZuID0gZm4uYmluZChpbXBsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtzZXJ2aWNlLnR5cGVOYW1lfS4ke21ldGhvZEluZm8ubmFtZX0gaXMgbm90IGltcGxlbWVudGVkYDtcbiAgICAgICAgICAgIGZuID0gZnVuY3Rpb24gdW5pbXBsZW1lbnRlZCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKG1lc3NhZ2UsIENvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHMubWV0aG9kc1tsb2NhbE5hbWVdID0gY3JlYXRlTWV0aG9kSW1wbFNwZWMoc2VydmljZSwgbWV0aG9kSW5mbywgZm4pO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/interceptor.js":
/*!******************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/interceptor.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyInterceptors: () => (/* binding */ applyInterceptors)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * applyInterceptors takes the given UnaryFn or ServerStreamingFn, and wraps\n * it with each of the given interceptors, returning a new UnaryFn or\n * ServerStreamingFn.\n */\nfunction applyInterceptors(next, interceptors) {\n    var _a;\n    return ((_a = interceptors === null || interceptors === void 0 ? void 0 : interceptors.concat().reverse().reduce(\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    (n, i) => i(n), next)) !== null && _a !== void 0 ? _a : next);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vaW50ZXJjZXB0b3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXGludGVyY2VwdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIGFwcGx5SW50ZXJjZXB0b3JzIHRha2VzIHRoZSBnaXZlbiBVbmFyeUZuIG9yIFNlcnZlclN0cmVhbWluZ0ZuLCBhbmQgd3JhcHNcbiAqIGl0IHdpdGggZWFjaCBvZiB0aGUgZ2l2ZW4gaW50ZXJjZXB0b3JzLCByZXR1cm5pbmcgYSBuZXcgVW5hcnlGbiBvclxuICogU2VydmVyU3RyZWFtaW5nRm4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUludGVyY2VwdG9ycyhuZXh0LCBpbnRlcmNlcHRvcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBpbnRlcmNlcHRvcnMgPT09IG51bGwgfHwgaW50ZXJjZXB0b3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRvcnMuY29uY2F0KCkucmV2ZXJzZSgpLnJlZHVjZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgIChuLCBpKSA9PiBpKG4pLCBuZXh0KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV4dCk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/interceptor.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/promise-client.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/promise-client.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBiDiStreamingFn: () => (/* binding */ createBiDiStreamingFn),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   createClientStreamingFn: () => (/* binding */ createClientStreamingFn),\n/* harmony export */   createPromiseClient: () => (/* binding */ createPromiseClient),\n/* harmony export */   createServerStreamingFn: () => (/* binding */ createServerStreamingFn),\n/* harmony export */   createUnaryFn: () => (/* binding */ createUnaryFn)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _any_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./any-client.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/any-client.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (undefined && undefined.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\n\n\n\n\n\n/**\n * Create a Client for the given service, invoking RPCs through the\n * given transport.\n */\nfunction createClient(service, transport) {\n    return (0,_any_client_js__WEBPACK_IMPORTED_MODULE_0__.makeAnyClient)(service, (method) => {\n        switch (method.kind) {\n            case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.Unary:\n                return createUnaryFn(transport, service, method);\n            case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.ServerStreaming:\n                return createServerStreamingFn(transport, service, method);\n            case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.ClientStreaming:\n                return createClientStreamingFn(transport, service, method);\n            case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.BiDiStreaming:\n                return createBiDiStreamingFn(transport, service, method);\n            default:\n                return null;\n        }\n    });\n}\n/**\n * @deprecated use createClient.\n */\nfunction createPromiseClient(service, transport) {\n    return createClient(service, transport);\n}\nfunction createUnaryFn(transport, service, method) {\n    return async function (input, options) {\n        var _a, _b;\n        const response = await transport.unary(service, method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, input, options === null || options === void 0 ? void 0 : options.contextValues);\n        (_a = options === null || options === void 0 ? void 0 : options.onHeader) === null || _a === void 0 ? void 0 : _a.call(options, response.header);\n        (_b = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _b === void 0 ? void 0 : _b.call(options, response.trailer);\n        return response.message;\n    };\n}\nfunction createServerStreamingFn(transport, service, method) {\n    return function (input, options) {\n        return handleStreamResponse(transport.stream(service, method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_2__.createAsyncIterable)([input]), options === null || options === void 0 ? void 0 : options.contextValues), options);\n    };\n}\nfunction createClientStreamingFn(transport, service, method) {\n    return async function (request, options) {\n        var _a, e_1, _b, _c;\n        var _d, _e;\n        const response = await transport.stream(service, method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, request, options === null || options === void 0 ? void 0 : options.contextValues);\n        (_d = options === null || options === void 0 ? void 0 : options.onHeader) === null || _d === void 0 ? void 0 : _d.call(options, response.header);\n        let singleMessage;\n        let count = 0;\n        try {\n            for (var _f = true, _g = __asyncValues(response.message), _h; _h = await _g.next(), _a = _h.done, !_a; _f = true) {\n                _c = _h.value;\n                _f = false;\n                const message = _c;\n                singleMessage = message;\n                count++;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_f && !_a && (_b = _g.return)) await _b.call(_g);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (!singleMessage) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: missing response message\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n        }\n        if (count > 1) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: received extra messages for client streaming method\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n        }\n        (_e = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _e === void 0 ? void 0 : _e.call(options, response.trailer);\n        return singleMessage;\n    };\n}\nfunction createBiDiStreamingFn(transport, service, method) {\n    return function (request, options) {\n        return handleStreamResponse(transport.stream(service, method, options === null || options === void 0 ? void 0 : options.signal, options === null || options === void 0 ? void 0 : options.timeoutMs, options === null || options === void 0 ? void 0 : options.headers, request, options === null || options === void 0 ? void 0 : options.contextValues), options);\n    };\n}\nfunction handleStreamResponse(stream, options) {\n    const it = (function () {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, _b;\n            const response = yield __await(stream);\n            (_a = options === null || options === void 0 ? void 0 : options.onHeader) === null || _a === void 0 ? void 0 : _a.call(options, response.header);\n            yield __await(yield* __asyncDelegator(__asyncValues(response.message)));\n            (_b = options === null || options === void 0 ? void 0 : options.onTrailer) === null || _b === void 0 ? void 0 : _b.call(options, response.trailer);\n        });\n    })()[Symbol.asyncIterator]();\n    // Create a new iterable to omit throw/return.\n    return {\n        [Symbol.asyncIterator]: () => ({\n            next: () => it.next(),\n        }),\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvbWlzZS1jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFJLElBQUksU0FBSTtBQUNqQztBQUNBO0FBQ0EsMkdBQTJHLHVGQUF1RixjQUFjO0FBQ2hOLHVCQUF1Qiw4QkFBOEIsZ0RBQWdELHdEQUF3RDtBQUM3Siw2Q0FBNkMsc0NBQXNDLFVBQVUsbUJBQW1CLElBQUk7QUFDcEg7QUFDQSxlQUFlLFNBQUksSUFBSSxTQUFJLDRCQUE0QjtBQUN2RCx3QkFBd0IsU0FBSSxJQUFJLFNBQUk7QUFDcEM7QUFDQSxpQkFBaUIsNkNBQTZDLFVBQVUsc0RBQXNELGNBQWM7QUFDNUksMEJBQTBCLDZCQUE2QixvQkFBb0IsdUNBQXVDLGtCQUFrQjtBQUNwSTtBQUNBLHdCQUF3QixTQUFJLElBQUksU0FBSTtBQUNwQztBQUNBO0FBQ0EsaUJBQWlCLG9HQUFvRyxjQUFjO0FBQ25JLDhCQUE4QixzQkFBc0I7QUFDcEQsMEJBQTBCLFlBQVksc0JBQXNCLHFDQUFxQywyQ0FBMkMsTUFBTTtBQUNsSiw0QkFBNEIsTUFBTSxpQkFBaUIsWUFBWTtBQUMvRCx1QkFBdUI7QUFDdkIsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUI7QUFDeUQ7QUFDVDtBQUNFO0FBQ2pCO0FBQ2tDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLDZEQUFhO0FBQ3hCO0FBQ0EsaUJBQWlCLDBEQUFVO0FBQzNCO0FBQ0EsaUJBQWlCLDBEQUFVO0FBQzNCO0FBQ0EsaUJBQWlCLDBEQUFVO0FBQzNCO0FBQ0EsaUJBQWlCLDBEQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGdSQUFnUixnRkFBbUI7QUFDblM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSx5Q0FBeUM7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFZLDZDQUE2QywwQ0FBSTtBQUNuRjtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFZLHdFQUF3RSwwQ0FBSTtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm9taXNlLWNsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX2F3YWl0ID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0KSB8fCBmdW5jdGlvbiAodikgeyByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTsgfVxudmFyIF9fYXN5bmNEZWxlZ2F0b3IgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNEZWxlZ2F0b3IpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGksIHA7XG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufTtcbnZhciBfX2FzeW5jR2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jR2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59O1xuaW1wb3J0IHsgTWVzc2FnZSwgTWV0aG9kS2luZCB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7IG1ha2VBbnlDbGllbnQgfSBmcm9tIFwiLi9hbnktY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQXN5bmNJdGVyYWJsZSB9IGZyb20gXCIuL3Byb3RvY29sL2FzeW5jLWl0ZXJhYmxlLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIENsaWVudCBmb3IgdGhlIGdpdmVuIHNlcnZpY2UsIGludm9raW5nIFJQQ3MgdGhyb3VnaCB0aGVcbiAqIGdpdmVuIHRyYW5zcG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudChzZXJ2aWNlLCB0cmFuc3BvcnQpIHtcbiAgICByZXR1cm4gbWFrZUFueUNsaWVudChzZXJ2aWNlLCAobWV0aG9kKSA9PiB7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgTWV0aG9kS2luZC5VbmFyeTpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVW5hcnlGbih0cmFuc3BvcnQsIHNlcnZpY2UsIG1ldGhvZCk7XG4gICAgICAgICAgICBjYXNlIE1ldGhvZEtpbmQuU2VydmVyU3RyZWFtaW5nOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZXJ2ZXJTdHJlYW1pbmdGbih0cmFuc3BvcnQsIHNlcnZpY2UsIG1ldGhvZCk7XG4gICAgICAgICAgICBjYXNlIE1ldGhvZEtpbmQuQ2xpZW50U3RyZWFtaW5nOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDbGllbnRTdHJlYW1pbmdGbih0cmFuc3BvcnQsIHNlcnZpY2UsIG1ldGhvZCk7XG4gICAgICAgICAgICBjYXNlIE1ldGhvZEtpbmQuQmlEaVN0cmVhbWluZzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQmlEaVN0cmVhbWluZ0ZuKHRyYW5zcG9ydCwgc2VydmljZSwgbWV0aG9kKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGNyZWF0ZUNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb21pc2VDbGllbnQoc2VydmljZSwgdHJhbnNwb3J0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChzZXJ2aWNlLCB0cmFuc3BvcnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuYXJ5Rm4odHJhbnNwb3J0LCBzZXJ2aWNlLCBtZXRob2QpIHtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdHJhbnNwb3J0LnVuYXJ5KHNlcnZpY2UsIG1ldGhvZCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXRNcywgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMsIGlucHV0LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY29udGV4dFZhbHVlcyk7XG4gICAgICAgIChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbkhlYWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgcmVzcG9uc2UuaGVhZGVyKTtcbiAgICAgICAgKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9uVHJhaWxlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucywgcmVzcG9uc2UudHJhaWxlcik7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5tZXNzYWdlO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VydmVyU3RyZWFtaW5nRm4odHJhbnNwb3J0LCBzZXJ2aWNlLCBtZXRob2QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJlYW1SZXNwb25zZSh0cmFuc3BvcnQuc3RyZWFtKHNlcnZpY2UsIG1ldGhvZCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXRNcywgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMsIGNyZWF0ZUFzeW5jSXRlcmFibGUoW2lucHV0XSksIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jb250ZXh0VmFsdWVzKSwgb3B0aW9ucyk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnRTdHJlYW1pbmdGbih0cmFuc3BvcnQsIHNlcnZpY2UsIG1ldGhvZCkge1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIGVfMSwgX2IsIF9jO1xuICAgICAgICB2YXIgX2QsIF9lO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRyYW5zcG9ydC5zdHJlYW0oc2VydmljZSwgbWV0aG9kLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGltZW91dE1zLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycywgcmVxdWVzdCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNvbnRleHRWYWx1ZXMpO1xuICAgICAgICAoX2QgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub25IZWFkZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKG9wdGlvbnMsIHJlc3BvbnNlLmhlYWRlcik7XG4gICAgICAgIGxldCBzaW5nbGVNZXNzYWdlO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2YgPSB0cnVlLCBfZyA9IF9fYXN5bmNWYWx1ZXMocmVzcG9uc2UubWVzc2FnZSksIF9oOyBfaCA9IGF3YWl0IF9nLm5leHQoKSwgX2EgPSBfaC5kb25lLCAhX2E7IF9mID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF9jID0gX2gudmFsdWU7XG4gICAgICAgICAgICAgICAgX2YgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gX2M7XG4gICAgICAgICAgICAgICAgc2luZ2xlTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfZiAmJiAhX2EgJiYgKF9iID0gX2cucmV0dXJuKSkgYXdhaXQgX2IuY2FsbChfZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaW5nbGVNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IG1pc3NpbmcgcmVzcG9uc2UgbWVzc2FnZVwiLCBDb2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgbWVzc2FnZXMgZm9yIGNsaWVudCBzdHJlYW1pbmcgbWV0aG9kXCIsIENvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgKF9lID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9uVHJhaWxlcikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwob3B0aW9ucywgcmVzcG9uc2UudHJhaWxlcik7XG4gICAgICAgIHJldHVybiBzaW5nbGVNZXNzYWdlO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmlEaVN0cmVhbWluZ0ZuKHRyYW5zcG9ydCwgc2VydmljZSwgbWV0aG9kKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJlYW1SZXNwb25zZSh0cmFuc3BvcnQuc3RyZWFtKHNlcnZpY2UsIG1ldGhvZCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXRNcywgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMsIHJlcXVlc3QsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jb250ZXh0VmFsdWVzKSwgb3B0aW9ucyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGl0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgX19hd2FpdChzdHJlYW0pO1xuICAgICAgICAgICAgKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9uSGVhZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCByZXNwb25zZS5oZWFkZXIpO1xuICAgICAgICAgICAgeWllbGQgX19hd2FpdCh5aWVsZCogX19hc3luY0RlbGVnYXRvcihfX2FzeW5jVmFsdWVzKHJlc3BvbnNlLm1lc3NhZ2UpKSk7XG4gICAgICAgICAgICAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub25UcmFpbGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChvcHRpb25zLCByZXNwb25zZS50cmFpbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfSkoKVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAvLyBDcmVhdGUgYSBuZXcgaXRlcmFibGUgdG8gb21pdCB0aHJvdy9yZXR1cm4uXG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4gKHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IGl0Lm5leHQoKSxcbiAgICAgICAgfSksXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/promise-client.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/code-string.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/code-string.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   codeFromString: () => (/* binding */ codeFromString),\n/* harmony export */   codeToString: () => (/* binding */ codeToString)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * codeToString returns the string representation of a Code.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction codeToString(value) {\n    const name = _code_js__WEBPACK_IMPORTED_MODULE_0__.Code[value];\n    if (typeof name != \"string\") {\n        return value.toString();\n    }\n    return (name[0].toLowerCase() +\n        name.substring(1).replace(/[A-Z]/g, (c) => \"_\" + c.toLowerCase()));\n}\nlet stringToCode;\n/**\n * codeFromString parses the string representation of a Code in snake_case.\n * For example, the string \"permission_denied\" parses into Code.PermissionDenied.\n *\n * If the given string cannot be parsed, the function returns undefined.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction codeFromString(value) {\n    if (!stringToCode) {\n        stringToCode = {};\n        for (const value of Object.values(_code_js__WEBPACK_IMPORTED_MODULE_0__.Code)) {\n            if (typeof value == \"string\") {\n                continue;\n            }\n            stringToCode[codeToString(value)] = value;\n        }\n    }\n    return stringToCode[value];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9jb2RlLXN0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxpQkFBaUIsMENBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMENBQTBDLDBDQUFJO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1jb25uZWN0XFxjb2RlLXN0cmluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG4vKipcbiAqIGNvZGVUb1N0cmluZyByZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBDb2RlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29kZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgY29uc3QgbmFtZSA9IENvZGVbdmFsdWVdO1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gKG5hbWVbMF0udG9Mb3dlckNhc2UoKSArXG4gICAgICAgIG5hbWUuc3Vic3RyaW5nKDEpLnJlcGxhY2UoL1tBLVpdL2csIChjKSA9PiBcIl9cIiArIGMudG9Mb3dlckNhc2UoKSkpO1xufVxubGV0IHN0cmluZ1RvQ29kZTtcbi8qKlxuICogY29kZUZyb21TdHJpbmcgcGFyc2VzIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBDb2RlIGluIHNuYWtlX2Nhc2UuXG4gKiBGb3IgZXhhbXBsZSwgdGhlIHN0cmluZyBcInBlcm1pc3Npb25fZGVuaWVkXCIgcGFyc2VzIGludG8gQ29kZS5QZXJtaXNzaW9uRGVuaWVkLlxuICpcbiAqIElmIHRoZSBnaXZlbiBzdHJpbmcgY2Fubm90IGJlIHBhcnNlZCwgdGhlIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29kZUZyb21TdHJpbmcodmFsdWUpIHtcbiAgICBpZiAoIXN0cmluZ1RvQ29kZSkge1xuICAgICAgICBzdHJpbmdUb0NvZGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBPYmplY3QudmFsdWVzKENvZGUpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZ1RvQ29kZVtjb2RlVG9TdHJpbmcodmFsdWUpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdUb0NvZGVbdmFsdWVdO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/code-string.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentTypeRegExp: () => (/* binding */ contentTypeRegExp),\n/* harmony export */   contentTypeStreamJson: () => (/* binding */ contentTypeStreamJson),\n/* harmony export */   contentTypeStreamProto: () => (/* binding */ contentTypeStreamProto),\n/* harmony export */   contentTypeStreamRegExp: () => (/* binding */ contentTypeStreamRegExp),\n/* harmony export */   contentTypeUnaryJson: () => (/* binding */ contentTypeUnaryJson),\n/* harmony export */   contentTypeUnaryProto: () => (/* binding */ contentTypeUnaryProto),\n/* harmony export */   contentTypeUnaryRegExp: () => (/* binding */ contentTypeUnaryRegExp),\n/* harmony export */   parseContentType: () => (/* binding */ parseContentType),\n/* harmony export */   parseEncodingQuery: () => (/* binding */ parseEncodingQuery)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid Connect Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst contentTypeRegExp = /^application\\/(connect\\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i;\n/**\n * Regular Expression that matches a Connect unary Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst contentTypeUnaryRegExp = /^application\\/(?:json(?:; ?charset=utf-?8)?|proto)$/i;\n/**\n * Regular Expression that matches a Connect streaming Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst contentTypeStreamRegExp = /^application\\/connect\\+?(?:json(?:; ?charset=utf-?8)?|proto)$/i;\nconst contentTypeUnaryProto = \"application/proto\";\nconst contentTypeUnaryJson = \"application/json\";\nconst contentTypeStreamProto = \"application/connect+proto\";\nconst contentTypeStreamJson = \"application/connect+json\";\nconst encodingProto = \"proto\";\nconst encodingJson = \"json\";\n/**\n * Parse a Connect Content-Type header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const stream = !!match[1];\n    const binary = !!match[3];\n    return { stream, binary };\n}\n/**\n * Parse a Connect Get encoding query parameter.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseEncodingQuery(encoding) {\n    switch (encoding) {\n        case encodingProto:\n            return { stream: false, binary: true };\n        case encodingJson:\n            return { stream: false, binary: false };\n        default:\n            return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9jb250ZW50LXR5cGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUVBQW1FO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywwREFBMEQ7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcY29udGVudC10eXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIFJlZ3VsYXIgRXhwcmVzc2lvbiB0aGF0IG1hdGNoZXMgYW55IHZhbGlkIENvbm5lY3QgQ29udGVudC1UeXBlIGhlYWRlciB2YWx1ZS5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlUmVnRXhwID0gL15hcHBsaWNhdGlvblxcLyhjb25uZWN0XFwrKT8oPzooanNvbikoPzo7ID9jaGFyc2V0PXV0Zi0/OCk/fChwcm90bykpJC9pO1xuLyoqXG4gKiBSZWd1bGFyIEV4cHJlc3Npb24gdGhhdCBtYXRjaGVzIGEgQ29ubmVjdCB1bmFyeSBDb250ZW50LVR5cGUgaGVhZGVyIHZhbHVlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgY29udGVudFR5cGVVbmFyeVJlZ0V4cCA9IC9eYXBwbGljYXRpb25cXC8oPzpqc29uKD86OyA/Y2hhcnNldD11dGYtPzgpP3xwcm90bykkL2k7XG4vKipcbiAqIFJlZ3VsYXIgRXhwcmVzc2lvbiB0aGF0IG1hdGNoZXMgYSBDb25uZWN0IHN0cmVhbWluZyBDb250ZW50LVR5cGUgaGVhZGVyIHZhbHVlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgY29udGVudFR5cGVTdHJlYW1SZWdFeHAgPSAvXmFwcGxpY2F0aW9uXFwvY29ubmVjdFxcKz8oPzpqc29uKD86OyA/Y2hhcnNldD11dGYtPzgpP3xwcm90bykkL2k7XG5leHBvcnQgY29uc3QgY29udGVudFR5cGVVbmFyeVByb3RvID0gXCJhcHBsaWNhdGlvbi9wcm90b1wiO1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlVW5hcnlKc29uID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG5leHBvcnQgY29uc3QgY29udGVudFR5cGVTdHJlYW1Qcm90byA9IFwiYXBwbGljYXRpb24vY29ubmVjdCtwcm90b1wiO1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlU3RyZWFtSnNvbiA9IFwiYXBwbGljYXRpb24vY29ubmVjdCtqc29uXCI7XG5jb25zdCBlbmNvZGluZ1Byb3RvID0gXCJwcm90b1wiO1xuY29uc3QgZW5jb2RpbmdKc29uID0gXCJqc29uXCI7XG4vKipcbiAqIFBhcnNlIGEgQ29ubmVjdCBDb250ZW50LVR5cGUgaGVhZGVyLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb250ZW50VHlwZShjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IG1hdGNoID0gY29udGVudFR5cGUgPT09IG51bGwgfHwgY29udGVudFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRUeXBlLm1hdGNoKGNvbnRlbnRUeXBlUmVnRXhwKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHN0cmVhbSA9ICEhbWF0Y2hbMV07XG4gICAgY29uc3QgYmluYXJ5ID0gISFtYXRjaFszXTtcbiAgICByZXR1cm4geyBzdHJlYW0sIGJpbmFyeSB9O1xufVxuLyoqXG4gKiBQYXJzZSBhIENvbm5lY3QgR2V0IGVuY29kaW5nIHF1ZXJ5IHBhcmFtZXRlci5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRW5jb2RpbmdRdWVyeShlbmNvZGluZykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgICAgY2FzZSBlbmNvZGluZ1Byb3RvOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3RyZWFtOiBmYWxzZSwgYmluYXJ5OiB0cnVlIH07XG4gICAgICAgIGNhc2UgZW5jb2RpbmdKc29uOlxuICAgICAgICAgICAgcmV0dXJuIHsgc3RyZWFtOiBmYWxzZSwgYmluYXJ5OiBmYWxzZSB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/end-stream.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/end-stream.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEndStreamSerialization: () => (/* binding */ createEndStreamSerialization),\n/* harmony export */   endStreamFlag: () => (/* binding */ endStreamFlag),\n/* harmony export */   endStreamFromJson: () => (/* binding */ endStreamFromJson),\n/* harmony export */   endStreamToJson: () => (/* binding */ endStreamToJson)\n/* harmony export */ });\n/* harmony import */ var _error_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error-json.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js\");\n/* harmony import */ var _http_headers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../http-headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/http-headers.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * endStreamFlag indicates that the data in a EnvelopedMessage\n * is a EndStreamResponse of the Connect protocol.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst endStreamFlag = 0b00000010;\n/**\n * Parse an EndStreamResponse of the Connect protocol.\n * Throws a ConnectError on malformed input.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction endStreamFromJson(data) {\n    const parseErr = new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"invalid end stream\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Unknown);\n    let jsonValue;\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        jsonValue = JSON.parse(typeof data == \"string\" ? data : new TextDecoder().decode(data));\n    }\n    catch (e) {\n        throw parseErr;\n    }\n    if (typeof jsonValue != \"object\" ||\n        jsonValue == null ||\n        Array.isArray(jsonValue)) {\n        throw parseErr;\n    }\n    const metadata = new Headers();\n    if (\"metadata\" in jsonValue) {\n        if (typeof jsonValue.metadata != \"object\" ||\n            jsonValue.metadata == null ||\n            Array.isArray(jsonValue.metadata)) {\n            throw parseErr;\n        }\n        for (const [key, values] of Object.entries(jsonValue.metadata)) {\n            if (!Array.isArray(values) ||\n                values.some((value) => typeof value != \"string\")) {\n                throw parseErr;\n            }\n            for (const value of values) {\n                metadata.append(key, value);\n            }\n        }\n    }\n    const error = \"error\" in jsonValue && jsonValue.error != null\n        ? (0,_error_json_js__WEBPACK_IMPORTED_MODULE_2__.errorFromJson)(jsonValue.error, metadata, parseErr)\n        : undefined;\n    return { metadata, error };\n}\n/**\n * Serialize the given EndStreamResponse to JSON.\n *\n * The JSON serialization options are required to produce the optional\n * human-readable representation of error details if the detail uses\n * google.protobuf.Any.\n *\n * See https://connectrpc.com/docs/protocol#error-end-stream\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction endStreamToJson(metadata, error, jsonWriteOptions) {\n    const es = {};\n    if (error !== undefined) {\n        es.error = (0,_error_json_js__WEBPACK_IMPORTED_MODULE_2__.errorToJson)(error, jsonWriteOptions);\n        metadata = (0,_http_headers_js__WEBPACK_IMPORTED_MODULE_3__.appendHeaders)(metadata, error.metadata);\n    }\n    let hasMetadata = false;\n    const md = {};\n    metadata.forEach((value, key) => {\n        hasMetadata = true;\n        md[key] = [value];\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (hasMetadata) {\n        es.metadata = md;\n    }\n    return es;\n}\n/**\n * Create a Serialization object that serializes a Connect EndStreamResponse.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createEndStreamSerialization(options) {\n    const textEncoder = new TextEncoder();\n    return {\n        serialize(data) {\n            try {\n                const jsonObject = endStreamToJson(data.metadata, data.error, options);\n                const jsonString = JSON.stringify(jsonObject);\n                return textEncoder.encode(jsonString);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`failed to serialize EndStreamResponse: ${m}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Internal);\n            }\n        },\n        parse(data) {\n            try {\n                return endStreamFromJson(data);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`failed to parse EndStreamResponse: ${m}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument);\n            }\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9lbmQtc3RyZWFtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkQ7QUFDVjtBQUNBO0FBQ2pCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx5QkFBeUIsMkRBQVksdUJBQXVCLDBDQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw2REFBYTtBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUIsMkRBQVc7QUFDOUIsbUJBQW1CLCtEQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBWSwyQ0FBMkMsRUFBRSxHQUFHLDBDQUFJO0FBQzFGO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBWSx1Q0FBdUMsRUFBRSxHQUFHLDBDQUFJO0FBQ3RGO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1jb25uZWN0XFxlbmQtc3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBlcnJvckZyb21Kc29uLCBlcnJvclRvSnNvbiB9IGZyb20gXCIuL2Vycm9yLWpzb24uanNcIjtcbmltcG9ydCB7IGFwcGVuZEhlYWRlcnMgfSBmcm9tIFwiLi4vaHR0cC1oZWFkZXJzLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG4vKipcbiAqIGVuZFN0cmVhbUZsYWcgaW5kaWNhdGVzIHRoYXQgdGhlIGRhdGEgaW4gYSBFbnZlbG9wZWRNZXNzYWdlXG4gKiBpcyBhIEVuZFN0cmVhbVJlc3BvbnNlIG9mIHRoZSBDb25uZWN0IHByb3RvY29sLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgZW5kU3RyZWFtRmxhZyA9IDBiMDAwMDAwMTA7XG4vKipcbiAqIFBhcnNlIGFuIEVuZFN0cmVhbVJlc3BvbnNlIG9mIHRoZSBDb25uZWN0IHByb3RvY29sLlxuICogVGhyb3dzIGEgQ29ubmVjdEVycm9yIG9uIG1hbGZvcm1lZCBpbnB1dC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZFN0cmVhbUZyb21Kc29uKGRhdGEpIHtcbiAgICBjb25zdCBwYXJzZUVyciA9IG5ldyBDb25uZWN0RXJyb3IoXCJpbnZhbGlkIGVuZCBzdHJlYW1cIiwgQ29kZS5Vbmtub3duKTtcbiAgICBsZXQganNvblZhbHVlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAganNvblZhbHVlID0gSlNPTi5wYXJzZSh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiID8gZGF0YSA6IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShkYXRhKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IHBhcnNlRXJyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGpzb25WYWx1ZSAhPSBcIm9iamVjdFwiIHx8XG4gICAgICAgIGpzb25WYWx1ZSA9PSBudWxsIHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkoanNvblZhbHVlKSkge1xuICAgICAgICB0aHJvdyBwYXJzZUVycjtcbiAgICB9XG4gICAgY29uc3QgbWV0YWRhdGEgPSBuZXcgSGVhZGVycygpO1xuICAgIGlmIChcIm1ldGFkYXRhXCIgaW4ganNvblZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YganNvblZhbHVlLm1ldGFkYXRhICE9IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIGpzb25WYWx1ZS5tZXRhZGF0YSA9PSBudWxsIHx8XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KGpzb25WYWx1ZS5tZXRhZGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IHBhcnNlRXJyO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhqc29uVmFsdWUubWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSB8fFxuICAgICAgICAgICAgICAgIHZhbHVlcy5zb21lKCh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcGFyc2VFcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IFwiZXJyb3JcIiBpbiBqc29uVmFsdWUgJiYganNvblZhbHVlLmVycm9yICE9IG51bGxcbiAgICAgICAgPyBlcnJvckZyb21Kc29uKGpzb25WYWx1ZS5lcnJvciwgbWV0YWRhdGEsIHBhcnNlRXJyKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4geyBtZXRhZGF0YSwgZXJyb3IgfTtcbn1cbi8qKlxuICogU2VyaWFsaXplIHRoZSBnaXZlbiBFbmRTdHJlYW1SZXNwb25zZSB0byBKU09OLlxuICpcbiAqIFRoZSBKU09OIHNlcmlhbGl6YXRpb24gb3B0aW9ucyBhcmUgcmVxdWlyZWQgdG8gcHJvZHVjZSB0aGUgb3B0aW9uYWxcbiAqIGh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uIG9mIGVycm9yIGRldGFpbHMgaWYgdGhlIGRldGFpbCB1c2VzXG4gKiBnb29nbGUucHJvdG9idWYuQW55LlxuICpcbiAqIFNlZSBodHRwczovL2Nvbm5lY3RycGMuY29tL2RvY3MvcHJvdG9jb2wjZXJyb3ItZW5kLXN0cmVhbVxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kU3RyZWFtVG9Kc29uKG1ldGFkYXRhLCBlcnJvciwganNvbldyaXRlT3B0aW9ucykge1xuICAgIGNvbnN0IGVzID0ge307XG4gICAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXMuZXJyb3IgPSBlcnJvclRvSnNvbihlcnJvciwganNvbldyaXRlT3B0aW9ucyk7XG4gICAgICAgIG1ldGFkYXRhID0gYXBwZW5kSGVhZGVycyhtZXRhZGF0YSwgZXJyb3IubWV0YWRhdGEpO1xuICAgIH1cbiAgICBsZXQgaGFzTWV0YWRhdGEgPSBmYWxzZTtcbiAgICBjb25zdCBtZCA9IHt9O1xuICAgIG1ldGFkYXRhLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgaGFzTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICBtZFtrZXldID0gW3ZhbHVlXTtcbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgIGlmIChoYXNNZXRhZGF0YSkge1xuICAgICAgICBlcy5tZXRhZGF0YSA9IG1kO1xuICAgIH1cbiAgICByZXR1cm4gZXM7XG59XG4vKipcbiAqIENyZWF0ZSBhIFNlcmlhbGl6YXRpb24gb2JqZWN0IHRoYXQgc2VyaWFsaXplcyBhIENvbm5lY3QgRW5kU3RyZWFtUmVzcG9uc2UuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbmRTdHJlYW1TZXJpYWxpemF0aW9uKG9wdGlvbnMpIHtcbiAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25PYmplY3QgPSBlbmRTdHJlYW1Ub0pzb24oZGF0YS5tZXRhZGF0YSwgZGF0YS5lcnJvciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0RW5jb2Rlci5lbmNvZGUoanNvblN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihgZmFpbGVkIHRvIHNlcmlhbGl6ZSBFbmRTdHJlYW1SZXNwb25zZTogJHttfWAsIENvZGUuSW50ZXJuYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwYXJzZShkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmRTdHJlYW1Gcm9tSnNvbihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFN0cmluZyhlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBmYWlsZWQgdG8gcGFyc2UgRW5kU3RyZWFtUmVzcG9uc2U6ICR7bX1gLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/end-stream.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   errorFromJson: () => (/* binding */ errorFromJson),\n/* harmony export */   errorFromJsonBytes: () => (/* binding */ errorFromJsonBytes),\n/* harmony export */   errorToJson: () => (/* binding */ errorToJson),\n/* harmony export */   errorToJsonBytes: () => (/* binding */ errorToJsonBytes)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/proto-base64.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./code-string.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/code-string.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n/**\n * Parse a Connect error from a JSON value.\n * Will return a ConnectError, and throw the provided fallback if parsing failed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction errorFromJson(jsonValue, metadata, fallback) {\n    var _a;\n    if (metadata) {\n        new Headers(metadata).forEach((value, key) => fallback.metadata.append(key, value));\n    }\n    if (typeof jsonValue !== \"object\" ||\n        jsonValue == null ||\n        Array.isArray(jsonValue)) {\n        throw fallback;\n    }\n    let code = fallback.code;\n    if (\"code\" in jsonValue && typeof jsonValue.code === \"string\") {\n        code = (_a = (0,_code_string_js__WEBPACK_IMPORTED_MODULE_0__.codeFromString)(jsonValue.code)) !== null && _a !== void 0 ? _a : code;\n    }\n    const message = jsonValue.message;\n    if (message != null && typeof message !== \"string\") {\n        throw fallback;\n    }\n    const error = new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(message !== null && message !== void 0 ? message : \"\", code, metadata);\n    if (\"details\" in jsonValue && Array.isArray(jsonValue.details)) {\n        for (const detail of jsonValue.details) {\n            if (detail === null ||\n                typeof detail != \"object\" ||\n                Array.isArray(detail) ||\n                typeof detail.type != \"string\" ||\n                typeof detail.value != \"string\") {\n                throw fallback;\n            }\n            try {\n                error.details.push({\n                    type: detail.type,\n                    value: _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.protoBase64.dec(detail.value),\n                    debug: detail.debug,\n                });\n            }\n            catch (e) {\n                throw fallback;\n            }\n        }\n    }\n    return error;\n}\n/**\n * Parse a Connect error from a serialized JSON value.\n * Will return a ConnectError, and throw the provided fallback if parsing failed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction errorFromJsonBytes(bytes, metadata, fallback) {\n    let jsonValue;\n    try {\n        jsonValue = JSON.parse(new TextDecoder().decode(bytes));\n    }\n    catch (e) {\n        throw fallback;\n    }\n    return errorFromJson(jsonValue, metadata, fallback);\n}\n/**\n * Serialize the given error to JSON.\n *\n * The JSON serialization options are required to produce the optional\n * human-readable representation in the \"debug\" key if the detail uses\n * google.protobuf.Any. If serialization of the \"debug\" value fails, it\n * is silently disregarded.\n *\n * See https://connectrpc.com/docs/protocol#error-end-stream\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction errorToJson(error, jsonWriteOptions) {\n    const o = {\n        code: (0,_code_string_js__WEBPACK_IMPORTED_MODULE_0__.codeToString)(error.code),\n    };\n    if (error.rawMessage.length > 0) {\n        o.message = error.rawMessage;\n    }\n    if (error.details.length > 0) {\n        o.details = error.details\n            .map((value) => {\n            if (\"getType\" in value) {\n                const i = {\n                    type: value.getType().typeName,\n                    value: value.toBinary(),\n                };\n                try {\n                    i.debug = value.toJson(jsonWriteOptions);\n                }\n                catch (e) {\n                    // We deliberately ignore errors that may occur when serializing\n                    // a message to JSON (the message contains an Any).\n                    // The rationale is that we are only trying to provide optional\n                    // debug information.\n                }\n                return i;\n            }\n            return value;\n        })\n            .map((_a) => {\n            var { value } = _a, rest = __rest(_a, [\"value\"]);\n            return (Object.assign(Object.assign({}, rest), { value: _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.protoBase64.enc(value).replace(/=+$/, \"\") }));\n        });\n    }\n    return o;\n}\n/**\n * Serialize the given error to JSON. This calls errorToJson(), but stringifies\n * the result, and converts it into a UInt8Array.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction errorToJsonBytes(error, jsonWriteOptions) {\n    const textEncoder = new TextEncoder();\n    try {\n        const jsonObject = errorToJson(error, jsonWriteOptions);\n        const jsonString = JSON.stringify(jsonObject);\n        return textEncoder.encode(jsonString);\n    }\n    catch (e) {\n        const m = e instanceof Error ? e.message : String(e);\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`failed to serialize Connect Error: ${m}`, _code_js__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9lcnJvci1qc29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpRDtBQUNmO0FBQ2lCO0FBQ2E7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJEQUFXO0FBQ3RDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxjQUFjLDZEQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixRQUFRO0FBQzFCLGtEQUFrRCxXQUFXLE9BQU8sMkRBQVcsZ0NBQWdDO0FBQy9HLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQVksdUNBQXVDLEVBQUUsR0FBRywwQ0FBSTtBQUM5RTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcZXJyb3ItanNvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgcHJvdG9CYXNlNjQgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBjb2RlRnJvbVN0cmluZywgY29kZVRvU3RyaW5nIH0gZnJvbSBcIi4vY29kZS1zdHJpbmcuanNcIjtcbi8qKlxuICogUGFyc2UgYSBDb25uZWN0IGVycm9yIGZyb20gYSBKU09OIHZhbHVlLlxuICogV2lsbCByZXR1cm4gYSBDb25uZWN0RXJyb3IsIGFuZCB0aHJvdyB0aGUgcHJvdmlkZWQgZmFsbGJhY2sgaWYgcGFyc2luZyBmYWlsZWQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvckZyb21Kc29uKGpzb25WYWx1ZSwgbWV0YWRhdGEsIGZhbGxiYWNrKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICBuZXcgSGVhZGVycyhtZXRhZGF0YSkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gZmFsbGJhY2subWV0YWRhdGEuYXBwZW5kKGtleSwgdmFsdWUpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBqc29uVmFsdWUgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAganNvblZhbHVlID09IG51bGwgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShqc29uVmFsdWUpKSB7XG4gICAgICAgIHRocm93IGZhbGxiYWNrO1xuICAgIH1cbiAgICBsZXQgY29kZSA9IGZhbGxiYWNrLmNvZGU7XG4gICAgaWYgKFwiY29kZVwiIGluIGpzb25WYWx1ZSAmJiB0eXBlb2YganNvblZhbHVlLmNvZGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29kZSA9IChfYSA9IGNvZGVGcm9tU3RyaW5nKGpzb25WYWx1ZS5jb2RlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29kZTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IGpzb25WYWx1ZS5tZXNzYWdlO1xuICAgIGlmIChtZXNzYWdlICE9IG51bGwgJiYgdHlwZW9mIG1lc3NhZ2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgZmFsbGJhY2s7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yID0gbmV3IENvbm5lY3RFcnJvcihtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBcIlwiLCBjb2RlLCBtZXRhZGF0YSk7XG4gICAgaWYgKFwiZGV0YWlsc1wiIGluIGpzb25WYWx1ZSAmJiBBcnJheS5pc0FycmF5KGpzb25WYWx1ZS5kZXRhaWxzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGRldGFpbCBvZiBqc29uVmFsdWUuZGV0YWlscykge1xuICAgICAgICAgICAgaWYgKGRldGFpbCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBkZXRhaWwgIT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZGV0YWlsKSB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBkZXRhaWwudHlwZSAhPSBcInN0cmluZ1wiIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGRldGFpbC52YWx1ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVycm9yLmRldGFpbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGRldGFpbC50eXBlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvdG9CYXNlNjQuZGVjKGRldGFpbC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnOiBkZXRhaWwuZGVidWcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IGZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbi8qKlxuICogUGFyc2UgYSBDb25uZWN0IGVycm9yIGZyb20gYSBzZXJpYWxpemVkIEpTT04gdmFsdWUuXG4gKiBXaWxsIHJldHVybiBhIENvbm5lY3RFcnJvciwgYW5kIHRocm93IHRoZSBwcm92aWRlZCBmYWxsYmFjayBpZiBwYXJzaW5nIGZhaWxlZC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yRnJvbUpzb25CeXRlcyhieXRlcywgbWV0YWRhdGEsIGZhbGxiYWNrKSB7XG4gICAgbGV0IGpzb25WYWx1ZTtcbiAgICB0cnkge1xuICAgICAgICBqc29uVmFsdWUgPSBKU09OLnBhcnNlKG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcykpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yRnJvbUpzb24oanNvblZhbHVlLCBtZXRhZGF0YSwgZmFsbGJhY2spO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGdpdmVuIGVycm9yIHRvIEpTT04uXG4gKlxuICogVGhlIEpTT04gc2VyaWFsaXphdGlvbiBvcHRpb25zIGFyZSByZXF1aXJlZCB0byBwcm9kdWNlIHRoZSBvcHRpb25hbFxuICogaHVtYW4tcmVhZGFibGUgcmVwcmVzZW50YXRpb24gaW4gdGhlIFwiZGVidWdcIiBrZXkgaWYgdGhlIGRldGFpbCB1c2VzXG4gKiBnb29nbGUucHJvdG9idWYuQW55LiBJZiBzZXJpYWxpemF0aW9uIG9mIHRoZSBcImRlYnVnXCIgdmFsdWUgZmFpbHMsIGl0XG4gKiBpcyBzaWxlbnRseSBkaXNyZWdhcmRlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9jb25uZWN0cnBjLmNvbS9kb2NzL3Byb3RvY29sI2Vycm9yLWVuZC1zdHJlYW1cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yVG9Kc29uKGVycm9yLCBqc29uV3JpdGVPcHRpb25zKSB7XG4gICAgY29uc3QgbyA9IHtcbiAgICAgICAgY29kZTogY29kZVRvU3RyaW5nKGVycm9yLmNvZGUpLFxuICAgIH07XG4gICAgaWYgKGVycm9yLnJhd01lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICBvLm1lc3NhZ2UgPSBlcnJvci5yYXdNZXNzYWdlO1xuICAgIH1cbiAgICBpZiAoZXJyb3IuZGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG8uZGV0YWlscyA9IGVycm9yLmRldGFpbHNcbiAgICAgICAgICAgIC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoXCJnZXRUeXBlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZS5nZXRUeXBlKCkudHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS50b0JpbmFyeSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaS5kZWJ1ZyA9IHZhbHVlLnRvSnNvbihqc29uV3JpdGVPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGVsaWJlcmF0ZWx5IGlnbm9yZSBlcnJvcnMgdGhhdCBtYXkgb2NjdXIgd2hlbiBzZXJpYWxpemluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG1lc3NhZ2UgdG8gSlNPTiAodGhlIG1lc3NhZ2UgY29udGFpbnMgYW4gQW55KS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJhdGlvbmFsZSBpcyB0aGF0IHdlIGFyZSBvbmx5IHRyeWluZyB0byBwcm92aWRlIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5tYXAoKF9hKSA9PiB7XG4gICAgICAgICAgICB2YXIgeyB2YWx1ZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInZhbHVlXCJdKTtcbiAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXN0KSwgeyB2YWx1ZTogcHJvdG9CYXNlNjQuZW5jKHZhbHVlKS5yZXBsYWNlKC89KyQvLCBcIlwiKSB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbztcbn1cbi8qKlxuICogU2VyaWFsaXplIHRoZSBnaXZlbiBlcnJvciB0byBKU09OLiBUaGlzIGNhbGxzIGVycm9yVG9Kc29uKCksIGJ1dCBzdHJpbmdpZmllc1xuICogdGhlIHJlc3VsdCwgYW5kIGNvbnZlcnRzIGl0IGludG8gYSBVSW50OEFycmF5LlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JUb0pzb25CeXRlcyhlcnJvciwganNvbldyaXRlT3B0aW9ucykge1xuICAgIGNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QganNvbk9iamVjdCA9IGVycm9yVG9Kc29uKGVycm9yLCBqc29uV3JpdGVPcHRpb25zKTtcbiAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb25PYmplY3QpO1xuICAgICAgICByZXR1cm4gdGV4dEVuY29kZXIuZW5jb2RlKGpzb25TdHJpbmcpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBtID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBmYWlsZWQgdG8gc2VyaWFsaXplIENvbm5lY3QgRXJyb3I6ICR7bX1gLCBDb2RlLkludGVybmFsKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/get-request.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/get-request.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transformConnectPostToGetRequest: () => (/* binding */ transformConnectPostToGetRequest)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/proto-base64.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./version.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\nconst contentTypePrefix = \"application/\";\nfunction encodeMessageForUrl(message, useBase64) {\n    if (useBase64) {\n        // TODO(jchadwick-buf): Three regex replaces seems excessive.\n        // Can we make protoBase64.enc more flexible?\n        return _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__.protoBase64\n            .enc(message)\n            .replace(/\\+/g, \"-\")\n            .replace(/\\//g, \"_\")\n            .replace(/=+$/, \"\");\n    }\n    else {\n        return encodeURIComponent(new TextDecoder().decode(message));\n    }\n}\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformConnectPostToGetRequest(request, message, useBase64) {\n    let query = `?connect=v${_version_js__WEBPACK_IMPORTED_MODULE_1__.protocolVersion}`;\n    const contentType = request.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerContentType);\n    if ((contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(contentTypePrefix)) === 0) {\n        query +=\n            \"&encoding=\" +\n                encodeURIComponent(contentType.slice(contentTypePrefix.length));\n    }\n    const compression = request.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerUnaryEncoding);\n    if (compression !== null && compression !== \"identity\") {\n        query += \"&compression=\" + encodeURIComponent(compression);\n        // Force base64 for compressed payloads.\n        useBase64 = true;\n    }\n    if (useBase64) {\n        query += \"&base64=1\";\n    }\n    query += \"&message=\" + encodeMessageForUrl(message, useBase64);\n    const url = request.url + query;\n    // Omit headers that are not used for unary GET requests.\n    const header = new Headers(request.header);\n    [\n        _headers_js__WEBPACK_IMPORTED_MODULE_2__.headerProtocolVersion,\n        _headers_js__WEBPACK_IMPORTED_MODULE_2__.headerContentType,\n        _headers_js__WEBPACK_IMPORTED_MODULE_2__.headerUnaryContentLength,\n        _headers_js__WEBPACK_IMPORTED_MODULE_2__.headerUnaryEncoding,\n        _headers_js__WEBPACK_IMPORTED_MODULE_2__.headerUnaryAcceptEncoding,\n    ].forEach((h) => header.delete(h));\n    return Object.assign(Object.assign({}, request), { init: Object.assign(Object.assign({}, request.init), { method: \"GET\" }), url,\n        header });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9nZXQtcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMEQ7QUFDeUY7QUFDcEc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkRBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkIsd0RBQWUsQ0FBQztBQUM3QywyQ0FBMkMsMERBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsNERBQW1CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4REFBcUI7QUFDN0IsUUFBUSwwREFBaUI7QUFDekIsUUFBUSxpRUFBd0I7QUFDaEMsUUFBUSw0REFBbUI7QUFDM0IsUUFBUSxrRUFBeUI7QUFDakM7QUFDQSx5Q0FBeUMsY0FBYyxvQ0FBb0MsbUJBQW1CLGVBQWU7QUFDN0gsZ0JBQWdCO0FBQ2hCIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcZ2V0LXJlcXVlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IE1lc3NhZ2UsIHByb3RvQmFzZTY0IH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgaGVhZGVyQ29udGVudFR5cGUsIGhlYWRlclByb3RvY29sVmVyc2lvbiwgaGVhZGVyVW5hcnlBY2NlcHRFbmNvZGluZywgaGVhZGVyVW5hcnlDb250ZW50TGVuZ3RoLCBoZWFkZXJVbmFyeUVuY29kaW5nLCB9IGZyb20gXCIuL2hlYWRlcnMuanNcIjtcbmltcG9ydCB7IHByb3RvY29sVmVyc2lvbiB9IGZyb20gXCIuL3ZlcnNpb24uanNcIjtcbmNvbnN0IGNvbnRlbnRUeXBlUHJlZml4ID0gXCJhcHBsaWNhdGlvbi9cIjtcbmZ1bmN0aW9uIGVuY29kZU1lc3NhZ2VGb3JVcmwobWVzc2FnZSwgdXNlQmFzZTY0KSB7XG4gICAgaWYgKHVzZUJhc2U2NCkge1xuICAgICAgICAvLyBUT0RPKGpjaGFkd2ljay1idWYpOiBUaHJlZSByZWdleCByZXBsYWNlcyBzZWVtcyBleGNlc3NpdmUuXG4gICAgICAgIC8vIENhbiB3ZSBtYWtlIHByb3RvQmFzZTY0LmVuYyBtb3JlIGZsZXhpYmxlP1xuICAgICAgICByZXR1cm4gcHJvdG9CYXNlNjRcbiAgICAgICAgICAgIC5lbmMobWVzc2FnZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCsvZywgXCItXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvL2csIFwiX1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLz0rJC8sIFwiXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUobWVzc2FnZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1Db25uZWN0UG9zdFRvR2V0UmVxdWVzdChyZXF1ZXN0LCBtZXNzYWdlLCB1c2VCYXNlNjQpIHtcbiAgICBsZXQgcXVlcnkgPSBgP2Nvbm5lY3Q9diR7cHJvdG9jb2xWZXJzaW9ufWA7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlci5nZXQoaGVhZGVyQ29udGVudFR5cGUpO1xuICAgIGlmICgoY29udGVudFR5cGUgPT09IG51bGwgfHwgY29udGVudFR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnRUeXBlLmluZGV4T2YoY29udGVudFR5cGVQcmVmaXgpKSA9PT0gMCkge1xuICAgICAgICBxdWVyeSArPVxuICAgICAgICAgICAgXCImZW5jb2Rpbmc9XCIgK1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChjb250ZW50VHlwZS5zbGljZShjb250ZW50VHlwZVByZWZpeC5sZW5ndGgpKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHJlc3Npb24gPSByZXF1ZXN0LmhlYWRlci5nZXQoaGVhZGVyVW5hcnlFbmNvZGluZyk7XG4gICAgaWYgKGNvbXByZXNzaW9uICE9PSBudWxsICYmIGNvbXByZXNzaW9uICE9PSBcImlkZW50aXR5XCIpIHtcbiAgICAgICAgcXVlcnkgKz0gXCImY29tcHJlc3Npb249XCIgKyBlbmNvZGVVUklDb21wb25lbnQoY29tcHJlc3Npb24pO1xuICAgICAgICAvLyBGb3JjZSBiYXNlNjQgZm9yIGNvbXByZXNzZWQgcGF5bG9hZHMuXG4gICAgICAgIHVzZUJhc2U2NCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh1c2VCYXNlNjQpIHtcbiAgICAgICAgcXVlcnkgKz0gXCImYmFzZTY0PTFcIjtcbiAgICB9XG4gICAgcXVlcnkgKz0gXCImbWVzc2FnZT1cIiArIGVuY29kZU1lc3NhZ2VGb3JVcmwobWVzc2FnZSwgdXNlQmFzZTY0KTtcbiAgICBjb25zdCB1cmwgPSByZXF1ZXN0LnVybCArIHF1ZXJ5O1xuICAgIC8vIE9taXQgaGVhZGVycyB0aGF0IGFyZSBub3QgdXNlZCBmb3IgdW5hcnkgR0VUIHJlcXVlc3RzLlxuICAgIGNvbnN0IGhlYWRlciA9IG5ldyBIZWFkZXJzKHJlcXVlc3QuaGVhZGVyKTtcbiAgICBbXG4gICAgICAgIGhlYWRlclByb3RvY29sVmVyc2lvbixcbiAgICAgICAgaGVhZGVyQ29udGVudFR5cGUsXG4gICAgICAgIGhlYWRlclVuYXJ5Q29udGVudExlbmd0aCxcbiAgICAgICAgaGVhZGVyVW5hcnlFbmNvZGluZyxcbiAgICAgICAgaGVhZGVyVW5hcnlBY2NlcHRFbmNvZGluZyxcbiAgICBdLmZvckVhY2goKGgpID0+IGhlYWRlci5kZWxldGUoaCkpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3QpLCB7IGluaXQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdC5pbml0KSwgeyBtZXRob2Q6IFwiR0VUXCIgfSksIHVybCxcbiAgICAgICAgaGVhZGVyIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/get-request.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/handler-factory.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/handler-factory.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandlerFactory: () => (/* binding */ createHandlerFactory)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/proto-base64.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _implementation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js\");\n/* harmony import */ var _end_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./end-stream.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/end-stream.js\");\n/* harmony import */ var _error_json_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./error-json.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n/* harmony import */ var _http_status_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./http-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/http-status.js\");\n/* harmony import */ var _parse_timeout_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parse-timeout.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/parse-timeout.js\");\n/* harmony import */ var _query_params_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./query-params.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/query-params.js\");\n/* harmony import */ var _trailer_mux_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./trailer-mux.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./version.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js\");\n/* harmony import */ var _protocol_compression_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../protocol/compression.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js\");\n/* harmony import */ var _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../protocol/universal.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../protocol/content-type-matcher.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../protocol/invoke-implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst protocolName = \"connect\";\nconst methodPost = \"POST\";\nconst methodGet = \"GET\";\n/**\n * Create a factory that creates Connect handlers.\n */\nfunction createHandlerFactory(options) {\n    const opt = (0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.validateUniversalHandlerOptions)(options);\n    const endStreamSerialization = (0,_end_stream_js__WEBPACK_IMPORTED_MODULE_1__.createEndStreamSerialization)(opt.jsonOptions);\n    function fact(spec) {\n        let h;\n        let contentTypeRegExp;\n        const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_2__.createMethodSerializationLookup)(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n        switch (spec.kind) {\n            case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.MethodKind.Unary:\n                contentTypeRegExp = _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeUnaryRegExp;\n                h = createUnaryHandler(opt, spec, serialization);\n                break;\n            default:\n                contentTypeRegExp = _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeStreamRegExp;\n                h = createStreamHandler(opt, spec, serialization, endStreamSerialization);\n                break;\n        }\n        const allowedMethods = [methodPost];\n        if (spec.method.idempotency === _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.MethodIdempotency.NoSideEffects) {\n            allowedMethods.push(methodGet);\n        }\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            supportedContentType: (0,_protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_5__.contentTypeMatcher)(contentTypeRegExp),\n            allowedMethods,\n            requestPath: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_6__.createMethodUrl)(\"/\", spec.service, spec.method),\n            service: spec.service,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createUnaryHandler(opt, spec, serialization) {\n    return async function handle(req) {\n        const isGet = req.method == methodGet;\n        if (isGet && spec.method.idempotency != _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.MethodIdempotency.NoSideEffects) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseMethodNotAllowed;\n        }\n        const queryParams = new URL(req.url).searchParams;\n        const compressionRequested = isGet\n            ? queryParams.get(_query_params_js__WEBPACK_IMPORTED_MODULE_8__.paramCompression)\n            : req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryEncoding);\n        const type = isGet\n            ? (0,_content_type_js__WEBPACK_IMPORTED_MODULE_4__.parseEncodingQuery)(queryParams.get(_query_params_js__WEBPACK_IMPORTED_MODULE_8__.paramEncoding))\n            : (0,_content_type_js__WEBPACK_IMPORTED_MODULE_4__.parseContentType)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerContentType));\n        if (type == undefined || type.stream) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseUnsupportedMediaType;\n        }\n        const timeout = (0,_parse_timeout_js__WEBPACK_IMPORTED_MODULE_10__.parseTimeout)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerTimeout), opt.maxTimeoutMs);\n        const context = (0,_implementation_js__WEBPACK_IMPORTED_MODULE_11__.createHandlerContext)(Object.assign(Object.assign({}, spec), { requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerContentType]: type.binary\n                    ? _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeUnaryProto\n                    : _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeUnaryJson,\n            }, contextValues: req.contextValues }));\n        const compression = (0,_protocol_compression_js__WEBPACK_IMPORTED_MODULE_12__.compressionNegotiate)(opt.acceptCompression, compressionRequested, req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryAcceptEncoding), _headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryAcceptEncoding);\n        let status = _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseOk.status;\n        let body;\n        try {\n            if (opt.requireConnectProtocolHeader) {\n                if (isGet) {\n                    (0,_version_js__WEBPACK_IMPORTED_MODULE_13__.requireProtocolVersionParam)(queryParams);\n                }\n                else {\n                    (0,_version_js__WEBPACK_IMPORTED_MODULE_13__.requireProtocolVersionHeader)(req.header);\n                }\n            }\n            // raise compression error to serialize it as a error response\n            if (compression.error) {\n                throw compression.error;\n            }\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error) {\n                throw timeout.error;\n            }\n            let reqBody;\n            if (isGet) {\n                reqBody = await readUnaryMessageFromQuery(opt.readMaxBytes, compression.request, queryParams);\n            }\n            else {\n                reqBody = await readUnaryMessageFromBody(opt.readMaxBytes, compression.request, req);\n            }\n            const input = parseUnaryMessage(spec.method, type.binary, serialization, reqBody);\n            const output = await (0,_protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_14__.invokeUnaryImplementation)(spec, context, input, opt.interceptors);\n            body = serialization.getO(type.binary).serialize(output);\n        }\n        catch (e) {\n            let error;\n            if (e instanceof _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError) {\n                error = e;\n            }\n            else {\n                error = new _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError(\"internal error\", _code_js__WEBPACK_IMPORTED_MODULE_16__.Code.Internal, undefined, undefined, e);\n            }\n            status = (0,_http_status_js__WEBPACK_IMPORTED_MODULE_17__.codeToHttpStatus)(error.code);\n            context.responseHeader.set(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerContentType, _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeUnaryJson);\n            error.metadata.forEach((value, key) => {\n                context.responseHeader.set(key, value);\n            });\n            body = (0,_error_json_js__WEBPACK_IMPORTED_MODULE_18__.errorToJsonBytes)(error, opt.jsonOptions);\n        }\n        finally {\n            context.abort();\n        }\n        if (compression.response && body.byteLength >= opt.compressMinBytes) {\n            body = await compression.response.compress(body);\n            context.responseHeader.set(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryEncoding, compression.response.name);\n        }\n        const header = (0,_trailer_mux_js__WEBPACK_IMPORTED_MODULE_19__.trailerMux)(context.responseHeader, context.responseTrailer);\n        header.set(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryContentLength, body.byteLength.toString(10));\n        return {\n            status,\n            body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.createAsyncIterable)([body]),\n            header,\n        };\n    };\n}\nasync function readUnaryMessageFromBody(readMaxBytes, compression, request) {\n    if (typeof request.body == \"object\" &&\n        request.body !== null &&\n        Symbol.asyncIterator in request.body) {\n        let reqBytes = await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.readAllBytes)(request.body, readMaxBytes, request.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerUnaryContentLength));\n        if (compression) {\n            reqBytes = await compression.decompress(reqBytes, readMaxBytes);\n        }\n        return reqBytes;\n    }\n    return request.body;\n}\nasync function readUnaryMessageFromQuery(readMaxBytes, compression, queryParams) {\n    var _a;\n    const base64 = queryParams.get(_query_params_js__WEBPACK_IMPORTED_MODULE_8__.paramBase64);\n    const message = (_a = queryParams.get(_query_params_js__WEBPACK_IMPORTED_MODULE_8__.paramMessage)) !== null && _a !== void 0 ? _a : \"\";\n    let decoded;\n    if (base64 === \"1\") {\n        decoded = _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_21__.protoBase64.dec(message);\n    }\n    else {\n        decoded = new TextEncoder().encode(message);\n    }\n    if (compression) {\n        decoded = await compression.decompress(decoded, readMaxBytes);\n    }\n    return decoded;\n}\nfunction parseUnaryMessage(method, useBinaryFormat, serialization, input) {\n    if (input instanceof Uint8Array) {\n        return serialization.getI(useBinaryFormat).parse(input);\n    }\n    if (useBinaryFormat) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError(\"received parsed JSON request body, but content-type indicates binary format\", _code_js__WEBPACK_IMPORTED_MODULE_16__.Code.Internal);\n    }\n    try {\n        return method.I.fromJson(input);\n    }\n    catch (e) {\n        throw _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError.from(e, _code_js__WEBPACK_IMPORTED_MODULE_16__.Code.InvalidArgument);\n    }\n}\nfunction createStreamHandler(opt, spec, serialization, endStreamSerialization) {\n    return async function handle(req) {\n        (0,_protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.assertByteStreamRequest)(req);\n        const type = (0,_content_type_js__WEBPACK_IMPORTED_MODULE_4__.parseContentType)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerContentType));\n        if (type == undefined || !type.stream) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseMethodNotAllowed;\n        }\n        const timeout = (0,_parse_timeout_js__WEBPACK_IMPORTED_MODULE_10__.parseTimeout)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerTimeout), opt.maxTimeoutMs);\n        const context = (0,_implementation_js__WEBPACK_IMPORTED_MODULE_11__.createHandlerContext)(Object.assign(Object.assign({}, spec), { requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerContentType]: type.binary\n                    ? _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeStreamProto\n                    : _content_type_js__WEBPACK_IMPORTED_MODULE_4__.contentTypeStreamJson,\n            }, contextValues: req.contextValues }));\n        const compression = (0,_protocol_compression_js__WEBPACK_IMPORTED_MODULE_12__.compressionNegotiate)(opt.acceptCompression, req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerStreamEncoding), req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerStreamAcceptEncoding), _headers_js__WEBPACK_IMPORTED_MODULE_9__.headerStreamAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(_headers_js__WEBPACK_IMPORTED_MODULE_9__.headerStreamEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.pipe)(req.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformPrepend)(() => {\n            if (opt.requireConnectProtocolHeader) {\n                (0,_version_js__WEBPACK_IMPORTED_MODULE_13__.requireProtocolVersionHeader)(req.header);\n            }\n            // raise compression error to serialize it as the end stream response\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformDecompressEnvelope)(compression.request, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformParseEnvelope)(serialization.getI(type.binary), _end_stream_js__WEBPACK_IMPORTED_MODULE_1__.endStreamFlag));\n        const it = (0,_protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_14__.transformInvokeImplementation)(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.pipe)(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformSerializeEnvelope)(serialization.getO(type.binary)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformCatchFinally)((e) => {\n            context.abort();\n            const end = {\n                metadata: context.responseTrailer,\n            };\n            if (e instanceof _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError) {\n                end.error = e;\n            }\n            else if (e !== undefined) {\n                end.error = new _connect_error_js__WEBPACK_IMPORTED_MODULE_15__.ConnectError(\"internal error\", _code_js__WEBPACK_IMPORTED_MODULE_16__.Code.Internal, undefined, undefined, e);\n            }\n            return {\n                flags: _end_stream_js__WEBPACK_IMPORTED_MODULE_1__.endStreamFlag,\n                data: endStreamSerialization.serialize(end),\n            };\n        }), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformCompressEnvelope)(compression.response, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.transformJoinEnvelopes)(), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, _protocol_universal_js__WEBPACK_IMPORTED_MODULE_7__.uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_20__.untilFirst)(outputIt), header: context.responseHeader });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9oYW5kbGVyLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwRjtBQUN4RDtBQUNpQjtBQUNTO0FBQzJKO0FBQ3pJO0FBQzNCO0FBQzBJO0FBQ3pJO0FBQ0Y7QUFDOEM7QUFDbEQ7QUFDNEM7QUFDeEI7QUFDYTtBQUNJO0FBQ3dEO0FBQytKO0FBQ2pPO0FBQ047QUFDOEM7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQkFBZ0IsK0ZBQStCO0FBQy9DLG1DQUFtQyw0RUFBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJGQUErQjtBQUM3RDtBQUNBLGlCQUFpQiwwREFBVTtBQUMzQixvQ0FBb0Msb0VBQXNCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxRUFBdUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUVBQWlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHFGQUFrQjtBQUNwRDtBQUNBLHlCQUF5QiwrRUFBZTtBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGlFQUFpQjtBQUNqRSxtQkFBbUIsNkVBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBZ0I7QUFDOUMsNkJBQTZCLDREQUFtQjtBQUNoRDtBQUNBLGNBQWMsb0VBQWtCLGlCQUFpQiwyREFBYTtBQUM5RCxjQUFjLGtFQUFnQixnQkFBZ0IsMERBQWlCO0FBQy9EO0FBQ0EsbUJBQW1CLGlGQUE2QjtBQUNoRDtBQUNBLHdCQUF3QixnRUFBWSxnQkFBZ0Isc0RBQWE7QUFDakUsd0JBQXdCLHlFQUFvQiwrQkFBK0IsV0FBVztBQUN0RixpQkFBaUIsMERBQWlCO0FBQ2xDLHNCQUFzQixtRUFBcUI7QUFDM0Msc0JBQXNCLGtFQUFvQjtBQUMxQyxhQUFhLG9DQUFvQztBQUNqRCw0QkFBNEIsK0VBQW9CLDZEQUE2RCxrRUFBeUIsR0FBRyxrRUFBeUI7QUFDbEsscUJBQXFCLCtEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlFQUEyQjtBQUMvQztBQUNBO0FBQ0Esb0JBQW9CLDBFQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEZBQXlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDREQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0REFBWSxtQkFBbUIsMkNBQUk7QUFDL0Q7QUFDQSxxQkFBcUIsa0VBQWdCO0FBQ3JDLHVDQUF1QywwREFBaUIsRUFBRSxrRUFBb0I7QUFDOUU7QUFDQTtBQUNBLGFBQWE7QUFDYixtQkFBbUIsaUVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0REFBbUI7QUFDMUQ7QUFDQSx1QkFBdUIsNERBQVU7QUFDakMsbUJBQW1CLGlFQUF3QjtBQUMzQztBQUNBO0FBQ0Esa0JBQWtCLGlGQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBFQUFZLGdEQUFnRCxpRUFBd0I7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlEQUFXO0FBQzlDLDBDQUEwQywwREFBWTtBQUN0RDtBQUNBO0FBQ0Esa0JBQWtCLDREQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNERBQVksZ0ZBQWdGLDJDQUFJO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFZLFNBQVMsMkNBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtFQUF1QjtBQUMvQixxQkFBcUIsa0VBQWdCLGdCQUFnQiwwREFBaUI7QUFDdEU7QUFDQSxtQkFBbUIsaUZBQTZCO0FBQ2hEO0FBQ0E7QUFDQSxtQkFBbUIsNkVBQXlCO0FBQzVDO0FBQ0Esd0JBQXdCLGdFQUFZLGdCQUFnQixzREFBYTtBQUNqRSx3QkFBd0IseUVBQW9CLCtCQUErQixXQUFXO0FBQ3RGLGlCQUFpQiwwREFBaUI7QUFDbEMsc0JBQXNCLG9FQUFzQjtBQUM1QyxzQkFBc0IsbUVBQXFCO0FBQzNDLGFBQWEsb0NBQW9DO0FBQ2pELDRCQUE0QiwrRUFBb0IsdUNBQXVDLDZEQUFvQixrQkFBa0IsbUVBQTBCLEdBQUcsbUVBQTBCO0FBQ3BMO0FBQ0EsdUNBQXVDLDZEQUFvQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtFQUFJLFdBQVcsOEVBQWdCO0FBQ3ZEO0FBQ0EsZ0JBQWdCLDBFQUE0QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHLG9GQUFzQixvQkFBb0IseUZBQTJCLHlDQUF5QyxvRkFBc0Isa0NBQWtDLHlEQUFhO0FBQy9MLG1CQUFtQixrR0FBNkI7QUFDaEQseUJBQXlCLGtFQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRKQUE0SixZQUFZO0FBQ3hLLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSwrSkFBK0osc0JBQXNCO0FBQ3JMLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixTQUFTLEVBQUUsd0ZBQTBCLG1DQUFtQyxtRkFBcUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVk7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFZLG1CQUFtQiwyQ0FBSTtBQUNuRTtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFhO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTLEdBQUcsdUZBQXlCLDhDQUE4QyxvRkFBc0IsTUFBTSxnQ0FBZ0M7QUFDL0ksNkNBQTZDLEVBQUUsK0RBQVc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdFQUFVLDRDQUE0QztBQUM5RTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcaGFuZGxlci1mYWN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBNZXNzYWdlLCBNZXRob2RJZGVtcG90ZW5jeSwgTWV0aG9kS2luZCwgcHJvdG9CYXNlNjQsIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFuZGxlckNvbnRleHQgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb24uanNcIjtcbmltcG9ydCB7IGNvbnRlbnRUeXBlU3RyZWFtSnNvbiwgY29udGVudFR5cGVTdHJlYW1Qcm90bywgY29udGVudFR5cGVTdHJlYW1SZWdFeHAsIGNvbnRlbnRUeXBlVW5hcnlKc29uLCBjb250ZW50VHlwZVVuYXJ5UHJvdG8sIGNvbnRlbnRUeXBlVW5hcnlSZWdFeHAsIHBhcnNlQ29udGVudFR5cGUsIHBhcnNlRW5jb2RpbmdRdWVyeSwgfSBmcm9tIFwiLi9jb250ZW50LXR5cGUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUVuZFN0cmVhbVNlcmlhbGl6YXRpb24sIGVuZFN0cmVhbUZsYWcgfSBmcm9tIFwiLi9lbmQtc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBlcnJvclRvSnNvbkJ5dGVzIH0gZnJvbSBcIi4vZXJyb3ItanNvbi5qc1wiO1xuaW1wb3J0IHsgaGVhZGVyQ29udGVudFR5cGUsIGhlYWRlclN0cmVhbUFjY2VwdEVuY29kaW5nLCBoZWFkZXJTdHJlYW1FbmNvZGluZywgaGVhZGVyVGltZW91dCwgaGVhZGVyVW5hcnlBY2NlcHRFbmNvZGluZywgaGVhZGVyVW5hcnlDb250ZW50TGVuZ3RoLCBoZWFkZXJVbmFyeUVuY29kaW5nLCB9IGZyb20gXCIuL2hlYWRlcnMuanNcIjtcbmltcG9ydCB7IGNvZGVUb0h0dHBTdGF0dXMgfSBmcm9tIFwiLi9odHRwLXN0YXR1cy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VUaW1lb3V0IH0gZnJvbSBcIi4vcGFyc2UtdGltZW91dC5qc1wiO1xuaW1wb3J0IHsgcGFyYW1CYXNlNjQsIHBhcmFtQ29tcHJlc3Npb24sIHBhcmFtRW5jb2RpbmcsIHBhcmFtTWVzc2FnZSwgfSBmcm9tIFwiLi9xdWVyeS1wYXJhbXMuanNcIjtcbmltcG9ydCB7IHRyYWlsZXJNdXggfSBmcm9tIFwiLi90cmFpbGVyLW11eC5qc1wiO1xuaW1wb3J0IHsgcmVxdWlyZVByb3RvY29sVmVyc2lvbkhlYWRlciwgcmVxdWlyZVByb3RvY29sVmVyc2lvblBhcmFtLCB9IGZyb20gXCIuL3ZlcnNpb24uanNcIjtcbmltcG9ydCB7IGNvbXByZXNzaW9uTmVnb3RpYXRlIH0gZnJvbSBcIi4uL3Byb3RvY29sL2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwIH0gZnJvbSBcIi4uL3Byb3RvY29sL3NlcmlhbGl6YXRpb24uanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMgfSBmcm9tIFwiLi4vcHJvdG9jb2wvdW5pdmVyc2FsLWhhbmRsZXIuanNcIjtcbmltcG9ydCB7IGFzc2VydEJ5dGVTdHJlYW1SZXF1ZXN0LCB1UmVzcG9uc2VNZXRob2ROb3RBbGxvd2VkLCB1UmVzcG9uc2VPaywgdVJlc3BvbnNlVW5zdXBwb3J0ZWRNZWRpYVR5cGUsIH0gZnJvbSBcIi4uL3Byb3RvY29sL3VuaXZlcnNhbC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQXN5bmNJdGVyYWJsZSwgcGlwZSwgcmVhZEFsbEJ5dGVzLCB0cmFuc2Zvcm1DYXRjaEZpbmFsbHksIHRyYW5zZm9ybUNvbXByZXNzRW52ZWxvcGUsIHRyYW5zZm9ybURlY29tcHJlc3NFbnZlbG9wZSwgdHJhbnNmb3JtSm9pbkVudmVsb3BlcywgdHJhbnNmb3JtUGFyc2VFbnZlbG9wZSwgdHJhbnNmb3JtUHJlcGVuZCwgdHJhbnNmb3JtU2VyaWFsaXplRW52ZWxvcGUsIHRyYW5zZm9ybVNwbGl0RW52ZWxvcGUsIHVudGlsRmlyc3QsIH0gZnJvbSBcIi4uL3Byb3RvY29sL2FzeW5jLWl0ZXJhYmxlLmpzXCI7XG5pbXBvcnQgeyBjb250ZW50VHlwZU1hdGNoZXIgfSBmcm9tIFwiLi4vcHJvdG9jb2wvY29udGVudC10eXBlLW1hdGNoZXIuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZFVybCB9IGZyb20gXCIuLi9wcm90b2NvbC9jcmVhdGUtbWV0aG9kLXVybC5qc1wiO1xuaW1wb3J0IHsgaW52b2tlVW5hcnlJbXBsZW1lbnRhdGlvbiwgdHJhbnNmb3JtSW52b2tlSW1wbGVtZW50YXRpb24sIH0gZnJvbSBcIi4uL3Byb3RvY29sL2ludm9rZS1pbXBsZW1lbnRhdGlvbi5qc1wiO1xuY29uc3QgcHJvdG9jb2xOYW1lID0gXCJjb25uZWN0XCI7XG5jb25zdCBtZXRob2RQb3N0ID0gXCJQT1NUXCI7XG5jb25zdCBtZXRob2RHZXQgPSBcIkdFVFwiO1xuLyoqXG4gKiBDcmVhdGUgYSBmYWN0b3J5IHRoYXQgY3JlYXRlcyBDb25uZWN0IGhhbmRsZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZGxlckZhY3Rvcnkob3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgZW5kU3RyZWFtU2VyaWFsaXphdGlvbiA9IGNyZWF0ZUVuZFN0cmVhbVNlcmlhbGl6YXRpb24ob3B0Lmpzb25PcHRpb25zKTtcbiAgICBmdW5jdGlvbiBmYWN0KHNwZWMpIHtcbiAgICAgICAgbGV0IGg7XG4gICAgICAgIGxldCBjb250ZW50VHlwZVJlZ0V4cDtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXphdGlvbiA9IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAoc3BlYy5tZXRob2QsIG9wdC5iaW5hcnlPcHRpb25zLCBvcHQuanNvbk9wdGlvbnMsIG9wdCk7XG4gICAgICAgIHN3aXRjaCAoc3BlYy5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIE1ldGhvZEtpbmQuVW5hcnk6XG4gICAgICAgICAgICAgICAgY29udGVudFR5cGVSZWdFeHAgPSBjb250ZW50VHlwZVVuYXJ5UmVnRXhwO1xuICAgICAgICAgICAgICAgIGggPSBjcmVhdGVVbmFyeUhhbmRsZXIob3B0LCBzcGVjLCBzZXJpYWxpemF0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29udGVudFR5cGVSZWdFeHAgPSBjb250ZW50VHlwZVN0cmVhbVJlZ0V4cDtcbiAgICAgICAgICAgICAgICBoID0gY3JlYXRlU3RyZWFtSGFuZGxlcihvcHQsIHNwZWMsIHNlcmlhbGl6YXRpb24sIGVuZFN0cmVhbVNlcmlhbGl6YXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsbG93ZWRNZXRob2RzID0gW21ldGhvZFBvc3RdO1xuICAgICAgICBpZiAoc3BlYy5tZXRob2QuaWRlbXBvdGVuY3kgPT09IE1ldGhvZElkZW1wb3RlbmN5Lk5vU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICAgIGFsbG93ZWRNZXRob2RzLnB1c2gobWV0aG9kR2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihoLCB7XG4gICAgICAgICAgICBwcm90b2NvbE5hbWVzOiBbcHJvdG9jb2xOYW1lXSxcbiAgICAgICAgICAgIHN1cHBvcnRlZENvbnRlbnRUeXBlOiBjb250ZW50VHlwZU1hdGNoZXIoY29udGVudFR5cGVSZWdFeHApLFxuICAgICAgICAgICAgYWxsb3dlZE1ldGhvZHMsXG4gICAgICAgICAgICByZXF1ZXN0UGF0aDogY3JlYXRlTWV0aG9kVXJsKFwiL1wiLCBzcGVjLnNlcnZpY2UsIHNwZWMubWV0aG9kKSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHNwZWMuc2VydmljZSxcbiAgICAgICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmYWN0LnByb3RvY29sTmFtZSA9IHByb3RvY29sTmFtZTtcbiAgICByZXR1cm4gZmFjdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVVuYXJ5SGFuZGxlcihvcHQsIHNwZWMsIHNlcmlhbGl6YXRpb24pIHtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlKHJlcSkge1xuICAgICAgICBjb25zdCBpc0dldCA9IHJlcS5tZXRob2QgPT0gbWV0aG9kR2V0O1xuICAgICAgICBpZiAoaXNHZXQgJiYgc3BlYy5tZXRob2QuaWRlbXBvdGVuY3kgIT0gTWV0aG9kSWRlbXBvdGVuY3kuTm9TaWRlRWZmZWN0cykge1xuICAgICAgICAgICAgcmV0dXJuIHVSZXNwb25zZU1ldGhvZE5vdEFsbG93ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMKHJlcS51cmwpLnNlYXJjaFBhcmFtcztcbiAgICAgICAgY29uc3QgY29tcHJlc3Npb25SZXF1ZXN0ZWQgPSBpc0dldFxuICAgICAgICAgICAgPyBxdWVyeVBhcmFtcy5nZXQocGFyYW1Db21wcmVzc2lvbilcbiAgICAgICAgICAgIDogcmVxLmhlYWRlci5nZXQoaGVhZGVyVW5hcnlFbmNvZGluZyk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc0dldFxuICAgICAgICAgICAgPyBwYXJzZUVuY29kaW5nUXVlcnkocXVlcnlQYXJhbXMuZ2V0KHBhcmFtRW5jb2RpbmcpKVxuICAgICAgICAgICAgOiBwYXJzZUNvbnRlbnRUeXBlKHJlcS5oZWFkZXIuZ2V0KGhlYWRlckNvbnRlbnRUeXBlKSk7XG4gICAgICAgIGlmICh0eXBlID09IHVuZGVmaW5lZCB8fCB0eXBlLnN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHVSZXNwb25zZVVuc3VwcG9ydGVkTWVkaWFUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBwYXJzZVRpbWVvdXQocmVxLmhlYWRlci5nZXQoaGVhZGVyVGltZW91dCksIG9wdC5tYXhUaW1lb3V0TXMpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlSGFuZGxlckNvbnRleHQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzcGVjKSwgeyByZXF1ZXN0TWV0aG9kOiByZXEubWV0aG9kLCBwcm90b2NvbE5hbWUsIHRpbWVvdXRNczogdGltZW91dC50aW1lb3V0TXMsIHNodXRkb3duU2lnbmFsOiBvcHQuc2h1dGRvd25TaWduYWwsIHJlcXVlc3RTaWduYWw6IHJlcS5zaWduYWwsIHJlcXVlc3RIZWFkZXI6IHJlcS5oZWFkZXIsIHVybDogcmVxLnVybCwgcmVzcG9uc2VIZWFkZXI6IHtcbiAgICAgICAgICAgICAgICBbaGVhZGVyQ29udGVudFR5cGVdOiB0eXBlLmJpbmFyeVxuICAgICAgICAgICAgICAgICAgICA/IGNvbnRlbnRUeXBlVW5hcnlQcm90b1xuICAgICAgICAgICAgICAgICAgICA6IGNvbnRlbnRUeXBlVW5hcnlKc29uLFxuICAgICAgICAgICAgfSwgY29udGV4dFZhbHVlczogcmVxLmNvbnRleHRWYWx1ZXMgfSkpO1xuICAgICAgICBjb25zdCBjb21wcmVzc2lvbiA9IGNvbXByZXNzaW9uTmVnb3RpYXRlKG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgY29tcHJlc3Npb25SZXF1ZXN0ZWQsIHJlcS5oZWFkZXIuZ2V0KGhlYWRlclVuYXJ5QWNjZXB0RW5jb2RpbmcpLCBoZWFkZXJVbmFyeUFjY2VwdEVuY29kaW5nKTtcbiAgICAgICAgbGV0IHN0YXR1cyA9IHVSZXNwb25zZU9rLnN0YXR1cztcbiAgICAgICAgbGV0IGJvZHk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAob3B0LnJlcXVpcmVDb25uZWN0UHJvdG9jb2xIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNHZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZVByb3RvY29sVmVyc2lvblBhcmFtKHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVQcm90b2NvbFZlcnNpb25IZWFkZXIocmVxLmhlYWRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmFpc2UgY29tcHJlc3Npb24gZXJyb3IgdG8gc2VyaWFsaXplIGl0IGFzIGEgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIGlmIChjb21wcmVzc2lvbi5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGNvbXByZXNzaW9uLmVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmFpc2UgdGltZW91dCBwYXJzaW5nIGVycm9yIHRvIHNlcmlhbGl6ZSBpdCBhcyBhIHRyYWlsZXIgc3RhdHVzXG4gICAgICAgICAgICBpZiAodGltZW91dC5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IHRpbWVvdXQuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVxQm9keTtcbiAgICAgICAgICAgIGlmIChpc0dldCkge1xuICAgICAgICAgICAgICAgIHJlcUJvZHkgPSBhd2FpdCByZWFkVW5hcnlNZXNzYWdlRnJvbVF1ZXJ5KG9wdC5yZWFkTWF4Qnl0ZXMsIGNvbXByZXNzaW9uLnJlcXVlc3QsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcUJvZHkgPSBhd2FpdCByZWFkVW5hcnlNZXNzYWdlRnJvbUJvZHkob3B0LnJlYWRNYXhCeXRlcywgY29tcHJlc3Npb24ucmVxdWVzdCwgcmVxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gcGFyc2VVbmFyeU1lc3NhZ2Uoc3BlYy5tZXRob2QsIHR5cGUuYmluYXJ5LCBzZXJpYWxpemF0aW9uLCByZXFCb2R5KTtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IGludm9rZVVuYXJ5SW1wbGVtZW50YXRpb24oc3BlYywgY29udGV4dCwgaW5wdXQsIG9wdC5pbnRlcmNlcHRvcnMpO1xuICAgICAgICAgICAgYm9keSA9IHNlcmlhbGl6YXRpb24uZ2V0Tyh0eXBlLmJpbmFyeSkuc2VyaWFsaXplKG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29ubmVjdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgQ29ubmVjdEVycm9yKFwiaW50ZXJuYWwgZXJyb3JcIiwgQ29kZS5JbnRlcm5hbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdHVzID0gY29kZVRvSHR0cFN0YXR1cyhlcnJvci5jb2RlKTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2VIZWFkZXIuc2V0KGhlYWRlckNvbnRlbnRUeXBlLCBjb250ZW50VHlwZVVuYXJ5SnNvbik7XG4gICAgICAgICAgICBlcnJvci5tZXRhZGF0YS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXNwb25zZUhlYWRlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJvZHkgPSBlcnJvclRvSnNvbkJ5dGVzKGVycm9yLCBvcHQuanNvbk9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY29udGV4dC5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wcmVzc2lvbi5yZXNwb25zZSAmJiBib2R5LmJ5dGVMZW5ndGggPj0gb3B0LmNvbXByZXNzTWluQnl0ZXMpIHtcbiAgICAgICAgICAgIGJvZHkgPSBhd2FpdCBjb21wcmVzc2lvbi5yZXNwb25zZS5jb21wcmVzcyhib2R5KTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2VIZWFkZXIuc2V0KGhlYWRlclVuYXJ5RW5jb2RpbmcsIGNvbXByZXNzaW9uLnJlc3BvbnNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRyYWlsZXJNdXgoY29udGV4dC5yZXNwb25zZUhlYWRlciwgY29udGV4dC5yZXNwb25zZVRyYWlsZXIpO1xuICAgICAgICBoZWFkZXIuc2V0KGhlYWRlclVuYXJ5Q29udGVudExlbmd0aCwgYm9keS5ieXRlTGVuZ3RoLnRvU3RyaW5nKDEwKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICBib2R5OiBjcmVhdGVBc3luY0l0ZXJhYmxlKFtib2R5XSksXG4gICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgIH07XG4gICAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRVbmFyeU1lc3NhZ2VGcm9tQm9keShyZWFkTWF4Qnl0ZXMsIGNvbXByZXNzaW9uLCByZXF1ZXN0KSB7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0LmJvZHkgPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICByZXF1ZXN0LmJvZHkgIT09IG51bGwgJiZcbiAgICAgICAgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGxldCByZXFCeXRlcyA9IGF3YWl0IHJlYWRBbGxCeXRlcyhyZXF1ZXN0LmJvZHksIHJlYWRNYXhCeXRlcywgcmVxdWVzdC5oZWFkZXIuZ2V0KGhlYWRlclVuYXJ5Q29udGVudExlbmd0aCkpO1xuICAgICAgICBpZiAoY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJlcUJ5dGVzID0gYXdhaXQgY29tcHJlc3Npb24uZGVjb21wcmVzcyhyZXFCeXRlcywgcmVhZE1heEJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxQnl0ZXM7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0LmJvZHk7XG59XG5hc3luYyBmdW5jdGlvbiByZWFkVW5hcnlNZXNzYWdlRnJvbVF1ZXJ5KHJlYWRNYXhCeXRlcywgY29tcHJlc3Npb24sIHF1ZXJ5UGFyYW1zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGJhc2U2NCA9IHF1ZXJ5UGFyYW1zLmdldChwYXJhbUJhc2U2NCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IChfYSA9IHF1ZXJ5UGFyYW1zLmdldChwYXJhbU1lc3NhZ2UpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiO1xuICAgIGxldCBkZWNvZGVkO1xuICAgIGlmIChiYXNlNjQgPT09IFwiMVwiKSB7XG4gICAgICAgIGRlY29kZWQgPSBwcm90b0Jhc2U2NC5kZWMobWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoY29tcHJlc3Npb24pIHtcbiAgICAgICAgZGVjb2RlZCA9IGF3YWl0IGNvbXByZXNzaW9uLmRlY29tcHJlc3MoZGVjb2RlZCwgcmVhZE1heEJ5dGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZWQ7XG59XG5mdW5jdGlvbiBwYXJzZVVuYXJ5TWVzc2FnZShtZXRob2QsIHVzZUJpbmFyeUZvcm1hdCwgc2VyaWFsaXphdGlvbiwgaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemF0aW9uLmdldEkodXNlQmluYXJ5Rm9ybWF0KS5wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIGlmICh1c2VCaW5hcnlGb3JtYXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInJlY2VpdmVkIHBhcnNlZCBKU09OIHJlcXVlc3QgYm9keSwgYnV0IGNvbnRlbnQtdHlwZSBpbmRpY2F0ZXMgYmluYXJ5IGZvcm1hdFwiLCBDb2RlLkludGVybmFsKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5JLmZyb21Kc29uKGlucHV0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgQ29ubmVjdEVycm9yLmZyb20oZSwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0cmVhbUhhbmRsZXIob3B0LCBzcGVjLCBzZXJpYWxpemF0aW9uLCBlbmRTdHJlYW1TZXJpYWxpemF0aW9uKSB7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZShyZXEpIHtcbiAgICAgICAgYXNzZXJ0Qnl0ZVN0cmVhbVJlcXVlc3QocmVxKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHBhcnNlQ29udGVudFR5cGUocmVxLmhlYWRlci5nZXQoaGVhZGVyQ29udGVudFR5cGUpKTtcbiAgICAgICAgaWYgKHR5cGUgPT0gdW5kZWZpbmVkIHx8ICF0eXBlLnN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHVSZXNwb25zZVVuc3VwcG9ydGVkTWVkaWFUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEubWV0aG9kICE9PSBtZXRob2RQb3N0KSB7XG4gICAgICAgICAgICByZXR1cm4gdVJlc3BvbnNlTWV0aG9kTm90QWxsb3dlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gcGFyc2VUaW1lb3V0KHJlcS5oZWFkZXIuZ2V0KGhlYWRlclRpbWVvdXQpLCBvcHQubWF4VGltZW91dE1zKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUhhbmRsZXJDb250ZXh0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3BlYyksIHsgcmVxdWVzdE1ldGhvZDogcmVxLm1ldGhvZCwgcHJvdG9jb2xOYW1lLCB0aW1lb3V0TXM6IHRpbWVvdXQudGltZW91dE1zLCBzaHV0ZG93blNpZ25hbDogb3B0LnNodXRkb3duU2lnbmFsLCByZXF1ZXN0U2lnbmFsOiByZXEuc2lnbmFsLCByZXF1ZXN0SGVhZGVyOiByZXEuaGVhZGVyLCB1cmw6IHJlcS51cmwsIHJlc3BvbnNlSGVhZGVyOiB7XG4gICAgICAgICAgICAgICAgW2hlYWRlckNvbnRlbnRUeXBlXTogdHlwZS5iaW5hcnlcbiAgICAgICAgICAgICAgICAgICAgPyBjb250ZW50VHlwZVN0cmVhbVByb3RvXG4gICAgICAgICAgICAgICAgICAgIDogY29udGVudFR5cGVTdHJlYW1Kc29uLFxuICAgICAgICAgICAgfSwgY29udGV4dFZhbHVlczogcmVxLmNvbnRleHRWYWx1ZXMgfSkpO1xuICAgICAgICBjb25zdCBjb21wcmVzc2lvbiA9IGNvbXByZXNzaW9uTmVnb3RpYXRlKG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgcmVxLmhlYWRlci5nZXQoaGVhZGVyU3RyZWFtRW5jb2RpbmcpLCByZXEuaGVhZGVyLmdldChoZWFkZXJTdHJlYW1BY2NlcHRFbmNvZGluZyksIGhlYWRlclN0cmVhbUFjY2VwdEVuY29kaW5nKTtcbiAgICAgICAgaWYgKGNvbXByZXNzaW9uLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3BvbnNlSGVhZGVyLnNldChoZWFkZXJTdHJlYW1FbmNvZGluZywgY29tcHJlc3Npb24ucmVzcG9uc2UubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugc3BsaXQgdGhlIHBpcGVsaW5lIGludG8gdHdvIHBhcnRzOiBUaGUgcmVxdWVzdCBpdGVyYXRvciwgYW5kIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBpdGVyYXRvci4gV2UgZG8gdGhpcyBiZWNhdXNlIHRoZSByZXF1ZXN0IGl0ZXJhdG9yIGlzIHJlc3BvbnNpYmxlXG4gICAgICAgIC8vIGZvciBwYXJzaW5nIHRoZSByZXF1ZXN0IGJvZHksIGFuZCB3ZSBkb24ndCB3YW50IHdyaXRlIGVycm9ycyBvZiB0aGUgcmVzcG9uc2VcbiAgICAgICAgLy8gaXRlcmF0b3IgdG8gYWZmZWN0IHRoZSByZXF1ZXN0IGl0ZXJhdG9yLlxuICAgICAgICBjb25zdCBpbnB1dEl0ID0gcGlwZShyZXEuYm9keSwgdHJhbnNmb3JtUHJlcGVuZCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0LnJlcXVpcmVDb25uZWN0UHJvdG9jb2xIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlUHJvdG9jb2xWZXJzaW9uSGVhZGVyKHJlcS5oZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmFpc2UgY29tcHJlc3Npb24gZXJyb3IgdG8gc2VyaWFsaXplIGl0IGFzIHRoZSBlbmQgc3RyZWFtIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoY29tcHJlc3Npb24uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgY29tcHJlc3Npb24uZXJyb3I7XG4gICAgICAgICAgICAvLyByYWlzZSB0aW1lb3V0IHBhcnNpbmcgZXJyb3IgdG8gc2VyaWFsaXplIGl0IGFzIGEgdHJhaWxlciBzdGF0dXNcbiAgICAgICAgICAgIGlmICh0aW1lb3V0LmVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IHRpbWVvdXQuZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KSwgdHJhbnNmb3JtU3BsaXRFbnZlbG9wZShvcHQucmVhZE1heEJ5dGVzKSwgdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlKGNvbXByZXNzaW9uLnJlcXVlc3QsIG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0SSh0eXBlLmJpbmFyeSksIGVuZFN0cmVhbUZsYWcpKTtcbiAgICAgICAgY29uc3QgaXQgPSB0cmFuc2Zvcm1JbnZva2VJbXBsZW1lbnRhdGlvbihzcGVjLCBjb250ZXh0LCBvcHQuaW50ZXJjZXB0b3JzKShpbnB1dEl0KVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0SXQgPSBwaXBlKFxuICAgICAgICAvLyBXZSB3cmFwIHRoZSBpdGVyYXRvciBpbiBhbiBhc3luYyBpdGVyYXRvciB0byBlbnN1cmUgdGhhdCB0aGVcbiAgICAgICAgLy8gYWJvcnQgc2lnbmFsIGlzIGFib3J0ZWQgd2hlbiB0aGUgaXRlcmF0b3IgaXMgZG9uZS5cbiAgICAgICAge1xuICAgICAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiAoKSA9PiBpdC5uZXh0KCksXG4gICAgICAgICAgICAgICAgICAgIHRocm93OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWJvcnQoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gaXQudGhyb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGl0LCBlKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogUHJvbWlzZS5yZWplY3QoeyBkb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXR1cm46ICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoX2IgPSAoX2EgPSBpdC5yZXR1cm4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGl0LCB2KSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHYgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZShzZXJpYWxpemF0aW9uLmdldE8odHlwZS5iaW5hcnkpKSwgdHJhbnNmb3JtQ2F0Y2hGaW5hbGx5KChlKSA9PiB7XG4gICAgICAgICAgICBjb250ZXh0LmFib3J0KCk7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IGNvbnRleHQucmVzcG9uc2VUcmFpbGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29ubmVjdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgZW5kLmVycm9yID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVuZC5lcnJvciA9IG5ldyBDb25uZWN0RXJyb3IoXCJpbnRlcm5hbCBlcnJvclwiLCBDb2RlLkludGVybmFsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZsYWdzOiBlbmRTdHJlYW1GbGFnLFxuICAgICAgICAgICAgICAgIGRhdGE6IGVuZFN0cmVhbVNlcmlhbGl6YXRpb24uc2VyaWFsaXplKGVuZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZShjb21wcmVzc2lvbi5yZXNwb25zZSwgb3B0LmNvbXByZXNzTWluQnl0ZXMpLCB0cmFuc2Zvcm1Kb2luRW52ZWxvcGVzKCksIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1UmVzcG9uc2VPayksIHsgXG4gICAgICAgICAgICAvLyBXZSB3YWl0IGZvciB0aGUgZmlyc3QgcmVzcG9uc2UgYm9keSBieXRlcyBiZWZvcmUgcmVzb2x2aW5nLCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbnMgaGF2ZSBhIGNoYW5jZSB0byBhZGQgaGVhZGVycyBiZWZvcmUgYW4gYWRhcHRlciBjb21taXRzXG4gICAgICAgICAgICAvLyB0aGVtIHRvIHRoZSB3aXJlLlxuICAgICAgICAgICAgYm9keTogYXdhaXQgdW50aWxGaXJzdChvdXRwdXRJdCksIGhlYWRlcjogY29udGV4dC5yZXNwb25zZUhlYWRlciB9KTtcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/handler-factory.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerContentType: () => (/* binding */ headerContentType),\n/* harmony export */   headerProtocolVersion: () => (/* binding */ headerProtocolVersion),\n/* harmony export */   headerStreamAcceptEncoding: () => (/* binding */ headerStreamAcceptEncoding),\n/* harmony export */   headerStreamEncoding: () => (/* binding */ headerStreamEncoding),\n/* harmony export */   headerTimeout: () => (/* binding */ headerTimeout),\n/* harmony export */   headerUnaryAcceptEncoding: () => (/* binding */ headerUnaryAcceptEncoding),\n/* harmony export */   headerUnaryContentLength: () => (/* binding */ headerUnaryContentLength),\n/* harmony export */   headerUnaryEncoding: () => (/* binding */ headerUnaryEncoding),\n/* harmony export */   headerUserAgent: () => (/* binding */ headerUserAgent)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nconst headerContentType = \"Content-Type\";\nconst headerUnaryContentLength = \"Content-Length\";\nconst headerUnaryEncoding = \"Content-Encoding\";\nconst headerStreamEncoding = \"Connect-Content-Encoding\";\nconst headerUnaryAcceptEncoding = \"Accept-Encoding\";\nconst headerStreamAcceptEncoding = \"Connect-Accept-Encoding\";\nconst headerTimeout = \"Connect-Timeout-Ms\";\nconst headerProtocolVersion = \"Connect-Protocol-Version\";\nconst headerUserAgent = \"User-Agent\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcaGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGhlYWRlckNvbnRlbnRUeXBlID0gXCJDb250ZW50LVR5cGVcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJVbmFyeUNvbnRlbnRMZW5ndGggPSBcIkNvbnRlbnQtTGVuZ3RoXCI7XG5leHBvcnQgY29uc3QgaGVhZGVyVW5hcnlFbmNvZGluZyA9IFwiQ29udGVudC1FbmNvZGluZ1wiO1xuZXhwb3J0IGNvbnN0IGhlYWRlclN0cmVhbUVuY29kaW5nID0gXCJDb25uZWN0LUNvbnRlbnQtRW5jb2RpbmdcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJVbmFyeUFjY2VwdEVuY29kaW5nID0gXCJBY2NlcHQtRW5jb2RpbmdcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJTdHJlYW1BY2NlcHRFbmNvZGluZyA9IFwiQ29ubmVjdC1BY2NlcHQtRW5jb2RpbmdcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJUaW1lb3V0ID0gXCJDb25uZWN0LVRpbWVvdXQtTXNcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJQcm90b2NvbFZlcnNpb24gPSBcIkNvbm5lY3QtUHJvdG9jb2wtVmVyc2lvblwiO1xuZXhwb3J0IGNvbnN0IGhlYWRlclVzZXJBZ2VudCA9IFwiVXNlci1BZ2VudFwiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/http-status.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/http-status.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   codeFromHttpStatus: () => (/* binding */ codeFromHttpStatus),\n/* harmony export */   codeToHttpStatus: () => (/* binding */ codeToHttpStatus)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Determine the Connect error code for the given HTTP status code.\n * See https://connectrpc.com/docs/protocol/#http-to-error-code\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction codeFromHttpStatus(httpStatus) {\n    switch (httpStatus) {\n        case 400: // Bad Request\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Internal;\n        case 401: // Unauthorized\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unauthenticated;\n        case 403: // Forbidden\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.PermissionDenied;\n        case 404: // Not Found\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unimplemented;\n        case 429: // Too Many Requests\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 502: // Bad Gateway\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 503: // Service Unavailable\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 504: // Gateway Timeout\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        default:\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unknown;\n    }\n}\n/**\n * Returns a HTTP status code for the given Connect code.\n * See https://connectrpc.com/docs/protocol#error-codes\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction codeToHttpStatus(code) {\n    switch (code) {\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Canceled:\n            return 499; // Client Closed Request\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unknown:\n            return 500; // Internal Server Error\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.InvalidArgument:\n            return 400; // Bad Request\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.DeadlineExceeded:\n            return 504; // Gateway Timeout\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.NotFound:\n            return 404; // Not Found\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.AlreadyExists:\n            return 409; // Conflict\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.PermissionDenied:\n            return 403; // Forbidden\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.ResourceExhausted:\n            return 429; // Too Many Requests\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.FailedPrecondition:\n            return 400; // Bad Request\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Aborted:\n            return 409; // Conflict\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.OutOfRange:\n            return 400; // Bad Request\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unimplemented:\n            return 501; // Not Implemented\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Internal:\n            return 500; // Internal Server Error\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable:\n            return 503; // Service Unavailable\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.DataLoss:\n            return 500; // Internal Server Error\n        case _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unauthenticated:\n            return 401; // Unauthorized\n        default:\n            return 500; // same as CodeUnknown\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9odHRwLXN0YXR1cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QixhQUFhLDBDQUFJO0FBQ2pCLHdCQUF3QjtBQUN4QjtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcaHR0cC1zdGF0dXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIENvbm5lY3QgZXJyb3IgY29kZSBmb3IgdGhlIGdpdmVuIEhUVFAgc3RhdHVzIGNvZGUuXG4gKiBTZWUgaHR0cHM6Ly9jb25uZWN0cnBjLmNvbS9kb2NzL3Byb3RvY29sLyNodHRwLXRvLWVycm9yLWNvZGVcbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVGcm9tSHR0cFN0YXR1cyhodHRwU3RhdHVzKSB7XG4gICAgc3dpdGNoIChodHRwU3RhdHVzKSB7XG4gICAgICAgIGNhc2UgNDAwOiAvLyBCYWQgUmVxdWVzdFxuICAgICAgICAgICAgcmV0dXJuIENvZGUuSW50ZXJuYWw7XG4gICAgICAgIGNhc2UgNDAxOiAvLyBVbmF1dGhvcml6ZWRcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVuYXV0aGVudGljYXRlZDtcbiAgICAgICAgY2FzZSA0MDM6IC8vIEZvcmJpZGRlblxuICAgICAgICAgICAgcmV0dXJuIENvZGUuUGVybWlzc2lvbkRlbmllZDtcbiAgICAgICAgY2FzZSA0MDQ6IC8vIE5vdCBGb3VuZFxuICAgICAgICAgICAgcmV0dXJuIENvZGUuVW5pbXBsZW1lbnRlZDtcbiAgICAgICAgY2FzZSA0Mjk6IC8vIFRvbyBNYW55IFJlcXVlc3RzXG4gICAgICAgICAgICByZXR1cm4gQ29kZS5VbmF2YWlsYWJsZTtcbiAgICAgICAgY2FzZSA1MDI6IC8vIEJhZCBHYXRld2F5XG4gICAgICAgICAgICByZXR1cm4gQ29kZS5VbmF2YWlsYWJsZTtcbiAgICAgICAgY2FzZSA1MDM6IC8vIFNlcnZpY2UgVW5hdmFpbGFibGVcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVuYXZhaWxhYmxlO1xuICAgICAgICBjYXNlIDUwNDogLy8gR2F0ZXdheSBUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gQ29kZS5VbmF2YWlsYWJsZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVua25vd247XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgSFRUUCBzdGF0dXMgY29kZSBmb3IgdGhlIGdpdmVuIENvbm5lY3QgY29kZS5cbiAqIFNlZSBodHRwczovL2Nvbm5lY3RycGMuY29tL2RvY3MvcHJvdG9jb2wjZXJyb3ItY29kZXNcbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVUb0h0dHBTdGF0dXMoY29kZSkge1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIENvZGUuQ2FuY2VsZWQ6XG4gICAgICAgICAgICByZXR1cm4gNDk5OyAvLyBDbGllbnQgQ2xvc2VkIFJlcXVlc3RcbiAgICAgICAgY2FzZSBDb2RlLlVua25vd246XG4gICAgICAgICAgICByZXR1cm4gNTAwOyAvLyBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcbiAgICAgICAgY2FzZSBDb2RlLkludmFsaWRBcmd1bWVudDpcbiAgICAgICAgICAgIHJldHVybiA0MDA7IC8vIEJhZCBSZXF1ZXN0XG4gICAgICAgIGNhc2UgQ29kZS5EZWFkbGluZUV4Y2VlZGVkOlxuICAgICAgICAgICAgcmV0dXJuIDUwNDsgLy8gR2F0ZXdheSBUaW1lb3V0XG4gICAgICAgIGNhc2UgQ29kZS5Ob3RGb3VuZDpcbiAgICAgICAgICAgIHJldHVybiA0MDQ7IC8vIE5vdCBGb3VuZFxuICAgICAgICBjYXNlIENvZGUuQWxyZWFkeUV4aXN0czpcbiAgICAgICAgICAgIHJldHVybiA0MDk7IC8vIENvbmZsaWN0XG4gICAgICAgIGNhc2UgQ29kZS5QZXJtaXNzaW9uRGVuaWVkOlxuICAgICAgICAgICAgcmV0dXJuIDQwMzsgLy8gRm9yYmlkZGVuXG4gICAgICAgIGNhc2UgQ29kZS5SZXNvdXJjZUV4aGF1c3RlZDpcbiAgICAgICAgICAgIHJldHVybiA0Mjk7IC8vIFRvbyBNYW55IFJlcXVlc3RzXG4gICAgICAgIGNhc2UgQ29kZS5GYWlsZWRQcmVjb25kaXRpb246XG4gICAgICAgICAgICByZXR1cm4gNDAwOyAvLyBCYWQgUmVxdWVzdFxuICAgICAgICBjYXNlIENvZGUuQWJvcnRlZDpcbiAgICAgICAgICAgIHJldHVybiA0MDk7IC8vIENvbmZsaWN0XG4gICAgICAgIGNhc2UgQ29kZS5PdXRPZlJhbmdlOlxuICAgICAgICAgICAgcmV0dXJuIDQwMDsgLy8gQmFkIFJlcXVlc3RcbiAgICAgICAgY2FzZSBDb2RlLlVuaW1wbGVtZW50ZWQ6XG4gICAgICAgICAgICByZXR1cm4gNTAxOyAvLyBOb3QgSW1wbGVtZW50ZWRcbiAgICAgICAgY2FzZSBDb2RlLkludGVybmFsOlxuICAgICAgICAgICAgcmV0dXJuIDUwMDsgLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gICAgICAgIGNhc2UgQ29kZS5VbmF2YWlsYWJsZTpcbiAgICAgICAgICAgIHJldHVybiA1MDM7IC8vIFNlcnZpY2UgVW5hdmFpbGFibGVcbiAgICAgICAgY2FzZSBDb2RlLkRhdGFMb3NzOlxuICAgICAgICAgICAgcmV0dXJuIDUwMDsgLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gICAgICAgIGNhc2UgQ29kZS5VbmF1dGhlbnRpY2F0ZWQ6XG4gICAgICAgICAgICByZXR1cm4gNDAxOyAvLyBVbmF1dGhvcml6ZWRcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiA1MDA7IC8vIHNhbWUgYXMgQ29kZVVua25vd25cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/http-status.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/parse-timeout.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/parse-timeout.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTimeout: () => (/* binding */ parseTimeout)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Parse a Connect Timeout (Deadline) header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseTimeout(value, maxTimeoutMs) {\n    if (value === null) {\n        return {};\n    }\n    const results = /^\\d{1,10}$/.exec(value);\n    if (results === null) {\n        return {\n            error: new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`protocol error: invalid connect timeout value: ${value}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument),\n        };\n    }\n    const timeoutMs = parseInt(results[0]);\n    if (timeoutMs > maxTimeoutMs) {\n        return {\n            timeoutMs: timeoutMs,\n            error: new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument),\n        };\n    }\n    return {\n        timeoutMs: parseInt(results[0]),\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9wYXJzZS10aW1lb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tDO0FBQ2lCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixLQUFLO0FBQzlCO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVksbURBQW1ELE1BQU0sR0FBRywwQ0FBSTtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVksWUFBWSxVQUFVLGdCQUFnQixhQUFhLEdBQUcsMENBQUk7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxccGFyc2UtdGltZW91dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuLyoqXG4gKiBQYXJzZSBhIENvbm5lY3QgVGltZW91dCAoRGVhZGxpbmUpIGhlYWRlci5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGltZW91dCh2YWx1ZSwgbWF4VGltZW91dE1zKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IC9eXFxkezEsMTB9JC8uZXhlYyh2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdHMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiBuZXcgQ29ubmVjdEVycm9yKGBwcm90b2NvbCBlcnJvcjogaW52YWxpZCBjb25uZWN0IHRpbWVvdXQgdmFsdWU6ICR7dmFsdWV9YCwgQ29kZS5JbnZhbGlkQXJndW1lbnQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB0aW1lb3V0TXMgPSBwYXJzZUludChyZXN1bHRzWzBdKTtcbiAgICBpZiAodGltZW91dE1zID4gbWF4VGltZW91dE1zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lb3V0TXM6IHRpbWVvdXRNcyxcbiAgICAgICAgICAgIGVycm9yOiBuZXcgQ29ubmVjdEVycm9yKGB0aW1lb3V0ICR7dGltZW91dE1zfW1zIG11c3QgYmUgPD0gJHttYXhUaW1lb3V0TXN9YCwgQ29kZS5JbnZhbGlkQXJndW1lbnQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lb3V0TXM6IHBhcnNlSW50KHJlc3VsdHNbMF0pLFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/parse-timeout.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/query-params.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/query-params.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paramBase64: () => (/* binding */ paramBase64),\n/* harmony export */   paramCompression: () => (/* binding */ paramCompression),\n/* harmony export */   paramConnectVersion: () => (/* binding */ paramConnectVersion),\n/* harmony export */   paramEncoding: () => (/* binding */ paramEncoding),\n/* harmony export */   paramMessage: () => (/* binding */ paramMessage)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nconst paramConnectVersion = \"connect\";\nconst paramEncoding = \"encoding\";\nconst paramCompression = \"compression\";\nconst paramBase64 = \"base64\";\nconst paramMessage = \"message\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9xdWVyeS1wYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1jb25uZWN0XFxxdWVyeS1wYXJhbXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJhbUNvbm5lY3RWZXJzaW9uID0gXCJjb25uZWN0XCI7XG5leHBvcnQgY29uc3QgcGFyYW1FbmNvZGluZyA9IFwiZW5jb2RpbmdcIjtcbmV4cG9ydCBjb25zdCBwYXJhbUNvbXByZXNzaW9uID0gXCJjb21wcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IHBhcmFtQmFzZTY0ID0gXCJiYXNlNjRcIjtcbmV4cG9ydCBjb25zdCBwYXJhbU1lc3NhZ2UgPSBcIm1lc3NhZ2VcIjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/query-params.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/request-header.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/request-header.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestHeader: () => (/* binding */ requestHeader),\n/* harmony export */   requestHeaderWithCompression: () => (/* binding */ requestHeaderWithCompression)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./version.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * Creates headers for a Connect request.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeader(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent) {\n    const result = new Headers(userProvidedHeaders !== null && userProvidedHeaders !== void 0 ? userProvidedHeaders : {});\n    if (timeoutMs !== undefined) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerTimeout, `${timeoutMs}`);\n    }\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerContentType, methodKind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.Unary\n        ? useBinaryFormat\n            ? _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeUnaryProto\n            : _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeUnaryJson\n        : useBinaryFormat\n            ? _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeStreamProto\n            : _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeStreamJson);\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerProtocolVersion, _version_js__WEBPACK_IMPORTED_MODULE_3__.protocolVersion);\n    if (setUserAgent) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUserAgent, \"connect-es/1.6.1\");\n    }\n    return result;\n}\n/**\n * Creates headers for a Connect request with compression.\n *\n * Note that we always set the Content-Encoding header for unary methods.\n * It is up to the caller to decide whether to apply compression - and remove\n * the header if compression is not used, for example because the payload is\n * too small to make compression effective.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeaderWithCompression(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, acceptCompression, sendCompression, setUserAgent) {\n    const result = requestHeader(methodKind, useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent);\n    if (sendCompression != null) {\n        const name = methodKind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.Unary\n            ? _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUnaryEncoding\n            : _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStreamEncoding;\n        result.set(name, sendCompression.name);\n    }\n    if (acceptCompression.length > 0) {\n        const name = methodKind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.MethodKind.Unary\n            ? _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUnaryAcceptEncoding\n            : _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStreamAcceptEncoding;\n        result.set(name, acceptCompression.map((c) => c.name).join(\",\"));\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC9yZXF1ZXN0LWhlYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRDtBQUMySjtBQUM1SjtBQUNpRjtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx3SEFBd0g7QUFDeEg7QUFDQSxtQkFBbUIsc0RBQWEsS0FBSyxVQUFVO0FBQy9DO0FBQ0EsZUFBZSwwREFBaUIsZ0JBQWdCLDBEQUFVO0FBQzFEO0FBQ0EsY0FBYyxtRUFBcUI7QUFDbkMsY0FBYyxrRUFBb0I7QUFDbEM7QUFDQSxjQUFjLG9FQUFzQjtBQUNwQyxjQUFjLG1FQUFxQjtBQUNuQyxlQUFlLDhEQUFxQixFQUFFLHdEQUFlO0FBQ3JEO0FBQ0EsbUJBQW1CLHdEQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUNBQW1DLDBEQUFVO0FBQzdDLGNBQWMsNERBQW1CO0FBQ2pDLGNBQWMsNkRBQW9CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwREFBVTtBQUM3QyxjQUFjLGtFQUF5QjtBQUN2QyxjQUFjLG1FQUEwQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sLWNvbm5lY3RcXHJlcXVlc3QtaGVhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBNZXRob2RLaW5kIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgaGVhZGVyQ29udGVudFR5cGUsIGhlYWRlclN0cmVhbUFjY2VwdEVuY29kaW5nLCBoZWFkZXJTdHJlYW1FbmNvZGluZywgaGVhZGVyVW5hcnlBY2NlcHRFbmNvZGluZywgaGVhZGVyVW5hcnlFbmNvZGluZywgaGVhZGVyVGltZW91dCwgaGVhZGVyUHJvdG9jb2xWZXJzaW9uLCBoZWFkZXJVc2VyQWdlbnQsIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgcHJvdG9jb2xWZXJzaW9uIH0gZnJvbSBcIi4vdmVyc2lvbi5qc1wiO1xuaW1wb3J0IHsgY29udGVudFR5cGVTdHJlYW1Kc29uLCBjb250ZW50VHlwZVN0cmVhbVByb3RvLCBjb250ZW50VHlwZVVuYXJ5SnNvbiwgY29udGVudFR5cGVVbmFyeVByb3RvLCB9IGZyb20gXCIuL2NvbnRlbnQtdHlwZS5qc1wiO1xuLyoqXG4gKiBDcmVhdGVzIGhlYWRlcnMgZm9yIGEgQ29ubmVjdCByZXF1ZXN0LlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdEhlYWRlcihtZXRob2RLaW5kLCB1c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgdXNlclByb3ZpZGVkSGVhZGVycywgc2V0VXNlckFnZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEhlYWRlcnModXNlclByb3ZpZGVkSGVhZGVycyAhPT0gbnVsbCAmJiB1c2VyUHJvdmlkZWRIZWFkZXJzICE9PSB2b2lkIDAgPyB1c2VyUHJvdmlkZWRIZWFkZXJzIDoge30pO1xuICAgIGlmICh0aW1lb3V0TXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQuc2V0KGhlYWRlclRpbWVvdXQsIGAke3RpbWVvdXRNc31gKTtcbiAgICB9XG4gICAgcmVzdWx0LnNldChoZWFkZXJDb250ZW50VHlwZSwgbWV0aG9kS2luZCA9PSBNZXRob2RLaW5kLlVuYXJ5XG4gICAgICAgID8gdXNlQmluYXJ5Rm9ybWF0XG4gICAgICAgICAgICA/IGNvbnRlbnRUeXBlVW5hcnlQcm90b1xuICAgICAgICAgICAgOiBjb250ZW50VHlwZVVuYXJ5SnNvblxuICAgICAgICA6IHVzZUJpbmFyeUZvcm1hdFxuICAgICAgICAgICAgPyBjb250ZW50VHlwZVN0cmVhbVByb3RvXG4gICAgICAgICAgICA6IGNvbnRlbnRUeXBlU3RyZWFtSnNvbik7XG4gICAgcmVzdWx0LnNldChoZWFkZXJQcm90b2NvbFZlcnNpb24sIHByb3RvY29sVmVyc2lvbik7XG4gICAgaWYgKHNldFVzZXJBZ2VudCkge1xuICAgICAgICByZXN1bHQuc2V0KGhlYWRlclVzZXJBZ2VudCwgXCJjb25uZWN0LWVzLzEuNi4xXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGhlYWRlcnMgZm9yIGEgQ29ubmVjdCByZXF1ZXN0IHdpdGggY29tcHJlc3Npb24uXG4gKlxuICogTm90ZSB0aGF0IHdlIGFsd2F5cyBzZXQgdGhlIENvbnRlbnQtRW5jb2RpbmcgaGVhZGVyIGZvciB1bmFyeSBtZXRob2RzLlxuICogSXQgaXMgdXAgdG8gdGhlIGNhbGxlciB0byBkZWNpZGUgd2hldGhlciB0byBhcHBseSBjb21wcmVzc2lvbiAtIGFuZCByZW1vdmVcbiAqIHRoZSBoZWFkZXIgaWYgY29tcHJlc3Npb24gaXMgbm90IHVzZWQsIGZvciBleGFtcGxlIGJlY2F1c2UgdGhlIHBheWxvYWQgaXNcbiAqIHRvbyBzbWFsbCB0byBtYWtlIGNvbXByZXNzaW9uIGVmZmVjdGl2ZS5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RIZWFkZXJXaXRoQ29tcHJlc3Npb24obWV0aG9kS2luZCwgdXNlQmluYXJ5Rm9ybWF0LCB0aW1lb3V0TXMsIHVzZXJQcm92aWRlZEhlYWRlcnMsIGFjY2VwdENvbXByZXNzaW9uLCBzZW5kQ29tcHJlc3Npb24sIHNldFVzZXJBZ2VudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHJlcXVlc3RIZWFkZXIobWV0aG9kS2luZCwgdXNlQmluYXJ5Rm9ybWF0LCB0aW1lb3V0TXMsIHVzZXJQcm92aWRlZEhlYWRlcnMsIHNldFVzZXJBZ2VudCk7XG4gICAgaWYgKHNlbmRDb21wcmVzc2lvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBtZXRob2RLaW5kID09IE1ldGhvZEtpbmQuVW5hcnlcbiAgICAgICAgICAgID8gaGVhZGVyVW5hcnlFbmNvZGluZ1xuICAgICAgICAgICAgOiBoZWFkZXJTdHJlYW1FbmNvZGluZztcbiAgICAgICAgcmVzdWx0LnNldChuYW1lLCBzZW5kQ29tcHJlc3Npb24ubmFtZSk7XG4gICAgfVxuICAgIGlmIChhY2NlcHRDb21wcmVzc2lvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBtZXRob2RLaW5kID09IE1ldGhvZEtpbmQuVW5hcnlcbiAgICAgICAgICAgID8gaGVhZGVyVW5hcnlBY2NlcHRFbmNvZGluZ1xuICAgICAgICAgICAgOiBoZWFkZXJTdHJlYW1BY2NlcHRFbmNvZGluZztcbiAgICAgICAgcmVzdWx0LnNldChuYW1lLCBhY2NlcHRDb21wcmVzc2lvbi5tYXAoKGMpID0+IGMubmFtZSkuam9pbihcIixcIikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/request-header.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trailerDemux: () => (/* binding */ trailerDemux),\n/* harmony export */   trailerMux: () => (/* binding */ trailerMux)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * In unary RPCs, Connect transports trailing metadata as response header\n * fields, prefixed with \"trailer-\".\n *\n * This function demuxes headers and trailers into two separate Headers\n * objects.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction trailerDemux(header) {\n    const h = new Headers(), t = new Headers();\n    header.forEach((value, key) => {\n        if (key.toLowerCase().startsWith(\"trailer-\")) {\n            t.append(key.substring(8), value);\n        }\n        else {\n            h.append(key, value);\n        }\n    });\n    return [h, t];\n}\n/**\n * In unary RPCs, Connect transports trailing metadata as response header\n * fields, prefixed with \"trailer-\".\n *\n * This function muxes a header and a trailer into a single Headers object.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction trailerMux(header, trailer) {\n    const h = new Headers(header);\n    trailer.forEach((value, key) => {\n        h.append(`trailer-${key}`, value);\n    });\n    return h;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC90cmFpbGVyLW11eC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsNEJBQTRCLElBQUk7QUFDaEMsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1jb25uZWN0XFx0cmFpbGVyLW11eC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBJbiB1bmFyeSBSUENzLCBDb25uZWN0IHRyYW5zcG9ydHMgdHJhaWxpbmcgbWV0YWRhdGEgYXMgcmVzcG9uc2UgaGVhZGVyXG4gKiBmaWVsZHMsIHByZWZpeGVkIHdpdGggXCJ0cmFpbGVyLVwiLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZGVtdXhlcyBoZWFkZXJzIGFuZCB0cmFpbGVycyBpbnRvIHR3byBzZXBhcmF0ZSBIZWFkZXJzXG4gKiBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhaWxlckRlbXV4KGhlYWRlcikge1xuICAgIGNvbnN0IGggPSBuZXcgSGVhZGVycygpLCB0ID0gbmV3IEhlYWRlcnMoKTtcbiAgICBoZWFkZXIuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChcInRyYWlsZXItXCIpKSB7XG4gICAgICAgICAgICB0LmFwcGVuZChrZXkuc3Vic3RyaW5nKDgpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBbaCwgdF07XG59XG4vKipcbiAqIEluIHVuYXJ5IFJQQ3MsIENvbm5lY3QgdHJhbnNwb3J0cyB0cmFpbGluZyBtZXRhZGF0YSBhcyByZXNwb25zZSBoZWFkZXJcbiAqIGZpZWxkcywgcHJlZml4ZWQgd2l0aCBcInRyYWlsZXItXCIuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBtdXhlcyBhIGhlYWRlciBhbmQgYSB0cmFpbGVyIGludG8gYSBzaW5nbGUgSGVhZGVycyBvYmplY3QuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFpbGVyTXV4KGhlYWRlciwgdHJhaWxlcikge1xuICAgIGNvbnN0IGggPSBuZXcgSGVhZGVycyhoZWFkZXIpO1xuICAgIHRyYWlsZXIuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBoLmFwcGVuZChgdHJhaWxlci0ke2tleX1gLCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGg7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/transport.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/transport.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTransport: () => (/* binding */ createTransport)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _request_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-header.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/request-header.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n/* harmony import */ var _validate_response_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./validate-response.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/validate-response.js\");\n/* harmony import */ var _trailer_mux_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./trailer-mux.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/trailer-mux.js\");\n/* harmony import */ var _error_json_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./error-json.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/error-json.js\");\n/* harmony import */ var _end_stream_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./end-stream.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/end-stream.js\");\n/* harmony import */ var _get_request_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./get-request.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/get-request.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _http_headers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../http-headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/http-headers.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../protocol/run-call.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _context_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context-values.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Create a Transport for the Connect protocol.\n */\nfunction createTransport(opt) {\n    return {\n        async unary(service, method, signal, timeoutMs, header, message, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runUnaryCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {},\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(method.kind, opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message,\n                },\n                next: async (req) => {\n                    var _a;\n                    let requestBody = serialization\n                        .getI(opt.useBinaryFormat)\n                        .serialize(req.message);\n                    if (opt.sendCompression &&\n                        requestBody.byteLength > opt.compressMinBytes) {\n                        requestBody = await opt.sendCompression.compress(requestBody);\n                        req.header.set(_headers_js__WEBPACK_IMPORTED_MODULE_5__.headerUnaryEncoding, opt.sendCompression.name);\n                    }\n                    else {\n                        req.header.delete(_headers_js__WEBPACK_IMPORTED_MODULE_5__.headerUnaryEncoding);\n                    }\n                    const useGet = opt.useHttpGet === true &&\n                        method.idempotency === _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_6__.MethodIdempotency.NoSideEffects;\n                    let body;\n                    if (useGet) {\n                        req = (0,_get_request_js__WEBPACK_IMPORTED_MODULE_7__.transformConnectPostToGetRequest)(req, requestBody, opt.useBinaryFormat);\n                    }\n                    else {\n                        body = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.createAsyncIterable)([requestBody]);\n                    }\n                    const universalResponse = await opt.httpClient({\n                        url: req.url,\n                        method: (_a = req.init.method) !== null && _a !== void 0 ? _a : \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body,\n                    });\n                    const { compression, isUnaryError, unaryError } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_9__.validateResponseWithCompression)(method.kind, opt.acceptCompression, opt.useBinaryFormat, universalResponse.status, universalResponse.header);\n                    const [header, trailer] = (0,_trailer_mux_js__WEBPACK_IMPORTED_MODULE_10__.trailerDemux)(universalResponse.header);\n                    let responseBody = await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.pipeTo)(universalResponse.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.sinkAllBytes)(opt.readMaxBytes, universalResponse.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_5__.headerUnaryContentLength)), { propagateDownStreamError: false });\n                    if (compression) {\n                        responseBody = await compression.decompress(responseBody, opt.readMaxBytes);\n                    }\n                    if (isUnaryError) {\n                        throw (0,_error_json_js__WEBPACK_IMPORTED_MODULE_11__.errorFromJsonBytes)(responseBody, (0,_http_headers_js__WEBPACK_IMPORTED_MODULE_12__.appendHeaders)(header, trailer), unaryError);\n                    }\n                    return {\n                        stream: false,\n                        service,\n                        method,\n                        header,\n                        message: serialization\n                            .getO(opt.useBinaryFormat)\n                            .parse(responseBody),\n                        trailer,\n                    };\n                },\n            });\n        },\n        async stream(service, method, signal, timeoutMs, header, input, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            const endStreamSerialization = (0,_end_stream_js__WEBPACK_IMPORTED_MODULE_13__.createEndStreamSerialization)(opt.jsonOptions);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runStreamingCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: true,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(method.kind, opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message: input,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.pipe)(req.message, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformSerializeEnvelope)(serialization.getI(opt.useBinaryFormat)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformCompressEnvelope)(opt.sendCompression, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformJoinEnvelopes)(), { propagateDownStreamError: true }),\n                    });\n                    const { compression } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_9__.validateResponseWithCompression)(method.kind, opt.acceptCompression, opt.useBinaryFormat, uRes.status, uRes.header);\n                    const res = Object.assign(Object.assign({}, req), { header: uRes.header, trailer: new Headers(), message: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.pipe)(uRes.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformDecompressEnvelope)(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_8__.transformParseEnvelope)(serialization.getO(opt.useBinaryFormat), _end_stream_js__WEBPACK_IMPORTED_MODULE_13__.endStreamFlag, endStreamSerialization), function (iterable) {\n                            return __asyncGenerator(this, arguments, function* () {\n                                var _a, e_1, _b, _c;\n                                let endStreamReceived = false;\n                                try {\n                                    for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = yield __await(iterable_1.next()), _a = iterable_1_1.done, !_a; _d = true) {\n                                        _c = iterable_1_1.value;\n                                        _d = false;\n                                        const chunk = _c;\n                                        if (chunk.end) {\n                                            if (endStreamReceived) {\n                                                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_14__.ConnectError(\"protocol error: received extra EndStreamResponse\", _code_js__WEBPACK_IMPORTED_MODULE_15__.Code.InvalidArgument);\n                                            }\n                                            endStreamReceived = true;\n                                            if (chunk.value.error) {\n                                                const error = chunk.value.error;\n                                                uRes.header.forEach((value, key) => {\n                                                    error.metadata.append(key, value);\n                                                });\n                                                throw error;\n                                            }\n                                            chunk.value.metadata.forEach((value, key) => res.trailer.set(key, value));\n                                            continue;\n                                        }\n                                        if (endStreamReceived) {\n                                            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_14__.ConnectError(\"protocol error: received extra message after EndStreamResponse\", _code_js__WEBPACK_IMPORTED_MODULE_15__.Code.InvalidArgument);\n                                        }\n                                        yield yield __await(chunk.value);\n                                    }\n                                }\n                                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                                finally {\n                                    try {\n                                        if (!_d && !_a && (_b = iterable_1.return)) yield __await(_b.call(iterable_1));\n                                    }\n                                    finally { if (e_1) throw e_1.error; }\n                                }\n                                if (!endStreamReceived) {\n                                    throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_14__.ConnectError(\"protocol error: missing EndStreamResponse\", _code_js__WEBPACK_IMPORTED_MODULE_15__.Code.InvalidArgument);\n                                }\n                            });\n                        }, { propagateDownStreamError: true }) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC90cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFJLElBQUksU0FBSTtBQUNqQztBQUNBO0FBQ0EsMkdBQTJHLHVGQUF1RixjQUFjO0FBQ2hOLHVCQUF1Qiw4QkFBOEIsZ0RBQWdELHdEQUF3RDtBQUM3Siw2Q0FBNkMsc0NBQXNDLFVBQVUsbUJBQW1CLElBQUk7QUFDcEg7QUFDQSxlQUFlLFNBQUksSUFBSSxTQUFJLDRCQUE0QjtBQUN2RCx3QkFBd0IsU0FBSSxJQUFJLFNBQUk7QUFDcEM7QUFDQTtBQUNBLGlCQUFpQixvR0FBb0csY0FBYztBQUNuSSw4QkFBOEIsc0JBQXNCO0FBQ3BELDBCQUEwQixZQUFZLHNCQUFzQixxQ0FBcUMsMkNBQTJDLE1BQU07QUFDbEosNEJBQTRCLE1BQU0saUJBQWlCLFlBQVk7QUFDL0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCO0FBQ3VEO0FBQ1k7QUFDVTtBQUNKO0FBQ3pCO0FBQ0s7QUFDeUI7QUFDVjtBQUNsQztBQUNpQjtBQUNBO0FBQzBNO0FBQzFMO0FBQ007QUFDTTtBQUNwQjtBQUMzRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQStCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtRUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwrRUFBZTtBQUN4Qyw0QkFBNEI7QUFDNUIsNEJBQTRCLGdGQUE0QjtBQUN4RCx3R0FBd0csdUVBQW1CO0FBQzNIO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNERBQW1CO0FBQzFEO0FBQ0E7QUFDQSwwQ0FBMEMsNERBQW1CO0FBQzdEO0FBQ0E7QUFDQSwrQ0FBK0MsaUVBQWlCO0FBQ2hFO0FBQ0E7QUFDQSw4QkFBOEIsaUZBQWdDO0FBQzlEO0FBQ0E7QUFDQSwrQkFBK0IsZ0ZBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDRCQUE0Qix3Q0FBd0MsRUFBRSxzRkFBK0I7QUFDckcsOENBQThDLDhEQUFZO0FBQzFELDZDQUE2QyxtRUFBTSx5QkFBeUIseUVBQVksZ0RBQWdELGlFQUF3QixNQUFNLGlDQUFpQztBQUN2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtRUFBa0IsZUFBZSxnRUFBYTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxrQ0FBa0MsMkZBQStCO0FBQ2pFLDJDQUEyQyw2RUFBNEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVFQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwrRUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiw0QkFBNEIsZ0ZBQTRCO0FBQ3hELHdHQUF3Ryx1RUFBbUI7QUFDM0g7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUFJLGNBQWMsdUZBQTBCLDJDQUEyQyxzRkFBeUIsNkNBQTZDLG1GQUFzQixNQUFNLGdDQUFnQztBQUN2UCxxQkFBcUI7QUFDckIsNEJBQTRCLGNBQWMsRUFBRSxzRkFBK0I7QUFDM0UsOERBQThELFVBQVUsc0RBQXNELGlFQUFJLFlBQVksbUZBQXNCLG9CQUFvQix3RkFBMkIseUZBQXlGLG1GQUFzQiwwQ0FBMEMsMERBQWE7QUFDelg7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0R0FBNEcsOEVBQThFO0FBQzFMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNERBQVkscURBQXFELDJDQUFJO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsNERBQVksbUVBQW1FLDJDQUFJO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLDhDQUE4Qyw0REFBWSw4Q0FBOEMsMkNBQUk7QUFDNUc7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCLElBQUksZ0NBQWdDLEdBQUc7QUFDaEU7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcdHJhbnNwb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG52YXIgX19hc3luY1ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX19hc3luY1ZhbHVlcykgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59O1xudmFyIF9fYXdhaXQgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXQpIHx8IGZ1bmN0aW9uICh2KSB7IHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpOyB9XG52YXIgX19hc3luY0dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19hc3luY0dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufTtcbmltcG9ydCB7IE1ldGhvZElkZW1wb3RlbmN5IH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgcmVxdWVzdEhlYWRlcldpdGhDb21wcmVzc2lvbiB9IGZyb20gXCIuL3JlcXVlc3QtaGVhZGVyLmpzXCI7XG5pbXBvcnQgeyBoZWFkZXJVbmFyeUNvbnRlbnRMZW5ndGgsIGhlYWRlclVuYXJ5RW5jb2RpbmcgfSBmcm9tIFwiLi9oZWFkZXJzLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uIH0gZnJvbSBcIi4vdmFsaWRhdGUtcmVzcG9uc2UuanNcIjtcbmltcG9ydCB7IHRyYWlsZXJEZW11eCB9IGZyb20gXCIuL3RyYWlsZXItbXV4LmpzXCI7XG5pbXBvcnQgeyBlcnJvckZyb21Kc29uQnl0ZXMgfSBmcm9tIFwiLi9lcnJvci1qc29uLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbmRTdHJlYW1TZXJpYWxpemF0aW9uLCBlbmRTdHJlYW1GbGFnIH0gZnJvbSBcIi4vZW5kLXN0cmVhbS5qc1wiO1xuaW1wb3J0IHsgdHJhbnNmb3JtQ29ubmVjdFBvc3RUb0dldFJlcXVlc3QgfSBmcm9tIFwiLi9nZXQtcmVxdWVzdC5qc1wiO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgYXBwZW5kSGVhZGVycyB9IGZyb20gXCIuLi9odHRwLWhlYWRlcnMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUFzeW5jSXRlcmFibGUsIHBpcGVUbywgc2lua0FsbEJ5dGVzLCBwaXBlLCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZSwgdHJhbnNmb3JtSm9pbkVudmVsb3BlcywgdHJhbnNmb3JtU3BsaXRFbnZlbG9wZSwgdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlLCB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlLCB9IGZyb20gXCIuLi9wcm90b2NvbC9hc3luYy1pdGVyYWJsZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlTWV0aG9kVXJsIH0gZnJvbSBcIi4uL3Byb3RvY29sL2NyZWF0ZS1tZXRob2QtdXJsLmpzXCI7XG5pbXBvcnQgeyBydW5VbmFyeUNhbGwsIHJ1blN0cmVhbWluZ0NhbGwgfSBmcm9tIFwiLi4vcHJvdG9jb2wvcnVuLWNhbGwuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAgfSBmcm9tIFwiLi4vcHJvdG9jb2wvc2VyaWFsaXphdGlvbi5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFZhbHVlcyB9IGZyb20gXCIuLi9jb250ZXh0LXZhbHVlcy5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBUcmFuc3BvcnQgZm9yIHRoZSBDb25uZWN0IHByb3RvY29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwb3J0KG9wdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIHVuYXJ5KHNlcnZpY2UsIG1ldGhvZCwgc2lnbmFsLCB0aW1lb3V0TXMsIGhlYWRlciwgbWVzc2FnZSwgY29udGV4dFZhbHVlcykge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphdGlvbiA9IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAobWV0aG9kLCBvcHQuYmluYXJ5T3B0aW9ucywgb3B0Lmpzb25PcHRpb25zLCBvcHQpO1xuICAgICAgICAgICAgdGltZW91dE1zID1cbiAgICAgICAgICAgICAgICB0aW1lb3V0TXMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5kZWZhdWx0VGltZW91dE1zXG4gICAgICAgICAgICAgICAgICAgIDogdGltZW91dE1zIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRpbWVvdXRNcztcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBydW5VbmFyeUNhbGwoe1xuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yczogb3B0LmludGVyY2VwdG9ycyxcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgICAgIHJlcToge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHVybDogY3JlYXRlTWV0aG9kVXJsKG9wdC5iYXNlVXJsLCBzZXJ2aWNlLCBtZXRob2QpLFxuICAgICAgICAgICAgICAgICAgICBpbml0OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXF1ZXN0SGVhZGVyV2l0aENvbXByZXNzaW9uKG1ldGhvZC5raW5kLCBvcHQudXNlQmluYXJ5Rm9ybWF0LCB0aW1lb3V0TXMsIGhlYWRlciwgb3B0LmFjY2VwdENvbXByZXNzaW9uLCBvcHQuc2VuZENvbXByZXNzaW9uLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFZhbHVlczogY29udGV4dFZhbHVlcyAhPT0gbnVsbCAmJiBjb250ZXh0VmFsdWVzICE9PSB2b2lkIDAgPyBjb250ZXh0VmFsdWVzIDogY3JlYXRlQ29udGV4dFZhbHVlcygpLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmV4dDogYXN5bmMgKHJlcSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0Qm9keSA9IHNlcmlhbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRJKG9wdC51c2VCaW5hcnlGb3JtYXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VyaWFsaXplKHJlcS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdC5zZW5kQ29tcHJlc3Npb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RCb2R5LmJ5dGVMZW5ndGggPiBvcHQuY29tcHJlc3NNaW5CeXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEJvZHkgPSBhd2FpdCBvcHQuc2VuZENvbXByZXNzaW9uLmNvbXByZXNzKHJlcXVlc3RCb2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5oZWFkZXIuc2V0KGhlYWRlclVuYXJ5RW5jb2RpbmcsIG9wdC5zZW5kQ29tcHJlc3Npb24ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuaGVhZGVyLmRlbGV0ZShoZWFkZXJVbmFyeUVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VHZXQgPSBvcHQudXNlSHR0cEdldCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmlkZW1wb3RlbmN5ID09PSBNZXRob2RJZGVtcG90ZW5jeS5Ob1NpZGVFZmZlY3RzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxID0gdHJhbnNmb3JtQ29ubmVjdFBvc3RUb0dldFJlcXVlc3QocmVxLCByZXF1ZXN0Qm9keSwgb3B0LnVzZUJpbmFyeUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gY3JlYXRlQXN5bmNJdGVyYWJsZShbcmVxdWVzdEJvZHldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml2ZXJzYWxSZXNwb25zZSA9IGF3YWl0IG9wdC5odHRwQ2xpZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcmVxLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogKF9hID0gcmVxLmluaXQubWV0aG9kKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogcmVxLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogcmVxLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXByZXNzaW9uLCBpc1VuYXJ5RXJyb3IsIHVuYXJ5RXJyb3IgfSA9IHZhbGlkYXRlUmVzcG9uc2VXaXRoQ29tcHJlc3Npb24obWV0aG9kLmtpbmQsIG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgb3B0LnVzZUJpbmFyeUZvcm1hdCwgdW5pdmVyc2FsUmVzcG9uc2Uuc3RhdHVzLCB1bml2ZXJzYWxSZXNwb25zZS5oZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbaGVhZGVyLCB0cmFpbGVyXSA9IHRyYWlsZXJEZW11eCh1bml2ZXJzYWxSZXNwb25zZS5oZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcGlwZVRvKHVuaXZlcnNhbFJlc3BvbnNlLmJvZHksIHNpbmtBbGxCeXRlcyhvcHQucmVhZE1heEJ5dGVzLCB1bml2ZXJzYWxSZXNwb25zZS5oZWFkZXIuZ2V0KGhlYWRlclVuYXJ5Q29udGVudExlbmd0aCkpLCB7IHByb3BhZ2F0ZURvd25TdHJlYW1FcnJvcjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VCb2R5ID0gYXdhaXQgY29tcHJlc3Npb24uZGVjb21wcmVzcyhyZXNwb25zZUJvZHksIG9wdC5yZWFkTWF4Qnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VuYXJ5RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRnJvbUpzb25CeXRlcyhyZXNwb25zZUJvZHksIGFwcGVuZEhlYWRlcnMoaGVhZGVyLCB0cmFpbGVyKSwgdW5hcnlFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2VyaWFsaXphdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRPKG9wdC51c2VCaW5hcnlGb3JtYXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcnNlKHJlc3BvbnNlQm9keSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbGVyLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgc3RyZWFtKHNlcnZpY2UsIG1ldGhvZCwgc2lnbmFsLCB0aW1lb3V0TXMsIGhlYWRlciwgaW5wdXQsIGNvbnRleHRWYWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6YXRpb24gPSBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwKG1ldGhvZCwgb3B0LmJpbmFyeU9wdGlvbnMsIG9wdC5qc29uT3B0aW9ucywgb3B0KTtcbiAgICAgICAgICAgIGNvbnN0IGVuZFN0cmVhbVNlcmlhbGl6YXRpb24gPSBjcmVhdGVFbmRTdHJlYW1TZXJpYWxpemF0aW9uKG9wdC5qc29uT3B0aW9ucyk7XG4gICAgICAgICAgICB0aW1lb3V0TXMgPVxuICAgICAgICAgICAgICAgIHRpbWVvdXRNcyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmRlZmF1bHRUaW1lb3V0TXNcbiAgICAgICAgICAgICAgICAgICAgOiB0aW1lb3V0TXMgPD0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGltZW91dE1zO1xuICAgICAgICAgICAgcmV0dXJuIHJ1blN0cmVhbWluZ0NhbGwoe1xuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yczogb3B0LmludGVyY2VwdG9ycyxcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgICAgIHJlcToge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjcmVhdGVNZXRob2RVcmwob3B0LmJhc2VVcmwsIHNlcnZpY2UsIG1ldGhvZCksXG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogcmVxdWVzdEhlYWRlcldpdGhDb21wcmVzc2lvbihtZXRob2Qua2luZCwgb3B0LnVzZUJpbmFyeUZvcm1hdCwgdGltZW91dE1zLCBoZWFkZXIsIG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgb3B0LnNlbmRDb21wcmVzc2lvbiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRWYWx1ZXM6IGNvbnRleHRWYWx1ZXMgIT09IG51bGwgJiYgY29udGV4dFZhbHVlcyAhPT0gdm9pZCAwID8gY29udGV4dFZhbHVlcyA6IGNyZWF0ZUNvbnRleHRWYWx1ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVSZXMgPSBhd2FpdCBvcHQuaHR0cENsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXEuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiByZXEuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGlwZShyZXEubWVzc2FnZSwgdHJhbnNmb3JtU2VyaWFsaXplRW52ZWxvcGUoc2VyaWFsaXphdGlvbi5nZXRJKG9wdC51c2VCaW5hcnlGb3JtYXQpKSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZShvcHQuc2VuZENvbXByZXNzaW9uLCBvcHQuY29tcHJlc3NNaW5CeXRlcyksIHRyYW5zZm9ybUpvaW5FbnZlbG9wZXMoKSwgeyBwcm9wYWdhdGVEb3duU3RyZWFtRXJyb3I6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXByZXNzaW9uIH0gPSB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uKG1ldGhvZC5raW5kLCBvcHQuYWNjZXB0Q29tcHJlc3Npb24sIG9wdC51c2VCaW5hcnlGb3JtYXQsIHVSZXMuc3RhdHVzLCB1UmVzLmhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVxKSwgeyBoZWFkZXI6IHVSZXMuaGVhZGVyLCB0cmFpbGVyOiBuZXcgSGVhZGVycygpLCBtZXNzYWdlOiBwaXBlKHVSZXMuYm9keSwgdHJhbnNmb3JtU3BsaXRFbnZlbG9wZShvcHQucmVhZE1heEJ5dGVzKSwgdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlKGNvbXByZXNzaW9uICE9PSBudWxsICYmIGNvbXByZXNzaW9uICE9PSB2b2lkIDAgPyBjb21wcmVzc2lvbiA6IG51bGwsIG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0TyhvcHQudXNlQmluYXJ5Rm9ybWF0KSwgZW5kU3RyZWFtRmxhZywgZW5kU3RyZWFtU2VyaWFsaXphdGlvbiksIGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBlXzEsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZFN0cmVhbVJlY2VpdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IHRydWUsIGl0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xOyBpdGVyYWJsZV8xXzEgPSB5aWVsZCBfX2F3YWl0KGl0ZXJhYmxlXzEubmV4dCgpKSwgX2EgPSBpdGVyYWJsZV8xXzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kU3RyZWFtUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgRW5kU3RyZWFtUmVzcG9uc2VcIiwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFN0cmVhbVJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnZhbHVlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGNodW5rLnZhbHVlLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdVJlcy5oZWFkZXIuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1ldGFkYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudmFsdWUubWV0YWRhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gcmVzLnRyYWlsZXIuc2V0KGtleSwgdmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRTdHJlYW1SZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IHJlY2VpdmVkIGV4dHJhIG1lc3NhZ2UgYWZ0ZXIgRW5kU3RyZWFtUmVzcG9uc2VcIiwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KGNodW5rLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfZCAmJiAhX2EgJiYgKF9iID0gaXRlcmFibGVfMS5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRlcmFibGVfMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW5kU3RyZWFtUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogbWlzc2luZyBFbmRTdHJlYW1SZXNwb25zZVwiLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/validate-response.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/validate-response.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateResponse: () => (/* binding */ validateResponse),\n/* harmony export */   validateResponseWithCompression: () => (/* binding */ validateResponseWithCompression)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _http_status_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/http-status.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/content-type.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n/**\n * Validates response status and header for the Connect protocol.\n * Throws a ConnectError if the header indicates an error, or if\n * the content type is unexpected, with the following exception:\n * For unary RPCs with an HTTP error status, this returns an error\n * derived from the HTTP status instead of throwing it, giving an\n * implementation a chance to parse a Connect error from the wire.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateResponse(methodKind, useBinaryFormat, status, headers) {\n    const mimeType = headers.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerContentType);\n    const parsedType = (0,_content_type_js__WEBPACK_IMPORTED_MODULE_1__.parseContentType)(mimeType);\n    if (status !== 200) {\n        const errorFromStatus = new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(`HTTP ${status}`, (0,_http_status_js__WEBPACK_IMPORTED_MODULE_3__.codeFromHttpStatus)(status), headers);\n        // If parsedType is defined and it is not binary, then this is a unary JSON response\n        if (methodKind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_4__.MethodKind.Unary && parsedType && !parsedType.binary) {\n            return { isUnaryError: true, unaryError: errorFromStatus };\n        }\n        throw errorFromStatus;\n    }\n    const allowedContentType = {\n        binary: useBinaryFormat,\n        stream: methodKind !== _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_4__.MethodKind.Unary,\n    };\n    if ((parsedType === null || parsedType === void 0 ? void 0 : parsedType.binary) !== allowedContentType.binary ||\n        parsedType.stream !== allowedContentType.stream) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(`unsupported content type ${mimeType}`, parsedType === undefined ? _code_js__WEBPACK_IMPORTED_MODULE_5__.Code.Unknown : _code_js__WEBPACK_IMPORTED_MODULE_5__.Code.Internal, headers);\n    }\n    return { isUnaryError: false };\n}\n/**\n * Validates response status and header for the Connect protocol.\n * This function is identical to validateResponse(), but also verifies\n * that a given encoding header is acceptable.\n *\n * @private\n */\nfunction validateResponseWithCompression(methodKind, acceptCompression, useBinaryFormat, status, headers) {\n    let compression;\n    const encoding = headers.get(methodKind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_4__.MethodKind.Unary ? _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUnaryEncoding : _headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStreamEncoding);\n    if (encoding != null && encoding.toLowerCase() !== \"identity\") {\n        compression = acceptCompression.find((c) => c.name === encoding);\n        if (!compression) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(`unsupported response encoding \"${encoding}\"`, _code_js__WEBPACK_IMPORTED_MODULE_5__.Code.Internal, headers);\n        }\n    }\n    return Object.assign({ compression }, validateResponse(methodKind, useBinaryFormat, status, headers));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC92YWxpZGF0ZS1yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dEO0FBQ2Q7QUFDb0I7QUFDSDtBQUNFO0FBQ3dDO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsMERBQWlCO0FBQ2xELHVCQUF1QixrRUFBZ0I7QUFDdkM7QUFDQSxvQ0FBb0MsMkRBQVksU0FBUyxPQUFPLEdBQUcsbUVBQWtCO0FBQ3JGO0FBQ0EsMEJBQTBCLDBEQUFVO0FBQ3BDLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDBEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwyREFBWSw2QkFBNkIsU0FBUyw4QkFBOEIsMENBQUksV0FBVywwQ0FBSTtBQUNySDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLCtDQUErQywwREFBVSxTQUFTLDREQUFtQixHQUFHLDZEQUFvQjtBQUM1RztBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVksbUNBQW1DLFNBQVMsSUFBSSwwQ0FBSTtBQUN0RjtBQUNBO0FBQ0EsMkJBQTJCLGFBQWE7QUFDeEMiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1jb25uZWN0XFx2YWxpZGF0ZS1yZXNwb25zZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgTWV0aG9kS2luZCB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY29kZUZyb21IdHRwU3RhdHVzIH0gZnJvbSBcIi4vaHR0cC1zdGF0dXMuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUNvbnRlbnRUeXBlIH0gZnJvbSBcIi4vY29udGVudC10eXBlLmpzXCI7XG5pbXBvcnQgeyBoZWFkZXJDb250ZW50VHlwZSwgaGVhZGVyU3RyZWFtRW5jb2RpbmcsIGhlYWRlclVuYXJ5RW5jb2RpbmcsIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuLyoqXG4gKiBWYWxpZGF0ZXMgcmVzcG9uc2Ugc3RhdHVzIGFuZCBoZWFkZXIgZm9yIHRoZSBDb25uZWN0IHByb3RvY29sLlxuICogVGhyb3dzIGEgQ29ubmVjdEVycm9yIGlmIHRoZSBoZWFkZXIgaW5kaWNhdGVzIGFuIGVycm9yLCBvciBpZlxuICogdGhlIGNvbnRlbnQgdHlwZSBpcyB1bmV4cGVjdGVkLCB3aXRoIHRoZSBmb2xsb3dpbmcgZXhjZXB0aW9uOlxuICogRm9yIHVuYXJ5IFJQQ3Mgd2l0aCBhbiBIVFRQIGVycm9yIHN0YXR1cywgdGhpcyByZXR1cm5zIGFuIGVycm9yXG4gKiBkZXJpdmVkIGZyb20gdGhlIEhUVFAgc3RhdHVzIGluc3RlYWQgb2YgdGhyb3dpbmcgaXQsIGdpdmluZyBhblxuICogaW1wbGVtZW50YXRpb24gYSBjaGFuY2UgdG8gcGFyc2UgYSBDb25uZWN0IGVycm9yIGZyb20gdGhlIHdpcmUuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlc3BvbnNlKG1ldGhvZEtpbmQsIHVzZUJpbmFyeUZvcm1hdCwgc3RhdHVzLCBoZWFkZXJzKSB7XG4gICAgY29uc3QgbWltZVR5cGUgPSBoZWFkZXJzLmdldChoZWFkZXJDb250ZW50VHlwZSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHBhcnNlQ29udGVudFR5cGUobWltZVR5cGUpO1xuICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgICBjb25zdCBlcnJvckZyb21TdGF0dXMgPSBuZXcgQ29ubmVjdEVycm9yKGBIVFRQICR7c3RhdHVzfWAsIGNvZGVGcm9tSHR0cFN0YXR1cyhzdGF0dXMpLCBoZWFkZXJzKTtcbiAgICAgICAgLy8gSWYgcGFyc2VkVHlwZSBpcyBkZWZpbmVkIGFuZCBpdCBpcyBub3QgYmluYXJ5LCB0aGVuIHRoaXMgaXMgYSB1bmFyeSBKU09OIHJlc3BvbnNlXG4gICAgICAgIGlmIChtZXRob2RLaW5kID09IE1ldGhvZEtpbmQuVW5hcnkgJiYgcGFyc2VkVHlwZSAmJiAhcGFyc2VkVHlwZS5iaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGlzVW5hcnlFcnJvcjogdHJ1ZSwgdW5hcnlFcnJvcjogZXJyb3JGcm9tU3RhdHVzIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3JGcm9tU3RhdHVzO1xuICAgIH1cbiAgICBjb25zdCBhbGxvd2VkQ29udGVudFR5cGUgPSB7XG4gICAgICAgIGJpbmFyeTogdXNlQmluYXJ5Rm9ybWF0LFxuICAgICAgICBzdHJlYW06IG1ldGhvZEtpbmQgIT09IE1ldGhvZEtpbmQuVW5hcnksXG4gICAgfTtcbiAgICBpZiAoKHBhcnNlZFR5cGUgPT09IG51bGwgfHwgcGFyc2VkVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyc2VkVHlwZS5iaW5hcnkpICE9PSBhbGxvd2VkQ29udGVudFR5cGUuYmluYXJ5IHx8XG4gICAgICAgIHBhcnNlZFR5cGUuc3RyZWFtICE9PSBhbGxvd2VkQ29udGVudFR5cGUuc3RyZWFtKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYHVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZSAke21pbWVUeXBlfWAsIHBhcnNlZFR5cGUgPT09IHVuZGVmaW5lZCA/IENvZGUuVW5rbm93biA6IENvZGUuSW50ZXJuYWwsIGhlYWRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4geyBpc1VuYXJ5RXJyb3I6IGZhbHNlIH07XG59XG4vKipcbiAqIFZhbGlkYXRlcyByZXNwb25zZSBzdGF0dXMgYW5kIGhlYWRlciBmb3IgdGhlIENvbm5lY3QgcHJvdG9jb2wuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGlkZW50aWNhbCB0byB2YWxpZGF0ZVJlc3BvbnNlKCksIGJ1dCBhbHNvIHZlcmlmaWVzXG4gKiB0aGF0IGEgZ2l2ZW4gZW5jb2RpbmcgaGVhZGVyIGlzIGFjY2VwdGFibGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVzcG9uc2VXaXRoQ29tcHJlc3Npb24obWV0aG9kS2luZCwgYWNjZXB0Q29tcHJlc3Npb24sIHVzZUJpbmFyeUZvcm1hdCwgc3RhdHVzLCBoZWFkZXJzKSB7XG4gICAgbGV0IGNvbXByZXNzaW9uO1xuICAgIGNvbnN0IGVuY29kaW5nID0gaGVhZGVycy5nZXQobWV0aG9kS2luZCA9PSBNZXRob2RLaW5kLlVuYXJ5ID8gaGVhZGVyVW5hcnlFbmNvZGluZyA6IGhlYWRlclN0cmVhbUVuY29kaW5nKTtcbiAgICBpZiAoZW5jb2RpbmcgIT0gbnVsbCAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpICE9PSBcImlkZW50aXR5XCIpIHtcbiAgICAgICAgY29tcHJlc3Npb24gPSBhY2NlcHRDb21wcmVzc2lvbi5maW5kKChjKSA9PiBjLm5hbWUgPT09IGVuY29kaW5nKTtcbiAgICAgICAgaWYgKCFjb21wcmVzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihgdW5zdXBwb3J0ZWQgcmVzcG9uc2UgZW5jb2RpbmcgXCIke2VuY29kaW5nfVwiYCwgQ29kZS5JbnRlcm5hbCwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBjb21wcmVzc2lvbiB9LCB2YWxpZGF0ZVJlc3BvbnNlKG1ldGhvZEtpbmQsIHVzZUJpbmFyeUZvcm1hdCwgc3RhdHVzLCBoZWFkZXJzKSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/validate-response.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   protocolVersion: () => (/* binding */ protocolVersion),\n/* harmony export */   requireProtocolVersionHeader: () => (/* binding */ requireProtocolVersionHeader),\n/* harmony export */   requireProtocolVersionParam: () => (/* binding */ requireProtocolVersionParam)\n/* harmony export */ });\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/headers.js\");\n/* harmony import */ var _query_params_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./query-params.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/query-params.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * The only know value for the header Connect-Protocol-Version.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst protocolVersion = \"1\";\n/**\n * Requires the Connect-Protocol-Version header to be present with the expected\n * value. Raises a ConnectError with Code.InvalidArgument otherwise.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requireProtocolVersionHeader(requestHeader) {\n    const v = requestHeader.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerProtocolVersion);\n    if (v === null) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`missing required header: set ${_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerProtocolVersion} to \"${protocolVersion}\"`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.InvalidArgument);\n    }\n    else if (v !== protocolVersion) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`${_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerProtocolVersion} must be \"${protocolVersion}\": got \"${v}\"`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.InvalidArgument);\n    }\n}\n/**\n * Requires the connect query parameter to be present with the expected value.\n * Raises a ConnectError with Code.InvalidArgument otherwise.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requireProtocolVersionParam(queryParams) {\n    const v = queryParams.get(_query_params_js__WEBPACK_IMPORTED_MODULE_3__.paramConnectVersion);\n    if (v === null) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`missing required parameter: set ${_query_params_js__WEBPACK_IMPORTED_MODULE_3__.paramConnectVersion} to \"v${protocolVersion}\"`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.InvalidArgument);\n    }\n    else if (v !== `v${protocolVersion}`) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`${_query_params_js__WEBPACK_IMPORTED_MODULE_3__.paramConnectVersion} must be \"v${protocolVersion}\": got \"${v}\"`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.InvalidArgument);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtY29ubmVjdC92ZXJzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNxRDtBQUNHO0FBQ0w7QUFDakI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQ0FBZ0MsOERBQXFCO0FBQ3JEO0FBQ0Esa0JBQWtCLDJEQUFZLGlDQUFpQyw4REFBcUIsRUFBRSxNQUFNLGdCQUFnQixJQUFJLDBDQUFJO0FBQ3BIO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQVksSUFBSSw4REFBcUIsRUFBRSxXQUFXLGdCQUFnQixVQUFVLEVBQUUsSUFBSSwwQ0FBSTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw4QkFBOEIsaUVBQW1CO0FBQ2pEO0FBQ0Esa0JBQWtCLDJEQUFZLG9DQUFvQyxpRUFBbUIsRUFBRSxPQUFPLGdCQUFnQixJQUFJLDBDQUFJO0FBQ3RIO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QyxrQkFBa0IsMkRBQVksSUFBSSxpRUFBbUIsRUFBRSxZQUFZLGdCQUFnQixVQUFVLEVBQUUsSUFBSSwwQ0FBSTtBQUN2RztBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtY29ubmVjdFxcdmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgaGVhZGVyUHJvdG9jb2xWZXJzaW9uIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgcGFyYW1Db25uZWN0VmVyc2lvbiB9IGZyb20gXCIuL3F1ZXJ5LXBhcmFtcy5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuLyoqXG4gKiBUaGUgb25seSBrbm93IHZhbHVlIGZvciB0aGUgaGVhZGVyIENvbm5lY3QtUHJvdG9jb2wtVmVyc2lvbi5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb3RvY29sVmVyc2lvbiA9IFwiMVwiO1xuLyoqXG4gKiBSZXF1aXJlcyB0aGUgQ29ubmVjdC1Qcm90b2NvbC1WZXJzaW9uIGhlYWRlciB0byBiZSBwcmVzZW50IHdpdGggdGhlIGV4cGVjdGVkXG4gKiB2YWx1ZS4gUmFpc2VzIGEgQ29ubmVjdEVycm9yIHdpdGggQ29kZS5JbnZhbGlkQXJndW1lbnQgb3RoZXJ3aXNlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZVByb3RvY29sVmVyc2lvbkhlYWRlcihyZXF1ZXN0SGVhZGVyKSB7XG4gICAgY29uc3QgdiA9IHJlcXVlc3RIZWFkZXIuZ2V0KGhlYWRlclByb3RvY29sVmVyc2lvbik7XG4gICAgaWYgKHYgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihgbWlzc2luZyByZXF1aXJlZCBoZWFkZXI6IHNldCAke2hlYWRlclByb3RvY29sVmVyc2lvbn0gdG8gXCIke3Byb3RvY29sVmVyc2lvbn1cImAsIENvZGUuSW52YWxpZEFyZ3VtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodiAhPT0gcHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYCR7aGVhZGVyUHJvdG9jb2xWZXJzaW9ufSBtdXN0IGJlIFwiJHtwcm90b2NvbFZlcnNpb259XCI6IGdvdCBcIiR7dn1cImAsIENvZGUuSW52YWxpZEFyZ3VtZW50KTtcbiAgICB9XG59XG4vKipcbiAqIFJlcXVpcmVzIHRoZSBjb25uZWN0IHF1ZXJ5IHBhcmFtZXRlciB0byBiZSBwcmVzZW50IHdpdGggdGhlIGV4cGVjdGVkIHZhbHVlLlxuICogUmFpc2VzIGEgQ29ubmVjdEVycm9yIHdpdGggQ29kZS5JbnZhbGlkQXJndW1lbnQgb3RoZXJ3aXNlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZVByb3RvY29sVmVyc2lvblBhcmFtKHF1ZXJ5UGFyYW1zKSB7XG4gICAgY29uc3QgdiA9IHF1ZXJ5UGFyYW1zLmdldChwYXJhbUNvbm5lY3RWZXJzaW9uKTtcbiAgICBpZiAodiA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcjogc2V0ICR7cGFyYW1Db25uZWN0VmVyc2lvbn0gdG8gXCJ2JHtwcm90b2NvbFZlcnNpb259XCJgLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHYgIT09IGB2JHtwcm90b2NvbFZlcnNpb259YCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGAke3BhcmFtQ29ubmVjdFZlcnNpb259IG11c3QgYmUgXCJ2JHtwcm90b2NvbFZlcnNpb259XCI6IGdvdCBcIiR7dn1cImAsIENvZGUuSW52YWxpZEFyZ3VtZW50KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/version.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentTypeJson: () => (/* binding */ contentTypeJson),\n/* harmony export */   contentTypeProto: () => (/* binding */ contentTypeProto),\n/* harmony export */   contentTypeRegExp: () => (/* binding */ contentTypeRegExp),\n/* harmony export */   parseContentType: () => (/* binding */ parseContentType)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid gRPC-web Content-Type header value.\n * Note that this includes application/grpc-web-text with the additional base64\n * encoding.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst contentTypeRegExp = /^application\\/grpc-web(-text)?(?:\\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i;\nconst contentTypeProto = \"application/grpc-web+proto\";\nconst contentTypeJson = \"application/grpc-web+json\";\n/**\n * Parse a gRPC-web Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const text = !!match[1];\n    const binary = !match[2];\n    return { text, binary };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvY29udGVudC10eXBlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEVBQTRFO0FBQzVFO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjLXdlYlxcY29udGVudC10eXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIFJlZ3VsYXIgRXhwcmVzc2lvbiB0aGF0IG1hdGNoZXMgYW55IHZhbGlkIGdSUEMtd2ViIENvbnRlbnQtVHlwZSBoZWFkZXIgdmFsdWUuXG4gKiBOb3RlIHRoYXQgdGhpcyBpbmNsdWRlcyBhcHBsaWNhdGlvbi9ncnBjLXdlYi10ZXh0IHdpdGggdGhlIGFkZGl0aW9uYWwgYmFzZTY0XG4gKiBlbmNvZGluZy5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlUmVnRXhwID0gL15hcHBsaWNhdGlvblxcL2dycGMtd2ViKC10ZXh0KT8oPzpcXCsoPzooanNvbikoPzo7ID9jaGFyc2V0PXV0Zi0/OCk/fHByb3RvKSk/JC9pO1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlUHJvdG8gPSBcImFwcGxpY2F0aW9uL2dycGMtd2ViK3Byb3RvXCI7XG5leHBvcnQgY29uc3QgY29udGVudFR5cGVKc29uID0gXCJhcHBsaWNhdGlvbi9ncnBjLXdlYitqc29uXCI7XG4vKipcbiAqIFBhcnNlIGEgZ1JQQy13ZWIgQ29udGVudC1UeXBlIGhlYWRlciB2YWx1ZS5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29udGVudFR5cGUoY29udGVudFR5cGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IGNvbnRlbnRUeXBlID09PSBudWxsIHx8IGNvbnRlbnRUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZW50VHlwZS5tYXRjaChjb250ZW50VHlwZVJlZ0V4cCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gISFtYXRjaFsxXTtcbiAgICBjb25zdCBiaW5hcnkgPSAhbWF0Y2hbMl07XG4gICAgcmV0dXJuIHsgdGV4dCwgYmluYXJ5IH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/handler-factory.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/handler-factory.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandlerFactory: () => (/* binding */ createHandlerFactory)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _implementation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js\");\n/* harmony import */ var _trailer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trailer.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js\");\n/* harmony import */ var _protocol_grpc_parse_timeout_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../protocol-grpc/parse-timeout.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js\");\n/* harmony import */ var _protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../protocol-grpc/trailer-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_compression_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../protocol/compression.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js\");\n/* harmony import */ var _protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../protocol/content-type-matcher.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../protocol/invoke-implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js\");\n/* harmony import */ var _protocol_universal_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../protocol/universal.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst protocolName = \"grpc-web\";\nconst methodPost = \"POST\";\n/**\n * Create a factory that creates gRPC-web handlers.\n */\nfunction createHandlerFactory(options) {\n    const opt = (0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.validateUniversalHandlerOptions)(options);\n    const trailerSerialization = (0,_trailer_js__WEBPACK_IMPORTED_MODULE_1__.createTrailerSerialization)();\n    function fact(spec) {\n        const h = createHandler(opt, trailerSerialization, spec);\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            allowedMethods: [methodPost],\n            supportedContentType: (0,_protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeMatcher)(_content_type_js__WEBPACK_IMPORTED_MODULE_3__.contentTypeRegExp),\n            requestPath: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_4__.createMethodUrl)(\"/\", spec.service, spec.method),\n            service: spec.service,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createHandler(opt, trailerSerialization, spec) {\n    const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_5__.createMethodSerializationLookup)(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n    return async function handle(req) {\n        (0,_protocol_universal_js__WEBPACK_IMPORTED_MODULE_6__.assertByteStreamRequest)(req);\n        const type = (0,_content_type_js__WEBPACK_IMPORTED_MODULE_3__.parseContentType)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerContentType));\n        if (type == undefined || type.text) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_6__.uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_6__.uResponseMethodNotAllowed;\n        }\n        const timeout = (0,_protocol_grpc_parse_timeout_js__WEBPACK_IMPORTED_MODULE_8__.parseTimeout)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerTimeout), opt.maxTimeoutMs);\n        const context = (0,_implementation_js__WEBPACK_IMPORTED_MODULE_9__.createHandlerContext)(Object.assign(Object.assign({}, spec), { requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerContentType]: type.binary ? _content_type_js__WEBPACK_IMPORTED_MODULE_3__.contentTypeProto : _content_type_js__WEBPACK_IMPORTED_MODULE_3__.contentTypeJson,\n            }, responseTrailer: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerGrpcStatus]: _protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_10__.grpcStatusOk,\n            }, contextValues: req.contextValues }));\n        const compression = (0,_protocol_compression_js__WEBPACK_IMPORTED_MODULE_11__.compressionNegotiate)(opt.acceptCompression, req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerEncoding), req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerAcceptEncoding), _headers_js__WEBPACK_IMPORTED_MODULE_7__.headerAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(_headers_js__WEBPACK_IMPORTED_MODULE_7__.headerEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.pipe)(req.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformPrepend)(() => {\n            // raise compression error to serialize it as a trailer status\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformDecompressEnvelope)(compression.request, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformParseEnvelope)(serialization.getI(type.binary), _trailer_js__WEBPACK_IMPORTED_MODULE_1__.trailerFlag));\n        const it = (0,_protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_13__.transformInvokeImplementation)(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.pipe)(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformSerializeEnvelope)(serialization.getO(type.binary)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformCatchFinally)((e) => {\n            context.abort();\n            if (e instanceof _connect_error_js__WEBPACK_IMPORTED_MODULE_14__.ConnectError) {\n                (0,_protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_10__.setTrailerStatus)(context.responseTrailer, e);\n            }\n            else if (e !== undefined) {\n                (0,_protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_10__.setTrailerStatus)(context.responseTrailer, new _connect_error_js__WEBPACK_IMPORTED_MODULE_14__.ConnectError(\"internal error\", _code_js__WEBPACK_IMPORTED_MODULE_15__.Code.Internal, undefined, undefined, e));\n            }\n            return {\n                flags: _trailer_js__WEBPACK_IMPORTED_MODULE_1__.trailerFlag,\n                data: trailerSerialization.serialize(context.responseTrailer),\n            };\n        }), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformCompressEnvelope)(compression.response, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.transformJoinEnvelopes)(), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, _protocol_universal_js__WEBPACK_IMPORTED_MODULE_6__.uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_12__.untilFirst)(outputIt), header: context.responseHeader });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvaGFuZGxlci1mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDbUQ7QUFDakI7QUFDMEI7QUFDVztBQUNrRDtBQUNiO0FBQzNDO0FBQ29CO0FBQ2tMO0FBQ3JNO0FBQ087QUFDTjtBQUNrQjtBQUNOO0FBQ0k7QUFDd0Q7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLCtGQUErQjtBQUMvQyxpQ0FBaUMsdUVBQTBCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MscUZBQWtCLENBQUMsK0RBQWlCO0FBQ3RFLHlCQUF5QiwrRUFBZTtBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkZBQStCO0FBQ3pEO0FBQ0EsUUFBUSwrRUFBdUI7QUFDL0IscUJBQXFCLGtFQUFnQixnQkFBZ0IsMERBQWlCO0FBQ3RFO0FBQ0EsbUJBQW1CLGlGQUE2QjtBQUNoRDtBQUNBO0FBQ0EsbUJBQW1CLDZFQUF5QjtBQUM1QztBQUNBLHdCQUF3Qiw2RUFBWSxnQkFBZ0Isc0RBQWE7QUFDakUsd0JBQXdCLHdFQUFvQiwrQkFBK0IsV0FBVztBQUN0RixpQkFBaUIsMERBQWlCLGlCQUFpQiw4REFBZ0IsR0FBRyw2REFBZTtBQUNyRixhQUFhO0FBQ2IsaUJBQWlCLHlEQUFnQixHQUFHLDJFQUFZO0FBQ2hELGFBQWEsb0NBQW9DO0FBQ2pELDRCQUE0QiwrRUFBb0IsdUNBQXVDLHVEQUFjLGtCQUFrQiw2REFBb0IsR0FBRyw2REFBb0I7QUFDbEs7QUFDQSx1Q0FBdUMsdURBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrRUFBSSxXQUFXLDhFQUFnQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRyxvRkFBc0Isb0JBQW9CLHlGQUEyQix5Q0FBeUMsb0ZBQXNCLGtDQUFrQyxvREFBVztBQUM3TCxtQkFBbUIsa0dBQTZCO0FBQ2hELHlCQUF5QixrRUFBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SkFBNEosWUFBWTtBQUN4SyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsK0pBQStKLHNCQUFzQjtBQUNyTCxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUyxFQUFFLHdGQUEwQixtQ0FBbUMsbUZBQXFCO0FBQzdGO0FBQ0EsNkJBQTZCLDREQUFZO0FBQ3pDLGdCQUFnQixtRkFBZ0I7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixtRkFBZ0IsOEJBQThCLDREQUFZLG1CQUFtQiwyQ0FBSTtBQUNqRztBQUNBO0FBQ0EsdUJBQXVCLG9EQUFXO0FBQ2xDO0FBQ0E7QUFDQSxTQUFTLEdBQUcsdUZBQXlCLDhDQUE4QyxvRkFBc0IsTUFBTSxnQ0FBZ0M7QUFDL0ksNkNBQTZDLEVBQUUsK0RBQVc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdFQUFVLDRDQUE0QztBQUM5RTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwYy13ZWJcXGhhbmRsZXItZmFjdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFuZGxlckNvbnRleHQgfSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb24uanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRyYWlsZXJTZXJpYWxpemF0aW9uLCB0cmFpbGVyRmxhZyB9IGZyb20gXCIuL3RyYWlsZXIuanNcIjtcbmltcG9ydCB7IGhlYWRlckFjY2VwdEVuY29kaW5nLCBoZWFkZXJDb250ZW50VHlwZSwgaGVhZGVyRW5jb2RpbmcsIGhlYWRlckdycGNTdGF0dXMsIGhlYWRlclRpbWVvdXQsIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgY29udGVudFR5cGVKc29uLCBjb250ZW50VHlwZVByb3RvLCBjb250ZW50VHlwZVJlZ0V4cCwgcGFyc2VDb250ZW50VHlwZSwgfSBmcm9tIFwiLi9jb250ZW50LXR5cGUuanNcIjtcbmltcG9ydCB7IHBhcnNlVGltZW91dCB9IGZyb20gXCIuLi9wcm90b2NvbC1ncnBjL3BhcnNlLXRpbWVvdXQuanNcIjtcbmltcG9ydCB7IGdycGNTdGF0dXNPaywgc2V0VHJhaWxlclN0YXR1cywgfSBmcm9tIFwiLi4vcHJvdG9jb2wtZ3JwYy90cmFpbGVyLXN0YXR1cy5qc1wiO1xuaW1wb3J0IHsgcGlwZSwgdHJhbnNmb3JtUHJlcGVuZCwgdHJhbnNmb3JtU3BsaXRFbnZlbG9wZSwgdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlLCB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlLCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZSwgdHJhbnNmb3JtQ2F0Y2hGaW5hbGx5LCB0cmFuc2Zvcm1Db21wcmVzc0VudmVsb3BlLCB0cmFuc2Zvcm1Kb2luRW52ZWxvcGVzLCB1bnRpbEZpcnN0LCB9IGZyb20gXCIuLi9wcm90b2NvbC9hc3luYy1pdGVyYWJsZS5qc1wiO1xuaW1wb3J0IHsgY29tcHJlc3Npb25OZWdvdGlhdGUgfSBmcm9tIFwiLi4vcHJvdG9jb2wvY29tcHJlc3Npb24uanNcIjtcbmltcG9ydCB7IGNvbnRlbnRUeXBlTWF0Y2hlciB9IGZyb20gXCIuLi9wcm90b2NvbC9jb250ZW50LXR5cGUtbWF0Y2hlci5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlTWV0aG9kVXJsIH0gZnJvbSBcIi4uL3Byb3RvY29sL2NyZWF0ZS1tZXRob2QtdXJsLmpzXCI7XG5pbXBvcnQgeyB0cmFuc2Zvcm1JbnZva2VJbXBsZW1lbnRhdGlvbiB9IGZyb20gXCIuLi9wcm90b2NvbC9pbnZva2UtaW1wbGVtZW50YXRpb24uanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAgfSBmcm9tIFwiLi4vcHJvdG9jb2wvc2VyaWFsaXphdGlvbi5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVVbml2ZXJzYWxIYW5kbGVyT3B0aW9ucyB9IGZyb20gXCIuLi9wcm90b2NvbC91bml2ZXJzYWwtaGFuZGxlci5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0Qnl0ZVN0cmVhbVJlcXVlc3QsIHVSZXNwb25zZVVuc3VwcG9ydGVkTWVkaWFUeXBlLCB1UmVzcG9uc2VNZXRob2ROb3RBbGxvd2VkLCB1UmVzcG9uc2VPaywgfSBmcm9tIFwiLi4vcHJvdG9jb2wvdW5pdmVyc2FsLmpzXCI7XG5jb25zdCBwcm90b2NvbE5hbWUgPSBcImdycGMtd2ViXCI7XG5jb25zdCBtZXRob2RQb3N0ID0gXCJQT1NUXCI7XG4vKipcbiAqIENyZWF0ZSBhIGZhY3RvcnkgdGhhdCBjcmVhdGVzIGdSUEMtd2ViIGhhbmRsZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZGxlckZhY3Rvcnkob3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgdHJhaWxlclNlcmlhbGl6YXRpb24gPSBjcmVhdGVUcmFpbGVyU2VyaWFsaXphdGlvbigpO1xuICAgIGZ1bmN0aW9uIGZhY3Qoc3BlYykge1xuICAgICAgICBjb25zdCBoID0gY3JlYXRlSGFuZGxlcihvcHQsIHRyYWlsZXJTZXJpYWxpemF0aW9uLCBzcGVjKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaCwge1xuICAgICAgICAgICAgcHJvdG9jb2xOYW1lczogW3Byb3RvY29sTmFtZV0sXG4gICAgICAgICAgICBhbGxvd2VkTWV0aG9kczogW21ldGhvZFBvc3RdLFxuICAgICAgICAgICAgc3VwcG9ydGVkQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlTWF0Y2hlcihjb250ZW50VHlwZVJlZ0V4cCksXG4gICAgICAgICAgICByZXF1ZXN0UGF0aDogY3JlYXRlTWV0aG9kVXJsKFwiL1wiLCBzcGVjLnNlcnZpY2UsIHNwZWMubWV0aG9kKSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHNwZWMuc2VydmljZSxcbiAgICAgICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmYWN0LnByb3RvY29sTmFtZSA9IHByb3RvY29sTmFtZTtcbiAgICByZXR1cm4gZmFjdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXIob3B0LCB0cmFpbGVyU2VyaWFsaXphdGlvbiwgc3BlYykge1xuICAgIGNvbnN0IHNlcmlhbGl6YXRpb24gPSBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwKHNwZWMubWV0aG9kLCBvcHQuYmluYXJ5T3B0aW9ucywgb3B0Lmpzb25PcHRpb25zLCBvcHQpO1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiBoYW5kbGUocmVxKSB7XG4gICAgICAgIGFzc2VydEJ5dGVTdHJlYW1SZXF1ZXN0KHJlcSk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBwYXJzZUNvbnRlbnRUeXBlKHJlcS5oZWFkZXIuZ2V0KGhlYWRlckNvbnRlbnRUeXBlKSk7XG4gICAgICAgIGlmICh0eXBlID09IHVuZGVmaW5lZCB8fCB0eXBlLnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB1UmVzcG9uc2VVbnN1cHBvcnRlZE1lZGlhVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLm1ldGhvZCAhPT0gbWV0aG9kUG9zdCkge1xuICAgICAgICAgICAgcmV0dXJuIHVSZXNwb25zZU1ldGhvZE5vdEFsbG93ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZW91dCA9IHBhcnNlVGltZW91dChyZXEuaGVhZGVyLmdldChoZWFkZXJUaW1lb3V0KSwgb3B0Lm1heFRpbWVvdXRNcyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVIYW5kbGVyQ29udGV4dChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNwZWMpLCB7IHJlcXVlc3RNZXRob2Q6IHJlcS5tZXRob2QsIHByb3RvY29sTmFtZSwgdGltZW91dE1zOiB0aW1lb3V0LnRpbWVvdXRNcywgc2h1dGRvd25TaWduYWw6IG9wdC5zaHV0ZG93blNpZ25hbCwgcmVxdWVzdFNpZ25hbDogcmVxLnNpZ25hbCwgcmVxdWVzdEhlYWRlcjogcmVxLmhlYWRlciwgdXJsOiByZXEudXJsLCByZXNwb25zZUhlYWRlcjoge1xuICAgICAgICAgICAgICAgIFtoZWFkZXJDb250ZW50VHlwZV06IHR5cGUuYmluYXJ5ID8gY29udGVudFR5cGVQcm90byA6IGNvbnRlbnRUeXBlSnNvbixcbiAgICAgICAgICAgIH0sIHJlc3BvbnNlVHJhaWxlcjoge1xuICAgICAgICAgICAgICAgIFtoZWFkZXJHcnBjU3RhdHVzXTogZ3JwY1N0YXR1c09rLFxuICAgICAgICAgICAgfSwgY29udGV4dFZhbHVlczogcmVxLmNvbnRleHRWYWx1ZXMgfSkpO1xuICAgICAgICBjb25zdCBjb21wcmVzc2lvbiA9IGNvbXByZXNzaW9uTmVnb3RpYXRlKG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgcmVxLmhlYWRlci5nZXQoaGVhZGVyRW5jb2RpbmcpLCByZXEuaGVhZGVyLmdldChoZWFkZXJBY2NlcHRFbmNvZGluZyksIGhlYWRlckFjY2VwdEVuY29kaW5nKTtcbiAgICAgICAgaWYgKGNvbXByZXNzaW9uLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3BvbnNlSGVhZGVyLnNldChoZWFkZXJFbmNvZGluZywgY29tcHJlc3Npb24ucmVzcG9uc2UubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugc3BsaXQgdGhlIHBpcGVsaW5lIGludG8gdHdvIHBhcnRzOiBUaGUgcmVxdWVzdCBpdGVyYXRvciwgYW5kIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBpdGVyYXRvci4gV2UgZG8gdGhpcyBiZWNhdXNlIHRoZSByZXF1ZXN0IGl0ZXJhdG9yIGlzIHJlc3BvbnNpYmxlXG4gICAgICAgIC8vIGZvciBwYXJzaW5nIHRoZSByZXF1ZXN0IGJvZHksIGFuZCB3ZSBkb24ndCB3YW50IHdyaXRlIGVycm9ycyBvZiB0aGUgcmVzcG9uc2VcbiAgICAgICAgLy8gaXRlcmF0b3IgdG8gYWZmZWN0IHRoZSByZXF1ZXN0IGl0ZXJhdG9yLlxuICAgICAgICBjb25zdCBpbnB1dEl0ID0gcGlwZShyZXEuYm9keSwgdHJhbnNmb3JtUHJlcGVuZCgoKSA9PiB7XG4gICAgICAgICAgICAvLyByYWlzZSBjb21wcmVzc2lvbiBlcnJvciB0byBzZXJpYWxpemUgaXQgYXMgYSB0cmFpbGVyIHN0YXR1c1xuICAgICAgICAgICAgaWYgKGNvbXByZXNzaW9uLmVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IGNvbXByZXNzaW9uLmVycm9yO1xuICAgICAgICAgICAgLy8gcmFpc2UgdGltZW91dCBwYXJzaW5nIGVycm9yIHRvIHNlcmlhbGl6ZSBpdCBhcyBhIHRyYWlsZXIgc3RhdHVzXG4gICAgICAgICAgICBpZiAodGltZW91dC5lcnJvcilcbiAgICAgICAgICAgICAgICB0aHJvdyB0aW1lb3V0LmVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSksIHRyYW5zZm9ybVNwbGl0RW52ZWxvcGUob3B0LnJlYWRNYXhCeXRlcyksIHRyYW5zZm9ybURlY29tcHJlc3NFbnZlbG9wZShjb21wcmVzc2lvbi5yZXF1ZXN0LCBvcHQucmVhZE1heEJ5dGVzKSwgdHJhbnNmb3JtUGFyc2VFbnZlbG9wZShzZXJpYWxpemF0aW9uLmdldEkodHlwZS5iaW5hcnkpLCB0cmFpbGVyRmxhZykpO1xuICAgICAgICBjb25zdCBpdCA9IHRyYW5zZm9ybUludm9rZUltcGxlbWVudGF0aW9uKHNwZWMsIGNvbnRleHQsIG9wdC5pbnRlcmNlcHRvcnMpKGlucHV0SXQpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICBjb25zdCBvdXRwdXRJdCA9IHBpcGUoXG4gICAgICAgIC8vIFdlIHdyYXAgdGhlIGl0ZXJhdG9yIGluIGFuIGFzeW5jIGl0ZXJhdG9yIHRvIGVuc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyBhYm9ydCBzaWduYWwgaXMgYWJvcnRlZCB3aGVuIHRoZSBpdGVyYXRvciBpcyBkb25lLlxuICAgICAgICB7XG4gICAgICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6ICgpID0+IGl0Lm5leHQoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3c6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hYm9ydChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBpdC50aHJvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaXQsIGUpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBQcm9taXNlLnJlamVjdCh7IGRvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjogKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKChfYiA9IChfYSA9IGl0LnJldHVybikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaXQsIHYpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdiB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIHRyYW5zZm9ybVNlcmlhbGl6ZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0Tyh0eXBlLmJpbmFyeSkpLCB0cmFuc2Zvcm1DYXRjaEZpbmFsbHkoKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQuYWJvcnQoKTtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29ubmVjdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgc2V0VHJhaWxlclN0YXR1cyhjb250ZXh0LnJlc3BvbnNlVHJhaWxlciwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRUcmFpbGVyU3RhdHVzKGNvbnRleHQucmVzcG9uc2VUcmFpbGVyLCBuZXcgQ29ubmVjdEVycm9yKFwiaW50ZXJuYWwgZXJyb3JcIiwgQ29kZS5JbnRlcm5hbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmxhZ3M6IHRyYWlsZXJGbGFnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHRyYWlsZXJTZXJpYWxpemF0aW9uLnNlcmlhbGl6ZShjb250ZXh0LnJlc3BvbnNlVHJhaWxlciksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZShjb21wcmVzc2lvbi5yZXNwb25zZSwgb3B0LmNvbXByZXNzTWluQnl0ZXMpLCB0cmFuc2Zvcm1Kb2luRW52ZWxvcGVzKCksIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1UmVzcG9uc2VPayksIHsgXG4gICAgICAgICAgICAvLyBXZSB3YWl0IGZvciB0aGUgZmlyc3QgcmVzcG9uc2UgYm9keSBieXRlcyBiZWZvcmUgcmVzb2x2aW5nLCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbnMgaGF2ZSBhIGNoYW5jZSB0byBhZGQgaGVhZGVycyBiZWZvcmUgYW4gYWRhcHRlciBjb21taXRzXG4gICAgICAgICAgICAvLyB0aGVtIHRvIHRoZSB3aXJlLlxuICAgICAgICAgICAgYm9keTogYXdhaXQgdW50aWxGaXJzdChvdXRwdXRJdCksIGhlYWRlcjogY29udGV4dC5yZXNwb25zZUhlYWRlciB9KTtcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/handler-factory.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/headers.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/headers.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerAcceptEncoding: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerAcceptEncoding),\n/* harmony export */   headerContentType: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerContentType),\n/* harmony export */   headerEncoding: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerEncoding),\n/* harmony export */   headerGrpcMessage: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcMessage),\n/* harmony export */   headerGrpcStatus: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcStatus),\n/* harmony export */   headerStatusDetailsBin: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStatusDetailsBin),\n/* harmony export */   headerTimeout: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerTimeout),\n/* harmony export */   headerUserAgent: () => (/* reexport safe */ _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUserAgent),\n/* harmony export */   headerXGrpcWeb: () => (/* binding */ headerXGrpcWeb),\n/* harmony export */   headerXUserAgent: () => (/* binding */ headerXUserAgent)\n/* harmony export */ });\n/* harmony import */ var _protocol_grpc_headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol-grpc/headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\n\n/**\n * gRPC-web does not use the standard header User-Agent.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst headerXUserAgent = \"X-User-Agent\";\n/**\n * The canonical grpc/grpc-web JavaScript implementation sets\n * this request header with value \"1\".\n * Some servers may rely on the header to identify gRPC-web\n * requests. For example the proxy by improbable:\n * https://github.com/improbable-eng/grpc-web/blob/53aaf4cdc0fede7103c1b06f0cfc560c003a5c41/go/grpcweb/wrapper.go#L231\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst headerXGrpcWeb = \"X-Grpc-Web\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvaGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29NO0FBQ3BNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwYy13ZWJcXGhlYWRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8qKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCB7IGhlYWRlckNvbnRlbnRUeXBlLCBoZWFkZXJFbmNvZGluZywgaGVhZGVyQWNjZXB0RW5jb2RpbmcsIGhlYWRlclRpbWVvdXQsIGhlYWRlckdycGNTdGF0dXMsIGhlYWRlckdycGNNZXNzYWdlLCBoZWFkZXJTdGF0dXNEZXRhaWxzQmluLCBoZWFkZXJVc2VyQWdlbnQsIH0gZnJvbSBcIi4uL3Byb3RvY29sLWdycGMvaGVhZGVycy5qc1wiO1xuLyoqXG4gKiBnUlBDLXdlYiBkb2VzIG5vdCB1c2UgdGhlIHN0YW5kYXJkIGhlYWRlciBVc2VyLUFnZW50LlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgaGVhZGVyWFVzZXJBZ2VudCA9IFwiWC1Vc2VyLUFnZW50XCI7XG4vKipcbiAqIFRoZSBjYW5vbmljYWwgZ3JwYy9ncnBjLXdlYiBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIHNldHNcbiAqIHRoaXMgcmVxdWVzdCBoZWFkZXIgd2l0aCB2YWx1ZSBcIjFcIi5cbiAqIFNvbWUgc2VydmVycyBtYXkgcmVseSBvbiB0aGUgaGVhZGVyIHRvIGlkZW50aWZ5IGdSUEMtd2ViXG4gKiByZXF1ZXN0cy4gRm9yIGV4YW1wbGUgdGhlIHByb3h5IGJ5IGltcHJvYmFibGU6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW1wcm9iYWJsZS1lbmcvZ3JwYy13ZWIvYmxvYi81M2FhZjRjZGMwZmVkZTcxMDNjMWIwNmYwY2ZjNTYwYzAwM2E1YzQxL2dvL2dycGN3ZWIvd3JhcHBlci5nbyNMMjMxXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBoZWFkZXJYR3JwY1dlYiA9IFwiWC1HcnBjLVdlYlwiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/request-header.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/request-header.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestHeader: () => (/* binding */ requestHeader),\n/* harmony export */   requestHeaderWithCompression: () => (/* binding */ requestHeaderWithCompression)\n/* harmony export */ });\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/headers.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/content-type.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Creates headers for a gRPC-web request.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeader(useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent) {\n    const result = new Headers(userProvidedHeaders !== null && userProvidedHeaders !== void 0 ? userProvidedHeaders : {});\n    // Note that we do not support the grpc-web-text format.\n    // https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md#protocol-differences-vs-grpc-over-http2\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerContentType, useBinaryFormat ? _content_type_js__WEBPACK_IMPORTED_MODULE_1__.contentTypeProto : _content_type_js__WEBPACK_IMPORTED_MODULE_1__.contentTypeJson);\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerXGrpcWeb, \"1\");\n    // Note that we do not strictly comply with gRPC user agents.\n    // We use \"connect-es/1.2.3\" where gRPC would use \"grpc-es/1.2.3\".\n    // See https://github.com/grpc/grpc/blob/c462bb8d485fc1434ecfae438823ca8d14cf3154/doc/PROTOCOL-HTTP2.md#user-agents\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerXUserAgent, \"connect-es/1.6.1\");\n    if (setUserAgent) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUserAgent, \"connect-es/1.6.1\");\n    }\n    if (timeoutMs !== undefined) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerTimeout, `${timeoutMs}m`);\n    }\n    return result;\n}\n/**\n * Creates headers for a gRPC-web request with compression.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeaderWithCompression(useBinaryFormat, timeoutMs, userProvidedHeaders, acceptCompression, sendCompression, setUserAgent) {\n    const result = requestHeader(useBinaryFormat, timeoutMs, userProvidedHeaders, setUserAgent);\n    if (sendCompression != null) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerEncoding, sendCompression.name);\n    }\n    if (acceptCompression.length > 0) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerAcceptEncoding, acceptCompression.map((c) => c.name).join(\",\"));\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvcmVxdWVzdC1oZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwSjtBQUNwRjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx3SEFBd0g7QUFDeEg7QUFDQTtBQUNBLGVBQWUsMERBQWlCLG9CQUFvQiw4REFBZ0IsR0FBRyw2REFBZTtBQUN0RixlQUFlLHVEQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQWdCO0FBQy9CO0FBQ0EsbUJBQW1CLHdEQUFlO0FBQ2xDO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQWEsS0FBSyxVQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWM7QUFDakM7QUFDQTtBQUNBLG1CQUFtQiw2REFBb0I7QUFDdkM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwYy13ZWJcXHJlcXVlc3QtaGVhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBoZWFkZXJBY2NlcHRFbmNvZGluZywgaGVhZGVyQ29udGVudFR5cGUsIGhlYWRlckVuY29kaW5nLCBoZWFkZXJUaW1lb3V0LCBoZWFkZXJYR3JwY1dlYiwgaGVhZGVyVXNlckFnZW50LCBoZWFkZXJYVXNlckFnZW50LCB9IGZyb20gXCIuL2hlYWRlcnMuanNcIjtcbmltcG9ydCB7IGNvbnRlbnRUeXBlSnNvbiwgY29udGVudFR5cGVQcm90byB9IGZyb20gXCIuL2NvbnRlbnQtdHlwZS5qc1wiO1xuLyoqXG4gKiBDcmVhdGVzIGhlYWRlcnMgZm9yIGEgZ1JQQy13ZWIgcmVxdWVzdC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RIZWFkZXIodXNlQmluYXJ5Rm9ybWF0LCB0aW1lb3V0TXMsIHVzZXJQcm92aWRlZEhlYWRlcnMsIHNldFVzZXJBZ2VudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBIZWFkZXJzKHVzZXJQcm92aWRlZEhlYWRlcnMgIT09IG51bGwgJiYgdXNlclByb3ZpZGVkSGVhZGVycyAhPT0gdm9pZCAwID8gdXNlclByb3ZpZGVkSGVhZGVycyA6IHt9KTtcbiAgICAvLyBOb3RlIHRoYXQgd2UgZG8gbm90IHN1cHBvcnQgdGhlIGdycGMtd2ViLXRleHQgZm9ybWF0LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL1BST1RPQ09MLVdFQi5tZCNwcm90b2NvbC1kaWZmZXJlbmNlcy12cy1ncnBjLW92ZXItaHR0cDJcbiAgICByZXN1bHQuc2V0KGhlYWRlckNvbnRlbnRUeXBlLCB1c2VCaW5hcnlGb3JtYXQgPyBjb250ZW50VHlwZVByb3RvIDogY29udGVudFR5cGVKc29uKTtcbiAgICByZXN1bHQuc2V0KGhlYWRlclhHcnBjV2ViLCBcIjFcIik7XG4gICAgLy8gTm90ZSB0aGF0IHdlIGRvIG5vdCBzdHJpY3RseSBjb21wbHkgd2l0aCBnUlBDIHVzZXIgYWdlbnRzLlxuICAgIC8vIFdlIHVzZSBcImNvbm5lY3QtZXMvMS4yLjNcIiB3aGVyZSBnUlBDIHdvdWxkIHVzZSBcImdycGMtZXMvMS4yLjNcIi5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2M0NjJiYjhkNDg1ZmMxNDM0ZWNmYWU0Mzg4MjNjYThkMTRjZjMxNTQvZG9jL1BST1RPQ09MLUhUVFAyLm1kI3VzZXItYWdlbnRzXG4gICAgcmVzdWx0LnNldChoZWFkZXJYVXNlckFnZW50LCBcImNvbm5lY3QtZXMvMS42LjFcIik7XG4gICAgaWYgKHNldFVzZXJBZ2VudCkge1xuICAgICAgICByZXN1bHQuc2V0KGhlYWRlclVzZXJBZ2VudCwgXCJjb25uZWN0LWVzLzEuNi4xXCIpO1xuICAgIH1cbiAgICBpZiAodGltZW91dE1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LnNldChoZWFkZXJUaW1lb3V0LCBgJHt0aW1lb3V0TXN9bWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGhlYWRlcnMgZm9yIGEgZ1JQQy13ZWIgcmVxdWVzdCB3aXRoIGNvbXByZXNzaW9uLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdEhlYWRlcldpdGhDb21wcmVzc2lvbih1c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgdXNlclByb3ZpZGVkSGVhZGVycywgYWNjZXB0Q29tcHJlc3Npb24sIHNlbmRDb21wcmVzc2lvbiwgc2V0VXNlckFnZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gcmVxdWVzdEhlYWRlcih1c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgdXNlclByb3ZpZGVkSGVhZGVycywgc2V0VXNlckFnZW50KTtcbiAgICBpZiAoc2VuZENvbXByZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgcmVzdWx0LnNldChoZWFkZXJFbmNvZGluZywgc2VuZENvbXByZXNzaW9uLm5hbWUpO1xuICAgIH1cbiAgICBpZiAoYWNjZXB0Q29tcHJlc3Npb24ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQuc2V0KGhlYWRlckFjY2VwdEVuY29kaW5nLCBhY2NlcHRDb21wcmVzc2lvbi5tYXAoKGMpID0+IGMubmFtZSkuam9pbihcIixcIikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/request-header.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTrailerSerialization: () => (/* binding */ createTrailerSerialization),\n/* harmony export */   trailerFlag: () => (/* binding */ trailerFlag),\n/* harmony export */   trailerParse: () => (/* binding */ trailerParse),\n/* harmony export */   trailerSerialize: () => (/* binding */ trailerSerialize)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * trailerFlag indicates that the data in a EnvelopedMessage\n * is a set of trailers of the gRPC-web protocol.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst trailerFlag = 0b10000000;\n/**\n * Parse a gRPC-web trailer, a set of header fields separated by CRLF.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction trailerParse(data) {\n    const headers = new Headers();\n    const lines = new TextDecoder().decode(data).split(\"\\r\\n\");\n    for (const line of lines) {\n        if (line === \"\") {\n            continue;\n        }\n        const i = line.indexOf(\":\");\n        if (i > 0) {\n            const name = line.substring(0, i).trim();\n            const value = line.substring(i + 1).trim();\n            headers.append(name, value);\n        }\n    }\n    return headers;\n}\n/**\n * Serialize a Headers object as a gRPC-web trailer.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction trailerSerialize(trailer) {\n    const lines = [];\n    trailer.forEach((value, key) => {\n        lines.push(`${key}: ${value}\\r\\n`);\n    });\n    return new TextEncoder().encode(lines.join(\"\"));\n}\n/**\n * Create a Serialization object that serializes a gRPC-web trailer, a Headers\n * object that is serialized as a set of header fields, separated by CRLF.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createTrailerSerialization() {\n    return {\n        serialize: trailerSerialize,\n        parse: trailerParse,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvdHJhaWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxzQkFBc0IsSUFBSSxJQUFJLE1BQU07QUFDcEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjLXdlYlxcdHJhaWxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiB0cmFpbGVyRmxhZyBpbmRpY2F0ZXMgdGhhdCB0aGUgZGF0YSBpbiBhIEVudmVsb3BlZE1lc3NhZ2VcbiAqIGlzIGEgc2V0IG9mIHRyYWlsZXJzIG9mIHRoZSBnUlBDLXdlYiBwcm90b2NvbC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRyYWlsZXJGbGFnID0gMGIxMDAwMDAwMDtcbi8qKlxuICogUGFyc2UgYSBnUlBDLXdlYiB0cmFpbGVyLCBhIHNldCBvZiBoZWFkZXIgZmllbGRzIHNlcGFyYXRlZCBieSBDUkxGLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhaWxlclBhcnNlKGRhdGEpIHtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBjb25zdCBsaW5lcyA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShkYXRhKS5zcGxpdChcIlxcclxcblwiKTtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgaWYgKGxpbmUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59XG4vKipcbiAqIFNlcmlhbGl6ZSBhIEhlYWRlcnMgb2JqZWN0IGFzIGEgZ1JQQy13ZWIgdHJhaWxlci5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWlsZXJTZXJpYWxpemUodHJhaWxlcikge1xuICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgdHJhaWxlci5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGxpbmVzLnB1c2goYCR7a2V5fTogJHt2YWx1ZX1cXHJcXG5gKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGxpbmVzLmpvaW4oXCJcIikpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBTZXJpYWxpemF0aW9uIG9iamVjdCB0aGF0IHNlcmlhbGl6ZXMgYSBnUlBDLXdlYiB0cmFpbGVyLCBhIEhlYWRlcnNcbiAqIG9iamVjdCB0aGF0IGlzIHNlcmlhbGl6ZWQgYXMgYSBzZXQgb2YgaGVhZGVyIGZpZWxkcywgc2VwYXJhdGVkIGJ5IENSTEYuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFpbGVyU2VyaWFsaXphdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemU6IHRyYWlsZXJTZXJpYWxpemUsXG4gICAgICAgIHBhcnNlOiB0cmFpbGVyUGFyc2UsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/transport.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/transport.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTransport: () => (/* binding */ createTransport)\n/* harmony export */ });\n/* harmony import */ var _protocol_grpc_validate_trailer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../protocol-grpc/validate-trailer.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-trailer.js\");\n/* harmony import */ var _request_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-header.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/request-header.js\");\n/* harmony import */ var _validate_response_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate-response.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/validate-response.js\");\n/* harmony import */ var _trailer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./trailer.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/trailer.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../protocol/run-call.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _context_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context-values.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Create a Transport for the gRPC-web protocol.\n */\nfunction createTransport(opt) {\n    return {\n        async unary(service, method, signal, timeoutMs, header, message, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runUnaryCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {},\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)((0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.createAsyncIterable)([req.message]), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSerializeEnvelope)(serialization.getI(opt.useBinaryFormat)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformCompressEnvelope)(opt.sendCompression, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformJoinEnvelopes)(), {\n                            propagateDownStreamError: true,\n                        }),\n                    });\n                    const { compression, headerError } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_6__.validateResponseWithCompression)(opt.acceptCompression, uRes.status, uRes.header);\n                    const { trailer, message } = await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipeTo)(uRes.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformDecompressEnvelope)(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformParseEnvelope)(serialization.getO(opt.useBinaryFormat), _trailer_js__WEBPACK_IMPORTED_MODULE_7__.trailerFlag, (0,_trailer_js__WEBPACK_IMPORTED_MODULE_7__.createTrailerSerialization)()), async (iterable) => {\n                        var _a, e_1, _b, _c;\n                        let message;\n                        let trailer;\n                        try {\n                            for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = await iterable_1.next(), _a = iterable_1_1.done, !_a; _d = true) {\n                                _c = iterable_1_1.value;\n                                _d = false;\n                                const env = _c;\n                                if (env.end) {\n                                    if (trailer !== undefined) {\n                                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: received extra trailer\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unimplemented);\n                                    }\n                                    trailer = env.value;\n                                }\n                                else {\n                                    if (message !== undefined) {\n                                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: received extra output message for unary method\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unimplemented);\n                                    }\n                                    message = env.value;\n                                }\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (!_d && !_a && (_b = iterable_1.return)) await _b.call(iterable_1);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        return { trailer, message };\n                    }, {\n                        propagateDownStreamError: false,\n                    });\n                    if (trailer === undefined) {\n                        if (headerError != undefined) {\n                            throw headerError;\n                        }\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: missing trailer\", uRes.header.has(_headers_js__WEBPACK_IMPORTED_MODULE_10__.headerGrpcStatus)\n                            ? _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unimplemented\n                            : _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unknown);\n                    }\n                    (0,_protocol_grpc_validate_trailer_js__WEBPACK_IMPORTED_MODULE_11__.validateTrailer)(trailer, uRes.header);\n                    if (message === undefined) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: missing output message for unary method\", trailer.has(_headers_js__WEBPACK_IMPORTED_MODULE_10__.headerGrpcStatus) ? _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unimplemented : _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Unknown);\n                    }\n                    return {\n                        stream: false,\n                        service,\n                        method,\n                        header: uRes.header,\n                        message,\n                        trailer,\n                    };\n                },\n            });\n        },\n        async stream(service, method, signal, timeoutMs, header, input, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runStreamingCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: true,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression, true),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message: input,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)(req.message, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSerializeEnvelope)(serialization.getI(opt.useBinaryFormat)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformCompressEnvelope)(opt.sendCompression, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformJoinEnvelopes)(), { propagateDownStreamError: true }),\n                    });\n                    const { compression, foundStatus, headerError } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_6__.validateResponseWithCompression)(opt.acceptCompression, uRes.status, uRes.header);\n                    if (headerError) {\n                        throw headerError;\n                    }\n                    const res = Object.assign(Object.assign({}, req), { header: uRes.header, trailer: new Headers(), message: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)(uRes.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformDecompressEnvelope)(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformParseEnvelope)(serialization.getO(opt.useBinaryFormat), _trailer_js__WEBPACK_IMPORTED_MODULE_7__.trailerFlag, (0,_trailer_js__WEBPACK_IMPORTED_MODULE_7__.createTrailerSerialization)()), function (iterable) {\n                            return __asyncGenerator(this, arguments, function* () {\n                                var _a, e_2, _b, _c;\n                                if (foundStatus) {\n                                    // A grpc-status: 0 response header was present. This is a \"trailers-only\"\n                                    // response (a response without a body and no trailers).\n                                    //\n                                    // The spec seems to disallow a trailers-only response for status 0 - we are\n                                    // lenient and only verify that the body is empty.\n                                    //\n                                    // > [...] Trailers-Only is permitted for calls that produce an immediate error.\n                                    // See https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md\n                                    const r = yield __await(iterable[Symbol.asyncIterator]().next());\n                                    if (r.done !== true) {\n                                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: extra data for trailers-only\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.InvalidArgument);\n                                    }\n                                    return yield __await(void 0);\n                                }\n                                let trailerReceived = false;\n                                try {\n                                    for (var _d = true, iterable_2 = __asyncValues(iterable), iterable_2_1; iterable_2_1 = yield __await(iterable_2.next()), _a = iterable_2_1.done, !_a; _d = true) {\n                                        _c = iterable_2_1.value;\n                                        _d = false;\n                                        const chunk = _c;\n                                        if (chunk.end) {\n                                            if (trailerReceived) {\n                                                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: received extra trailer\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.InvalidArgument);\n                                            }\n                                            trailerReceived = true;\n                                            (0,_protocol_grpc_validate_trailer_js__WEBPACK_IMPORTED_MODULE_11__.validateTrailer)(chunk.value, uRes.header);\n                                            chunk.value.forEach((value, key) => res.trailer.set(key, value));\n                                            continue;\n                                        }\n                                        if (trailerReceived) {\n                                            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: received extra message after trailer\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.InvalidArgument);\n                                        }\n                                        yield yield __await(chunk.value);\n                                    }\n                                }\n                                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                                finally {\n                                    try {\n                                        if (!_d && !_a && (_b = iterable_2.return)) yield __await(_b.call(iterable_2));\n                                    }\n                                    finally { if (e_2) throw e_2.error; }\n                                }\n                                if (!trailerReceived) {\n                                    throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_8__.ConnectError(\"protocol error: missing trailer\", _code_js__WEBPACK_IMPORTED_MODULE_9__.Code.Internal);\n                                }\n                            });\n                        }, { propagateDownStreamError: true }) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvdHJhbnNwb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFJLElBQUksU0FBSTtBQUNqQztBQUNBO0FBQ0EsMkdBQTJHLHVGQUF1RixjQUFjO0FBQ2hOLHVCQUF1Qiw4QkFBOEIsZ0RBQWdELHdEQUF3RDtBQUM3Siw2Q0FBNkMsc0NBQXNDLFVBQVUsbUJBQW1CLElBQUk7QUFDcEg7QUFDQSxlQUFlLFNBQUksSUFBSSxTQUFJLDRCQUE0QjtBQUN2RCx3QkFBd0IsU0FBSSxJQUFJLFNBQUk7QUFDcEM7QUFDQTtBQUNBLGlCQUFpQixvR0FBb0csY0FBYztBQUNuSSw4QkFBOEIsc0JBQXNCO0FBQ3BELDBCQUEwQixZQUFZLHNCQUFzQixxQ0FBcUMsMkNBQTJDLE1BQU07QUFDbEosNEJBQTRCLE1BQU0saUJBQWlCLFlBQVk7QUFDL0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCO0FBQ3VFO0FBQ0o7QUFDTTtBQUNGO0FBQ3JDO0FBQ2lCO0FBQzRMO0FBQzVLO0FBQ007QUFDTTtBQUNwQjtBQUNYO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGtDQUFrQywyRkFBK0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1FQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtFQUFlO0FBQ3hDLDRCQUE0QjtBQUM1Qiw0QkFBNEIsZ0ZBQTRCO0FBQ3hELHdHQUF3Ryx1RUFBbUI7QUFDM0g7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUFJLENBQUMsZ0ZBQW1CLGlCQUFpQix1RkFBMEIsMkNBQTJDLHNGQUF5Qiw2Q0FBNkMsbUZBQXNCO0FBQ3hPO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQiw0QkFBNEIsMkJBQTJCLEVBQUUsc0ZBQStCO0FBQ3hGLDRCQUE0QixtQkFBbUIsUUFBUSxtRUFBTSxZQUFZLG1GQUFzQixvQkFBb0Isd0ZBQTJCLHlGQUF5RixtRkFBc0IsMENBQTBDLG9EQUFXLEVBQUUsdUVBQTBCO0FBQzlVO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0dBQW9HLHFFQUFxRTtBQUN6SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDJEQUFZLDJDQUEyQywwQ0FBSTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDJEQUFZLG1FQUFtRSwwQ0FBSTtBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQSxpQ0FBaUM7QUFDakMscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJEQUFZLG9EQUFvRCwwREFBZ0I7QUFDbEgsOEJBQThCLDBDQUFJO0FBQ2xDLDhCQUE4QiwwQ0FBSTtBQUNsQztBQUNBLG9CQUFvQixvRkFBZTtBQUNuQztBQUNBLGtDQUFrQywyREFBWSx3RUFBd0UsMERBQWdCLElBQUksMENBQUksaUJBQWlCLDBDQUFJO0FBQ25LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLDJGQUErQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtFQUFlO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDRCQUE0QixnRkFBNEI7QUFDeEQsd0dBQXdHLHVFQUFtQjtBQUMzSDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQUksY0FBYyx1RkFBMEIsMkNBQTJDLHNGQUF5Qiw2Q0FBNkMsbUZBQXNCLE1BQU0sZ0NBQWdDO0FBQ3ZQLHFCQUFxQjtBQUNyQiw0QkFBNEIsd0NBQXdDLEVBQUUsc0ZBQStCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxVQUFVLHNEQUFzRCxpRUFBSSxZQUFZLG1GQUFzQixvQkFBb0Isd0ZBQTJCLHlGQUF5RixtRkFBc0IsMENBQTBDLG9EQUFXLEVBQUUsdUVBQTBCO0FBQ25aO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDJEQUFZLGlEQUFpRCwwQ0FBSTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLDhFQUE4RTtBQUMxTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDJEQUFZLDJDQUEyQywwQ0FBSTtBQUNySDtBQUNBO0FBQ0EsNENBQTRDLG9GQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDJEQUFZLHlEQUF5RCwwQ0FBSTtBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSw4Q0FBOEMsMkRBQVksb0NBQW9DLDBDQUFJO0FBQ2xHO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QixJQUFJLGdDQUFnQyxHQUFHO0FBQ2hFO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sLWdycGMtd2ViXFx0cmFuc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbnZhciBfX2FzeW5jVmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jVmFsdWVzKSB8fCBmdW5jdGlvbiAobykge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn07XG52YXIgX19hd2FpdCA9ICh0aGlzICYmIHRoaXMuX19hd2FpdCkgfHwgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7IH1cbnZhciBfX2FzeW5jR2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jR2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59O1xuaW1wb3J0IHsgdmFsaWRhdGVUcmFpbGVyIH0gZnJvbSBcIi4uL3Byb3RvY29sLWdycGMvdmFsaWRhdGUtdHJhaWxlci5qc1wiO1xuaW1wb3J0IHsgcmVxdWVzdEhlYWRlcldpdGhDb21wcmVzc2lvbiB9IGZyb20gXCIuL3JlcXVlc3QtaGVhZGVyLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uIH0gZnJvbSBcIi4vdmFsaWRhdGUtcmVzcG9uc2UuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRyYWlsZXJTZXJpYWxpemF0aW9uLCB0cmFpbGVyRmxhZyB9IGZyb20gXCIuL3RyYWlsZXIuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IHBpcGUsIGNyZWF0ZUFzeW5jSXRlcmFibGUsIHRyYW5zZm9ybVNlcmlhbGl6ZUVudmVsb3BlLCB0cmFuc2Zvcm1Db21wcmVzc0VudmVsb3BlLCB0cmFuc2Zvcm1Kb2luRW52ZWxvcGVzLCBwaXBlVG8sIHRyYW5zZm9ybVNwbGl0RW52ZWxvcGUsIHRyYW5zZm9ybURlY29tcHJlc3NFbnZlbG9wZSwgdHJhbnNmb3JtUGFyc2VFbnZlbG9wZSwgfSBmcm9tIFwiLi4vcHJvdG9jb2wvYXN5bmMtaXRlcmFibGUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZFVybCB9IGZyb20gXCIuLi9wcm90b2NvbC9jcmVhdGUtbWV0aG9kLXVybC5qc1wiO1xuaW1wb3J0IHsgcnVuVW5hcnlDYWxsLCBydW5TdHJlYW1pbmdDYWxsIH0gZnJvbSBcIi4uL3Byb3RvY29sL3J1bi1jYWxsLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwIH0gZnJvbSBcIi4uL3Byb3RvY29sL3NlcmlhbGl6YXRpb24uanNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRWYWx1ZXMgfSBmcm9tIFwiLi4vY29udGV4dC12YWx1ZXMuanNcIjtcbmltcG9ydCB7IGhlYWRlckdycGNTdGF0dXMgfSBmcm9tIFwiLi9oZWFkZXJzLmpzXCI7XG4vKipcbiAqIENyZWF0ZSBhIFRyYW5zcG9ydCBmb3IgdGhlIGdSUEMtd2ViIHByb3RvY29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwb3J0KG9wdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIHVuYXJ5KHNlcnZpY2UsIG1ldGhvZCwgc2lnbmFsLCB0aW1lb3V0TXMsIGhlYWRlciwgbWVzc2FnZSwgY29udGV4dFZhbHVlcykge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphdGlvbiA9IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAobWV0aG9kLCBvcHQuYmluYXJ5T3B0aW9ucywgb3B0Lmpzb25PcHRpb25zLCBvcHQpO1xuICAgICAgICAgICAgdGltZW91dE1zID1cbiAgICAgICAgICAgICAgICB0aW1lb3V0TXMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5kZWZhdWx0VGltZW91dE1zXG4gICAgICAgICAgICAgICAgICAgIDogdGltZW91dE1zIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRpbWVvdXRNcztcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBydW5VbmFyeUNhbGwoe1xuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yczogb3B0LmludGVyY2VwdG9ycyxcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgICAgIHJlcToge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHVybDogY3JlYXRlTWV0aG9kVXJsKG9wdC5iYXNlVXJsLCBzZXJ2aWNlLCBtZXRob2QpLFxuICAgICAgICAgICAgICAgICAgICBpbml0OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXF1ZXN0SGVhZGVyV2l0aENvbXByZXNzaW9uKG9wdC51c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgaGVhZGVyLCBvcHQuYWNjZXB0Q29tcHJlc3Npb24sIG9wdC5zZW5kQ29tcHJlc3Npb24sIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmFsdWVzOiBjb250ZXh0VmFsdWVzICE9PSBudWxsICYmIGNvbnRleHRWYWx1ZXMgIT09IHZvaWQgMCA/IGNvbnRleHRWYWx1ZXMgOiBjcmVhdGVDb250ZXh0VmFsdWVzKCksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVSZXMgPSBhd2FpdCBvcHQuaHR0cENsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXEuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiByZXEuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGlwZShjcmVhdGVBc3luY0l0ZXJhYmxlKFtyZXEubWVzc2FnZV0pLCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZShzZXJpYWxpemF0aW9uLmdldEkob3B0LnVzZUJpbmFyeUZvcm1hdCkpLCB0cmFuc2Zvcm1Db21wcmVzc0VudmVsb3BlKG9wdC5zZW5kQ29tcHJlc3Npb24sIG9wdC5jb21wcmVzc01pbkJ5dGVzKSwgdHJhbnNmb3JtSm9pbkVudmVsb3BlcygpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXByZXNzaW9uLCBoZWFkZXJFcnJvciB9ID0gdmFsaWRhdGVSZXNwb25zZVdpdGhDb21wcmVzc2lvbihvcHQuYWNjZXB0Q29tcHJlc3Npb24sIHVSZXMuc3RhdHVzLCB1UmVzLmhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdHJhaWxlciwgbWVzc2FnZSB9ID0gYXdhaXQgcGlwZVRvKHVSZXMuYm9keSwgdHJhbnNmb3JtU3BsaXRFbnZlbG9wZShvcHQucmVhZE1heEJ5dGVzKSwgdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlKGNvbXByZXNzaW9uICE9PSBudWxsICYmIGNvbXByZXNzaW9uICE9PSB2b2lkIDAgPyBjb21wcmVzc2lvbiA6IG51bGwsIG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0TyhvcHQudXNlQmluYXJ5Rm9ybWF0KSwgdHJhaWxlckZsYWcsIGNyZWF0ZVRyYWlsZXJTZXJpYWxpemF0aW9uKCkpLCBhc3luYyAoaXRlcmFibGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgZV8xLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFpbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IHRydWUsIGl0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xOyBpdGVyYWJsZV8xXzEgPSBhd2FpdCBpdGVyYWJsZV8xLm5leHQoKSwgX2EgPSBpdGVyYWJsZV8xXzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudiA9IF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW52LmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWlsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgdHJhaWxlclwiLCBDb2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlciA9IGVudi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IHJlY2VpdmVkIGV4dHJhIG91dHB1dCBtZXNzYWdlIGZvciB1bmFyeSBtZXRob2RcIiwgQ29kZS5VbmltcGxlbWVudGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBlbnYudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfZCAmJiAhX2EgJiYgKF9iID0gaXRlcmFibGVfMS5yZXR1cm4pKSBhd2FpdCBfYi5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFpbGVyLCBtZXNzYWdlIH07XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZURvd25TdHJlYW1FcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhaWxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyRXJyb3IgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgaGVhZGVyRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IG1pc3NpbmcgdHJhaWxlclwiLCB1UmVzLmhlYWRlci5oYXMoaGVhZGVyR3JwY1N0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IENvZGUuVW5pbXBsZW1lbnRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ29kZS5Vbmtub3duKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVRyYWlsZXIodHJhaWxlciwgdVJlcy5oZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IG1pc3Npbmcgb3V0cHV0IG1lc3NhZ2UgZm9yIHVuYXJ5IG1ldGhvZFwiLCB0cmFpbGVyLmhhcyhoZWFkZXJHcnBjU3RhdHVzKSA/IENvZGUuVW5pbXBsZW1lbnRlZCA6IENvZGUuVW5rbm93bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiB1UmVzLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpbGVyLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgc3RyZWFtKHNlcnZpY2UsIG1ldGhvZCwgc2lnbmFsLCB0aW1lb3V0TXMsIGhlYWRlciwgaW5wdXQsIGNvbnRleHRWYWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6YXRpb24gPSBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwKG1ldGhvZCwgb3B0LmJpbmFyeU9wdGlvbnMsIG9wdC5qc29uT3B0aW9ucywgb3B0KTtcbiAgICAgICAgICAgIHRpbWVvdXRNcyA9XG4gICAgICAgICAgICAgICAgdGltZW91dE1zID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBvcHQuZGVmYXVsdFRpbWVvdXRNc1xuICAgICAgICAgICAgICAgICAgICA6IHRpbWVvdXRNcyA8PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aW1lb3V0TXM7XG4gICAgICAgICAgICByZXR1cm4gcnVuU3RyZWFtaW5nQ2FsbCh7XG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3JzOiBvcHQuaW50ZXJjZXB0b3JzLFxuICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0TXMsXG4gICAgICAgICAgICAgICAgcmVxOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNyZWF0ZU1ldGhvZFVybChvcHQuYmFzZVVybCwgc2VydmljZSwgbWV0aG9kKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBcImVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXF1ZXN0SGVhZGVyV2l0aENvbXByZXNzaW9uKG9wdC51c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgaGVhZGVyLCBvcHQuYWNjZXB0Q29tcHJlc3Npb24sIG9wdC5zZW5kQ29tcHJlc3Npb24sIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmFsdWVzOiBjb250ZXh0VmFsdWVzICE9PSBudWxsICYmIGNvbnRleHRWYWx1ZXMgIT09IHZvaWQgMCA/IGNvbnRleHRWYWx1ZXMgOiBjcmVhdGVDb250ZXh0VmFsdWVzKCksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGlucHV0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmV4dDogYXN5bmMgKHJlcSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1UmVzID0gYXdhaXQgb3B0Lmh0dHBDbGllbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogcmVxLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogcmVxLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHBpcGUocmVxLm1lc3NhZ2UsIHRyYW5zZm9ybVNlcmlhbGl6ZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0SShvcHQudXNlQmluYXJ5Rm9ybWF0KSksIHRyYW5zZm9ybUNvbXByZXNzRW52ZWxvcGUob3B0LnNlbmRDb21wcmVzc2lvbiwgb3B0LmNvbXByZXNzTWluQnl0ZXMpLCB0cmFuc2Zvcm1Kb2luRW52ZWxvcGVzKCksIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb21wcmVzc2lvbiwgZm91bmRTdGF0dXMsIGhlYWRlckVycm9yIH0gPSB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uKG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgdVJlcy5zdGF0dXMsIHVSZXMuaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBoZWFkZXJFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcSksIHsgaGVhZGVyOiB1UmVzLmhlYWRlciwgdHJhaWxlcjogbmV3IEhlYWRlcnMoKSwgbWVzc2FnZTogcGlwZSh1UmVzLmJvZHksIHRyYW5zZm9ybVNwbGl0RW52ZWxvcGUob3B0LnJlYWRNYXhCeXRlcyksIHRyYW5zZm9ybURlY29tcHJlc3NFbnZlbG9wZShjb21wcmVzc2lvbiAhPT0gbnVsbCAmJiBjb21wcmVzc2lvbiAhPT0gdm9pZCAwID8gY29tcHJlc3Npb24gOiBudWxsLCBvcHQucmVhZE1heEJ5dGVzKSwgdHJhbnNmb3JtUGFyc2VFbnZlbG9wZShzZXJpYWxpemF0aW9uLmdldE8ob3B0LnVzZUJpbmFyeUZvcm1hdCksIHRyYWlsZXJGbGFnLCBjcmVhdGVUcmFpbGVyU2VyaWFsaXphdGlvbigpKSwgZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIGVfMiwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgZ3JwYy1zdGF0dXM6IDAgcmVzcG9uc2UgaGVhZGVyIHdhcyBwcmVzZW50LiBUaGlzIGlzIGEgXCJ0cmFpbGVycy1vbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIChhIHJlc3BvbnNlIHdpdGhvdXQgYSBib2R5IGFuZCBubyB0cmFpbGVycykuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNwZWMgc2VlbXMgdG8gZGlzYWxsb3cgYSB0cmFpbGVycy1vbmx5IHJlc3BvbnNlIGZvciBzdGF0dXMgMCAtIHdlIGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGVuaWVudCBhbmQgb25seSB2ZXJpZnkgdGhhdCB0aGUgYm9keSBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA+IFsuLi5dIFRyYWlsZXJzLU9ubHkgaXMgcGVybWl0dGVkIGZvciBjYWxscyB0aGF0IHByb2R1Y2UgYW4gaW1tZWRpYXRlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL1BST1RPQ09MLUhUVFAyLm1kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0geWllbGQgX19hd2FpdChpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKS5uZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuZG9uZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogZXh0cmEgZGF0YSBmb3IgdHJhaWxlcnMtb25seVwiLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgX19hd2FpdCh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFpbGVyUmVjZWl2ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfMiA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8yXzE7IGl0ZXJhYmxlXzJfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfMi5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzJfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gaXRlcmFibGVfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFpbGVyUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgdHJhaWxlclwiLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlclJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVUcmFpbGVyKGNodW5rLnZhbHVlLCB1UmVzLmhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnZhbHVlLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHJlcy50cmFpbGVyLnNldChrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhaWxlclJlY2VpdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgbWVzc2FnZSBhZnRlciB0cmFpbGVyXCIsIENvZGUuSW52YWxpZEFyZ3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChjaHVuay52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2QgJiYgIV9hICYmIChfYiA9IGl0ZXJhYmxlXzIucmV0dXJuKSkgeWllbGQgX19hd2FpdChfYi5jYWxsKGl0ZXJhYmxlXzIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWlsZXJSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInByb3RvY29sIGVycm9yOiBtaXNzaW5nIHRyYWlsZXJcIiwgQ29kZS5JbnRlcm5hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/validate-response.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/validate-response.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateResponse: () => (/* binding */ validateResponse),\n/* harmony export */   validateResponseWithCompression: () => (/* binding */ validateResponseWithCompression)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _protocol_grpc_http_status_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../protocol-grpc/http-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/http-status.js\");\n/* harmony import */ var _protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../protocol-grpc/trailer-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n/**\n * Validates response status and header for the gRPC-web protocol.\n *\n * Throws a ConnectError if the header contains an error status,\n * or if the HTTP status indicates an error.\n *\n * Returns an object that indicates whether a gRPC status was found\n * in the response header. In this case, clients can not expect a\n * trailer.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateResponse(status, headers) {\n    var _a;\n    // For compatibility with the `grpc-web` package, we treat all HTTP status\n    // codes in the 200 range as valid, not just HTTP 200.\n    if (status >= 200 && status < 300) {\n        return {\n            foundStatus: headers.has(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcStatus),\n            headerError: (0,_protocol_grpc_trailer_status_js__WEBPACK_IMPORTED_MODULE_1__.findTrailerError)(headers),\n        };\n    }\n    throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(decodeURIComponent((_a = headers.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcMessage)) !== null && _a !== void 0 ? _a : `HTTP ${status}`), (0,_protocol_grpc_http_status_js__WEBPACK_IMPORTED_MODULE_3__.codeFromHttpStatus)(status), headers);\n}\n/**\n * Validates response status and header for the gRPC-web protocol.\n * This function is identical to validateResponse(), but also verifies\n * that a given encoding header is acceptable.\n *\n * Returns an object with the response compression, and a boolean\n * indicating whether a gRPC status was found in the response header\n * (in this case, clients can not expect a trailer).\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateResponseWithCompression(acceptCompression, status, headers) {\n    const { foundStatus, headerError } = validateResponse(status, headers);\n    let compression;\n    const encoding = headers.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerEncoding);\n    if (encoding !== null && encoding.toLowerCase() !== \"identity\") {\n        compression = acceptCompression.find((c) => c.name === encoding);\n        if (!compression) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(`unsupported response encoding \"${encoding}\"`, _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Internal, headers);\n        }\n    }\n    return {\n        foundStatus,\n        compression,\n        headerError,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy13ZWIvdmFsaWRhdGUtcmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ21EO0FBQ2pCO0FBQ2tEO0FBQ2Y7QUFDQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseURBQWdCO0FBQ3JELHlCQUF5QixrRkFBZ0I7QUFDekM7QUFDQTtBQUNBLGNBQWMsMkRBQVksc0NBQXNDLDBEQUFpQiw0Q0FBNEMsT0FBTyxJQUFJLGlGQUFrQjtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksMkJBQTJCO0FBQ3ZDO0FBQ0EsaUNBQWlDLHVEQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyREFBWSxtQ0FBbUMsU0FBUyxJQUFJLDBDQUFJO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjLXdlYlxcdmFsaWRhdGUtcmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IGhlYWRlckVuY29kaW5nLCBoZWFkZXJHcnBjTWVzc2FnZSwgaGVhZGVyR3JwY1N0YXR1cywgfSBmcm9tIFwiLi9oZWFkZXJzLmpzXCI7XG5pbXBvcnQgeyBjb2RlRnJvbUh0dHBTdGF0dXMgfSBmcm9tIFwiLi4vcHJvdG9jb2wtZ3JwYy9odHRwLXN0YXR1cy5qc1wiO1xuaW1wb3J0IHsgZmluZFRyYWlsZXJFcnJvciB9IGZyb20gXCIuLi9wcm90b2NvbC1ncnBjL3RyYWlsZXItc3RhdHVzLmpzXCI7XG4vKipcbiAqIFZhbGlkYXRlcyByZXNwb25zZSBzdGF0dXMgYW5kIGhlYWRlciBmb3IgdGhlIGdSUEMtd2ViIHByb3RvY29sLlxuICpcbiAqIFRocm93cyBhIENvbm5lY3RFcnJvciBpZiB0aGUgaGVhZGVyIGNvbnRhaW5zIGFuIGVycm9yIHN0YXR1cyxcbiAqIG9yIGlmIHRoZSBIVFRQIHN0YXR1cyBpbmRpY2F0ZXMgYW4gZXJyb3IuXG4gKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBhIGdSUEMgc3RhdHVzIHdhcyBmb3VuZFxuICogaW4gdGhlIHJlc3BvbnNlIGhlYWRlci4gSW4gdGhpcyBjYXNlLCBjbGllbnRzIGNhbiBub3QgZXhwZWN0IGFcbiAqIHRyYWlsZXIuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlc3BvbnNlKHN0YXR1cywgaGVhZGVycykge1xuICAgIHZhciBfYTtcbiAgICAvLyBGb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBgZ3JwYy13ZWJgIHBhY2thZ2UsIHdlIHRyZWF0IGFsbCBIVFRQIHN0YXR1c1xuICAgIC8vIGNvZGVzIGluIHRoZSAyMDAgcmFuZ2UgYXMgdmFsaWQsIG5vdCBqdXN0IEhUVFAgMjAwLlxuICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm91bmRTdGF0dXM6IGhlYWRlcnMuaGFzKGhlYWRlckdycGNTdGF0dXMpLFxuICAgICAgICAgICAgaGVhZGVyRXJyb3I6IGZpbmRUcmFpbGVyRXJyb3IoaGVhZGVycyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoZGVjb2RlVVJJQ29tcG9uZW50KChfYSA9IGhlYWRlcnMuZ2V0KGhlYWRlckdycGNNZXNzYWdlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYEhUVFAgJHtzdGF0dXN9YCksIGNvZGVGcm9tSHR0cFN0YXR1cyhzdGF0dXMpLCBoZWFkZXJzKTtcbn1cbi8qKlxuICogVmFsaWRhdGVzIHJlc3BvbnNlIHN0YXR1cyBhbmQgaGVhZGVyIGZvciB0aGUgZ1JQQy13ZWIgcHJvdG9jb2wuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGlkZW50aWNhbCB0byB2YWxpZGF0ZVJlc3BvbnNlKCksIGJ1dCBhbHNvIHZlcmlmaWVzXG4gKiB0aGF0IGEgZ2l2ZW4gZW5jb2RpbmcgaGVhZGVyIGlzIGFjY2VwdGFibGUuXG4gKlxuICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcmVzcG9uc2UgY29tcHJlc3Npb24sIGFuZCBhIGJvb2xlYW5cbiAqIGluZGljYXRpbmcgd2hldGhlciBhIGdSUEMgc3RhdHVzIHdhcyBmb3VuZCBpbiB0aGUgcmVzcG9uc2UgaGVhZGVyXG4gKiAoaW4gdGhpcyBjYXNlLCBjbGllbnRzIGNhbiBub3QgZXhwZWN0IGEgdHJhaWxlcikuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uKGFjY2VwdENvbXByZXNzaW9uLCBzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICBjb25zdCB7IGZvdW5kU3RhdHVzLCBoZWFkZXJFcnJvciB9ID0gdmFsaWRhdGVSZXNwb25zZShzdGF0dXMsIGhlYWRlcnMpO1xuICAgIGxldCBjb21wcmVzc2lvbjtcbiAgICBjb25zdCBlbmNvZGluZyA9IGhlYWRlcnMuZ2V0KGhlYWRlckVuY29kaW5nKTtcbiAgICBpZiAoZW5jb2RpbmcgIT09IG51bGwgJiYgZW5jb2RpbmcudG9Mb3dlckNhc2UoKSAhPT0gXCJpZGVudGl0eVwiKSB7XG4gICAgICAgIGNvbXByZXNzaW9uID0gYWNjZXB0Q29tcHJlc3Npb24uZmluZCgoYykgPT4gYy5uYW1lID09PSBlbmNvZGluZyk7XG4gICAgICAgIGlmICghY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYHVuc3VwcG9ydGVkIHJlc3BvbnNlIGVuY29kaW5nIFwiJHtlbmNvZGluZ31cImAsIENvZGUuSW50ZXJuYWwsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZvdW5kU3RhdHVzLFxuICAgICAgICBjb21wcmVzc2lvbixcbiAgICAgICAgaGVhZGVyRXJyb3IsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/validate-response.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentTypeJson: () => (/* binding */ contentTypeJson),\n/* harmony export */   contentTypeProto: () => (/* binding */ contentTypeProto),\n/* harmony export */   contentTypeRegExp: () => (/* binding */ contentTypeRegExp),\n/* harmony export */   parseContentType: () => (/* binding */ parseContentType)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Regular Expression that matches any valid gRPC Content-Type header value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst contentTypeRegExp = /^application\\/grpc(?:\\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i;\nconst contentTypeProto = \"application/grpc+proto\";\nconst contentTypeJson = \"application/grpc+json\";\n/**\n * Parse a gRPC Content-Type header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseContentType(contentType) {\n    const match = contentType === null || contentType === void 0 ? void 0 : contentType.match(contentTypeRegExp);\n    if (!match) {\n        return undefined;\n    }\n    const binary = !match[1];\n    return { binary };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9jb250ZW50LXR5cGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sLWdycGNcXGNvbnRlbnQtdHlwZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBSZWd1bGFyIEV4cHJlc3Npb24gdGhhdCBtYXRjaGVzIGFueSB2YWxpZCBnUlBDIENvbnRlbnQtVHlwZSBoZWFkZXIgdmFsdWUuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBjb250ZW50VHlwZVJlZ0V4cCA9IC9eYXBwbGljYXRpb25cXC9ncnBjKD86XFwrKD86KGpzb24pKD86OyA/Y2hhcnNldD11dGYtPzgpP3xwcm90bykpPyQvaTtcbmV4cG9ydCBjb25zdCBjb250ZW50VHlwZVByb3RvID0gXCJhcHBsaWNhdGlvbi9ncnBjK3Byb3RvXCI7XG5leHBvcnQgY29uc3QgY29udGVudFR5cGVKc29uID0gXCJhcHBsaWNhdGlvbi9ncnBjK2pzb25cIjtcbi8qKlxuICogUGFyc2UgYSBnUlBDIENvbnRlbnQtVHlwZSBoZWFkZXIuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNvbnRlbnRUeXBlKGNvbnRlbnRUeXBlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBjb250ZW50VHlwZSA9PT0gbnVsbCB8fCBjb250ZW50VHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGVudFR5cGUubWF0Y2goY29udGVudFR5cGVSZWdFeHApO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgYmluYXJ5ID0gIW1hdGNoWzFdO1xuICAgIHJldHVybiB7IGJpbmFyeSB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/gen/status_pb.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/gen/status_pb.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Status: () => (/* binding */ Status)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/message.js\");\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/proto3.js\");\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/google/protobuf/any_pb.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * The `Status` type defines a logical error model that is suitable for different\n * programming environments, including REST APIs and RPC APIs. It is used by\n * [gRPC](https://github.com/grpc). The error model is designed to be:\n *\n * - Simple to use and understand for most users\n * - Flexible enough to meet unexpected needs\n *\n * # Overview\n *\n * The `Status` message contains three pieces of data: error code, error message,\n * and error details. The error code should be an enum value of\n * [google.rpc.Code][google.rpc.Code], but it may accept additional error codes if needed.  The\n * error message should be a developer-facing English message that helps\n * developers *understand* and *resolve* the error. If a localized user-facing\n * error message is needed, put the localized message in the error details or\n * localize it in the client. The optional error details may contain arbitrary\n * information about the error. There is a predefined set of error detail types\n * in the package `google.rpc` which can be used for common error conditions.\n *\n * # Language mapping\n *\n * The `Status` message is the logical representation of the error model, but it\n * is not necessarily the actual wire format. When the `Status` message is\n * exposed in different client libraries and different wire protocols, it can be\n * mapped differently. For example, it will likely be mapped to some exceptions\n * in Java, but more likely mapped to some error codes in C.\n *\n * # Other uses\n *\n * The error model and the `Status` message can be used in a variety of\n * environments, either with or without APIs, to provide a\n * consistent developer experience across different environments.\n *\n * Example uses of this error model include:\n *\n * - Partial errors. If a service needs to return partial errors to the client,\n *     it may embed the `Status` in the normal response to indicate the partial\n *     errors.\n *\n * - Workflow errors. A typical workflow has multiple steps. Each step may\n *     have a `Status` message for error reporting purpose.\n *\n * - Batch operations. If a client uses batch request and batch response, the\n *     `Status` message should be used directly inside batch response, one for\n *     each error sub-response.\n *\n * - Asynchronous operations. If an API call embeds asynchronous operation\n *     results in its response, the status of those operations should be\n *     represented directly using the `Status` message.\n *\n * - Logging. If some API errors are stored in logs, the message `Status` could\n *     be used directly after any stripping needed for security/privacy reasons.\n *\n * @generated from message google.rpc.Status\n */\nclass Status extends _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_0__.Message {\n    constructor(data) {\n        super();\n        /**\n         * The status code, which should be an enum value of [google.rpc.Code][google.rpc.Code].\n         *\n         * @generated from field: int32 code = 1;\n         */\n        this.code = 0;\n        /**\n         * A developer-facing error message, which should be in English. Any\n         * user-facing error message should be localized and sent in the\n         * [google.rpc.Status.details][google.rpc.Status.details] field, or localized by the client.\n         *\n         * @generated from field: string message = 2;\n         */\n        this.message = \"\";\n        /**\n         * A list of messages that carry the error details.  There will be a\n         * common set of message types for APIs to use.\n         *\n         * @generated from field: repeated google.protobuf.Any details = 3;\n         */\n        this.details = [];\n        _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.proto3.util.initPartial(data, this);\n    }\n    static fromBinary(bytes, options) {\n        return new Status().fromBinary(bytes, options);\n    }\n    static fromJson(jsonValue, options) {\n        return new Status().fromJson(jsonValue, options);\n    }\n    static fromJsonString(jsonString, options) {\n        return new Status().fromJsonString(jsonString, options);\n    }\n    static equals(a, b) {\n        return _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.proto3.util.equals(Status, a, b);\n    }\n}\nStatus.runtime = _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.proto3;\nStatus.typeName = \"google.rpc.Status\";\nStatus.fields = _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_1__.proto3.util.newFieldList(() => [\n    { no: 1, name: \"code\", kind: \"scalar\", T: 5 /* ScalarType.INT32 */ },\n    { no: 2, name: \"message\", kind: \"scalar\", T: 9 /* ScalarType.STRING */ },\n    { no: 3, name: \"details\", kind: \"message\", T: _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.Any, repeated: true },\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9nZW4vc3RhdHVzX3BiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLHVEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQU07QUFDckI7QUFDQTtBQUNBLGlCQUFpQixzREFBTTtBQUN2QjtBQUNBLGdCQUFnQixzREFBTTtBQUN0QixNQUFNLGtFQUFrRTtBQUN4RSxNQUFNLHNFQUFzRTtBQUM1RSxNQUFNLDRDQUE0QyxtREFBRyxrQkFBa0I7QUFDdkUiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjXFxnZW5cXHN0YXR1c19wYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQW55LCBNZXNzYWdlLCBwcm90bzMgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG4vKipcbiAqIFRoZSBgU3RhdHVzYCB0eXBlIGRlZmluZXMgYSBsb2dpY2FsIGVycm9yIG1vZGVsIHRoYXQgaXMgc3VpdGFibGUgZm9yIGRpZmZlcmVudFxuICogcHJvZ3JhbW1pbmcgZW52aXJvbm1lbnRzLCBpbmNsdWRpbmcgUkVTVCBBUElzIGFuZCBSUEMgQVBJcy4gSXQgaXMgdXNlZCBieVxuICogW2dSUENdKGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjKS4gVGhlIGVycm9yIG1vZGVsIGlzIGRlc2lnbmVkIHRvIGJlOlxuICpcbiAqIC0gU2ltcGxlIHRvIHVzZSBhbmQgdW5kZXJzdGFuZCBmb3IgbW9zdCB1c2Vyc1xuICogLSBGbGV4aWJsZSBlbm91Z2ggdG8gbWVldCB1bmV4cGVjdGVkIG5lZWRzXG4gKlxuICogIyBPdmVydmlld1xuICpcbiAqIFRoZSBgU3RhdHVzYCBtZXNzYWdlIGNvbnRhaW5zIHRocmVlIHBpZWNlcyBvZiBkYXRhOiBlcnJvciBjb2RlLCBlcnJvciBtZXNzYWdlLFxuICogYW5kIGVycm9yIGRldGFpbHMuIFRoZSBlcnJvciBjb2RlIHNob3VsZCBiZSBhbiBlbnVtIHZhbHVlIG9mXG4gKiBbZ29vZ2xlLnJwYy5Db2RlXVtnb29nbGUucnBjLkNvZGVdLCBidXQgaXQgbWF5IGFjY2VwdCBhZGRpdGlvbmFsIGVycm9yIGNvZGVzIGlmIG5lZWRlZC4gIFRoZVxuICogZXJyb3IgbWVzc2FnZSBzaG91bGQgYmUgYSBkZXZlbG9wZXItZmFjaW5nIEVuZ2xpc2ggbWVzc2FnZSB0aGF0IGhlbHBzXG4gKiBkZXZlbG9wZXJzICp1bmRlcnN0YW5kKiBhbmQgKnJlc29sdmUqIHRoZSBlcnJvci4gSWYgYSBsb2NhbGl6ZWQgdXNlci1mYWNpbmdcbiAqIGVycm9yIG1lc3NhZ2UgaXMgbmVlZGVkLCBwdXQgdGhlIGxvY2FsaXplZCBtZXNzYWdlIGluIHRoZSBlcnJvciBkZXRhaWxzIG9yXG4gKiBsb2NhbGl6ZSBpdCBpbiB0aGUgY2xpZW50LiBUaGUgb3B0aW9uYWwgZXJyb3IgZGV0YWlscyBtYXkgY29udGFpbiBhcmJpdHJhcnlcbiAqIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gVGhlcmUgaXMgYSBwcmVkZWZpbmVkIHNldCBvZiBlcnJvciBkZXRhaWwgdHlwZXNcbiAqIGluIHRoZSBwYWNrYWdlIGBnb29nbGUucnBjYCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29tbW9uIGVycm9yIGNvbmRpdGlvbnMuXG4gKlxuICogIyBMYW5ndWFnZSBtYXBwaW5nXG4gKlxuICogVGhlIGBTdGF0dXNgIG1lc3NhZ2UgaXMgdGhlIGxvZ2ljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIG1vZGVsLCBidXQgaXRcbiAqIGlzIG5vdCBuZWNlc3NhcmlseSB0aGUgYWN0dWFsIHdpcmUgZm9ybWF0LiBXaGVuIHRoZSBgU3RhdHVzYCBtZXNzYWdlIGlzXG4gKiBleHBvc2VkIGluIGRpZmZlcmVudCBjbGllbnQgbGlicmFyaWVzIGFuZCBkaWZmZXJlbnQgd2lyZSBwcm90b2NvbHMsIGl0IGNhbiBiZVxuICogbWFwcGVkIGRpZmZlcmVudGx5LiBGb3IgZXhhbXBsZSwgaXQgd2lsbCBsaWtlbHkgYmUgbWFwcGVkIHRvIHNvbWUgZXhjZXB0aW9uc1xuICogaW4gSmF2YSwgYnV0IG1vcmUgbGlrZWx5IG1hcHBlZCB0byBzb21lIGVycm9yIGNvZGVzIGluIEMuXG4gKlxuICogIyBPdGhlciB1c2VzXG4gKlxuICogVGhlIGVycm9yIG1vZGVsIGFuZCB0aGUgYFN0YXR1c2AgbWVzc2FnZSBjYW4gYmUgdXNlZCBpbiBhIHZhcmlldHkgb2ZcbiAqIGVudmlyb25tZW50cywgZWl0aGVyIHdpdGggb3Igd2l0aG91dCBBUElzLCB0byBwcm92aWRlIGFcbiAqIGNvbnNpc3RlbnQgZGV2ZWxvcGVyIGV4cGVyaWVuY2UgYWNyb3NzIGRpZmZlcmVudCBlbnZpcm9ubWVudHMuXG4gKlxuICogRXhhbXBsZSB1c2VzIG9mIHRoaXMgZXJyb3IgbW9kZWwgaW5jbHVkZTpcbiAqXG4gKiAtIFBhcnRpYWwgZXJyb3JzLiBJZiBhIHNlcnZpY2UgbmVlZHMgdG8gcmV0dXJuIHBhcnRpYWwgZXJyb3JzIHRvIHRoZSBjbGllbnQsXG4gKiAgICAgaXQgbWF5IGVtYmVkIHRoZSBgU3RhdHVzYCBpbiB0aGUgbm9ybWFsIHJlc3BvbnNlIHRvIGluZGljYXRlIHRoZSBwYXJ0aWFsXG4gKiAgICAgZXJyb3JzLlxuICpcbiAqIC0gV29ya2Zsb3cgZXJyb3JzLiBBIHR5cGljYWwgd29ya2Zsb3cgaGFzIG11bHRpcGxlIHN0ZXBzLiBFYWNoIHN0ZXAgbWF5XG4gKiAgICAgaGF2ZSBhIGBTdGF0dXNgIG1lc3NhZ2UgZm9yIGVycm9yIHJlcG9ydGluZyBwdXJwb3NlLlxuICpcbiAqIC0gQmF0Y2ggb3BlcmF0aW9ucy4gSWYgYSBjbGllbnQgdXNlcyBiYXRjaCByZXF1ZXN0IGFuZCBiYXRjaCByZXNwb25zZSwgdGhlXG4gKiAgICAgYFN0YXR1c2AgbWVzc2FnZSBzaG91bGQgYmUgdXNlZCBkaXJlY3RseSBpbnNpZGUgYmF0Y2ggcmVzcG9uc2UsIG9uZSBmb3JcbiAqICAgICBlYWNoIGVycm9yIHN1Yi1yZXNwb25zZS5cbiAqXG4gKiAtIEFzeW5jaHJvbm91cyBvcGVyYXRpb25zLiBJZiBhbiBBUEkgY2FsbCBlbWJlZHMgYXN5bmNocm9ub3VzIG9wZXJhdGlvblxuICogICAgIHJlc3VsdHMgaW4gaXRzIHJlc3BvbnNlLCB0aGUgc3RhdHVzIG9mIHRob3NlIG9wZXJhdGlvbnMgc2hvdWxkIGJlXG4gKiAgICAgcmVwcmVzZW50ZWQgZGlyZWN0bHkgdXNpbmcgdGhlIGBTdGF0dXNgIG1lc3NhZ2UuXG4gKlxuICogLSBMb2dnaW5nLiBJZiBzb21lIEFQSSBlcnJvcnMgYXJlIHN0b3JlZCBpbiBsb2dzLCB0aGUgbWVzc2FnZSBgU3RhdHVzYCBjb3VsZFxuICogICAgIGJlIHVzZWQgZGlyZWN0bHkgYWZ0ZXIgYW55IHN0cmlwcGluZyBuZWVkZWQgZm9yIHNlY3VyaXR5L3ByaXZhY3kgcmVhc29ucy5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gbWVzc2FnZSBnb29nbGUucnBjLlN0YXR1c1xuICovXG5leHBvcnQgY2xhc3MgU3RhdHVzIGV4dGVuZHMgTWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXR1cyBjb2RlLCB3aGljaCBzaG91bGQgYmUgYW4gZW51bSB2YWx1ZSBvZiBbZ29vZ2xlLnJwYy5Db2RlXVtnb29nbGUucnBjLkNvZGVdLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gZmllbGQ6IGludDMyIGNvZGUgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2RlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGV2ZWxvcGVyLWZhY2luZyBlcnJvciBtZXNzYWdlLCB3aGljaCBzaG91bGQgYmUgaW4gRW5nbGlzaC4gQW55XG4gICAgICAgICAqIHVzZXItZmFjaW5nIGVycm9yIG1lc3NhZ2Ugc2hvdWxkIGJlIGxvY2FsaXplZCBhbmQgc2VudCBpbiB0aGVcbiAgICAgICAgICogW2dvb2dsZS5ycGMuU3RhdHVzLmRldGFpbHNdW2dvb2dsZS5ycGMuU3RhdHVzLmRldGFpbHNdIGZpZWxkLCBvciBsb2NhbGl6ZWQgYnkgdGhlIGNsaWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIG1lc3NhZ2VzIHRoYXQgY2FycnkgdGhlIGVycm9yIGRldGFpbHMuICBUaGVyZSB3aWxsIGJlIGFcbiAgICAgICAgICogY29tbW9uIHNldCBvZiBtZXNzYWdlIHR5cGVzIGZvciBBUElzIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIGZpZWxkOiByZXBlYXRlZCBnb29nbGUucHJvdG9idWYuQW55IGRldGFpbHMgPSAzO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXRhaWxzID0gW107XG4gICAgICAgIHByb3RvMy51dGlsLmluaXRQYXJ0aWFsKGRhdGEsIHRoaXMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJpbmFyeShieXRlcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXR1cygpLmZyb21CaW5hcnkoYnl0ZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpzb24oanNvblZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RhdHVzKCkuZnJvbUpzb24oanNvblZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Kc29uU3RyaW5nKGpzb25TdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0dXMoKS5mcm9tSnNvblN0cmluZyhqc29uU3RyaW5nLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBwcm90bzMudXRpbC5lcXVhbHMoU3RhdHVzLCBhLCBiKTtcbiAgICB9XG59XG5TdGF0dXMucnVudGltZSA9IHByb3RvMztcblN0YXR1cy50eXBlTmFtZSA9IFwiZ29vZ2xlLnJwYy5TdGF0dXNcIjtcblN0YXR1cy5maWVsZHMgPSBwcm90bzMudXRpbC5uZXdGaWVsZExpc3QoKCkgPT4gW1xuICAgIHsgbm86IDEsIG5hbWU6IFwiY29kZVwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA1IC8qIFNjYWxhclR5cGUuSU5UMzIgKi8gfSxcbiAgICB7IG5vOiAyLCBuYW1lOiBcIm1lc3NhZ2VcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKiBTY2FsYXJUeXBlLlNUUklORyAqLyB9LFxuICAgIHsgbm86IDMsIG5hbWU6IFwiZGV0YWlsc1wiLCBraW5kOiBcIm1lc3NhZ2VcIiwgVDogQW55LCByZXBlYXRlZDogdHJ1ZSB9LFxuXSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/gen/status_pb.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/handler-factory.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/handler-factory.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHandlerFactory: () => (/* binding */ createHandlerFactory)\n/* harmony export */ });\n/* harmony import */ var _implementation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _trailer_status_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./trailer-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\");\n/* harmony import */ var _parse_timeout_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parse-timeout.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_compression_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../protocol/compression.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js\");\n/* harmony import */ var _protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../protocol/content-type-matcher.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../protocol/invoke-implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js\");\n/* harmony import */ var _protocol_universal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../protocol/universal.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst protocolName = \"grpc\";\nconst methodPost = \"POST\";\n/**\n * Create a factory that creates gRPC handlers.\n */\nfunction createHandlerFactory(options) {\n    const opt = (0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.validateUniversalHandlerOptions)(options);\n    function fact(spec) {\n        const h = createHandler(opt, spec);\n        return Object.assign(h, {\n            protocolNames: [protocolName],\n            allowedMethods: [methodPost],\n            supportedContentType: (0,_protocol_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_1__.contentTypeMatcher)(_content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeRegExp),\n            requestPath: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_3__.createMethodUrl)(\"/\", spec.service, spec.method),\n            service: spec.service,\n            method: spec.method,\n        });\n    }\n    fact.protocolName = protocolName;\n    return fact;\n}\nfunction createHandler(opt, spec) {\n    const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_4__.createMethodSerializationLookup)(spec.method, opt.binaryOptions, opt.jsonOptions, opt);\n    return async function handle(req) {\n        (0,_protocol_universal_js__WEBPACK_IMPORTED_MODULE_5__.assertByteStreamRequest)(req);\n        const type = (0,_content_type_js__WEBPACK_IMPORTED_MODULE_2__.parseContentType)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerContentType));\n        if (type == undefined) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_5__.uResponseUnsupportedMediaType;\n        }\n        if (req.method !== methodPost) {\n            return _protocol_universal_js__WEBPACK_IMPORTED_MODULE_5__.uResponseMethodNotAllowed;\n        }\n        const timeout = (0,_parse_timeout_js__WEBPACK_IMPORTED_MODULE_7__.parseTimeout)(req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerTimeout), opt.maxTimeoutMs);\n        const context = (0,_implementation_js__WEBPACK_IMPORTED_MODULE_8__.createHandlerContext)(Object.assign(Object.assign({}, spec), { requestMethod: req.method, protocolName, timeoutMs: timeout.timeoutMs, shutdownSignal: opt.shutdownSignal, requestSignal: req.signal, requestHeader: req.header, url: req.url, responseHeader: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerContentType]: type.binary ? _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeProto : _content_type_js__WEBPACK_IMPORTED_MODULE_2__.contentTypeJson,\n            }, responseTrailer: {\n                [_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerGrpcStatus]: _trailer_status_js__WEBPACK_IMPORTED_MODULE_9__.grpcStatusOk,\n            }, contextValues: req.contextValues }));\n        const compression = (0,_protocol_compression_js__WEBPACK_IMPORTED_MODULE_10__.compressionNegotiate)(opt.acceptCompression, req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerEncoding), req.header.get(_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerAcceptEncoding), _headers_js__WEBPACK_IMPORTED_MODULE_6__.headerAcceptEncoding);\n        if (compression.response) {\n            context.responseHeader.set(_headers_js__WEBPACK_IMPORTED_MODULE_6__.headerEncoding, compression.response.name);\n        }\n        // We split the pipeline into two parts: The request iterator, and the\n        // response iterator. We do this because the request iterator is responsible\n        // for parsing the request body, and we don't want write errors of the response\n        // iterator to affect the request iterator.\n        const inputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.pipe)(req.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformPrepend)(() => {\n            // raise compression error to serialize it as a trailer status\n            if (compression.error)\n                throw compression.error;\n            // raise timeout parsing error to serialize it as a trailer status\n            if (timeout.error)\n                throw timeout.error;\n            return undefined;\n        }), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformDecompressEnvelope)(compression.request, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformParseEnvelope)(serialization.getI(type.binary)));\n        const it = (0,_protocol_invoke_implementation_js__WEBPACK_IMPORTED_MODULE_12__.transformInvokeImplementation)(spec, context, opt.interceptors)(inputIt)[Symbol.asyncIterator]();\n        const outputIt = (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.pipe)(\n        // We wrap the iterator in an async iterator to ensure that the\n        // abort signal is aborted when the iterator is done.\n        {\n            [Symbol.asyncIterator]() {\n                return {\n                    next: () => it.next(),\n                    throw: (e) => {\n                        var _a, _b;\n                        context.abort(e);\n                        return (_b = (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, e)) !== null && _b !== void 0 ? _b : Promise.reject({ done: true });\n                    },\n                    return: (v) => {\n                        var _a, _b;\n                        context.abort();\n                        return ((_b = (_a = it.return) === null || _a === void 0 ? void 0 : _a.call(it, v)) !== null && _b !== void 0 ? _b : Promise.resolve({ done: true, value: v }));\n                    },\n                };\n            },\n        }, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformSerializeEnvelope)(serialization.getO(type.binary)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformCompressEnvelope)(compression.response, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformJoinEnvelopes)(), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.transformCatchFinally)((e) => {\n            context.abort();\n            if (e instanceof _connect_error_js__WEBPACK_IMPORTED_MODULE_13__.ConnectError) {\n                (0,_trailer_status_js__WEBPACK_IMPORTED_MODULE_9__.setTrailerStatus)(context.responseTrailer, e);\n            }\n            else if (e !== undefined) {\n                (0,_trailer_status_js__WEBPACK_IMPORTED_MODULE_9__.setTrailerStatus)(context.responseTrailer, new _connect_error_js__WEBPACK_IMPORTED_MODULE_13__.ConnectError(\"internal error\", _code_js__WEBPACK_IMPORTED_MODULE_14__.Code.Internal, undefined, undefined, e));\n            }\n        }), { propagateDownStreamError: true });\n        return Object.assign(Object.assign({}, _protocol_universal_js__WEBPACK_IMPORTED_MODULE_5__.uResponseOk), { \n            // We wait for the first response body bytes before resolving, so that\n            // implementations have a chance to add headers before an adapter commits\n            // them to the wire.\n            body: await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_11__.untilFirst)(outputIt), header: context.responseHeader, trailer: context.responseTrailer });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9oYW5kbGVyLWZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzREO0FBQ1Q7QUFDakI7QUFDMEU7QUFDYTtBQUNwRDtBQUNuQjtBQUNxTjtBQUNyTTtBQUNPO0FBQ047QUFDa0I7QUFDTjtBQUNJO0FBQ3dEO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQiwrRkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxRkFBa0IsQ0FBQywrREFBaUI7QUFDdEUseUJBQXlCLCtFQUFlO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyRkFBK0I7QUFDekQ7QUFDQSxRQUFRLCtFQUF1QjtBQUMvQixxQkFBcUIsa0VBQWdCLGdCQUFnQiwwREFBaUI7QUFDdEU7QUFDQSxtQkFBbUIsaUZBQTZCO0FBQ2hEO0FBQ0E7QUFDQSxtQkFBbUIsNkVBQXlCO0FBQzVDO0FBQ0Esd0JBQXdCLCtEQUFZLGdCQUFnQixzREFBYTtBQUNqRSx3QkFBd0Isd0VBQW9CLCtCQUErQixXQUFXO0FBQ3RGLGlCQUFpQiwwREFBaUIsaUJBQWlCLDhEQUFnQixHQUFHLDZEQUFlO0FBQ3JGLGFBQWE7QUFDYixpQkFBaUIseURBQWdCLEdBQUcsNERBQVk7QUFDaEQsYUFBYSxvQ0FBb0M7QUFDakQsNEJBQTRCLCtFQUFvQix1Q0FBdUMsdURBQWMsa0JBQWtCLDZEQUFvQixHQUFHLDZEQUFvQjtBQUNsSztBQUNBLHVDQUF1Qyx1REFBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtFQUFJLFdBQVcsOEVBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHLG9GQUFzQixvQkFBb0IseUZBQTJCLHlDQUF5QyxvRkFBc0I7QUFDaEosbUJBQW1CLGtHQUE2QjtBQUNoRCx5QkFBeUIsa0VBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEpBQTRKLFlBQVk7QUFDeEsscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLCtKQUErSixzQkFBc0I7QUFDckwscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVMsRUFBRSx3RkFBMEIsbUNBQW1DLHVGQUF5Qiw4Q0FBOEMsb0ZBQXNCLElBQUksbUZBQXFCO0FBQzlMO0FBQ0EsNkJBQTZCLDREQUFZO0FBQ3pDLGdCQUFnQixvRUFBZ0I7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixvRUFBZ0IsOEJBQThCLDREQUFZLG1CQUFtQiwyQ0FBSTtBQUNqRztBQUNBLFNBQVMsS0FBSyxnQ0FBZ0M7QUFDOUMsNkNBQTZDLEVBQUUsK0RBQVc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdFQUFVLDhFQUE4RTtBQUNoSDtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwY1xcaGFuZGxlci1mYWN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBjcmVhdGVIYW5kbGVyQ29udGV4dCB9IGZyb20gXCIuLi9pbXBsZW1lbnRhdGlvbi5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY29udGVudFR5cGVKc29uLCBjb250ZW50VHlwZVByb3RvLCBjb250ZW50VHlwZVJlZ0V4cCwgcGFyc2VDb250ZW50VHlwZSwgfSBmcm9tIFwiLi9jb250ZW50LXR5cGUuanNcIjtcbmltcG9ydCB7IGhlYWRlckFjY2VwdEVuY29kaW5nLCBoZWFkZXJDb250ZW50VHlwZSwgaGVhZGVyRW5jb2RpbmcsIGhlYWRlckdycGNTdGF0dXMsIGhlYWRlclRpbWVvdXQsIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgZ3JwY1N0YXR1c09rLCBzZXRUcmFpbGVyU3RhdHVzIH0gZnJvbSBcIi4vdHJhaWxlci1zdGF0dXMuanNcIjtcbmltcG9ydCB7IHBhcnNlVGltZW91dCB9IGZyb20gXCIuL3BhcnNlLXRpbWVvdXQuanNcIjtcbmltcG9ydCB7IHBpcGUsIHRyYW5zZm9ybVByZXBlbmQsIHRyYW5zZm9ybVNwbGl0RW52ZWxvcGUsIHRyYW5zZm9ybURlY29tcHJlc3NFbnZlbG9wZSwgdHJhbnNmb3JtUGFyc2VFbnZlbG9wZSwgdHJhbnNmb3JtU2VyaWFsaXplRW52ZWxvcGUsIHRyYW5zZm9ybUNvbXByZXNzRW52ZWxvcGUsIHRyYW5zZm9ybUpvaW5FbnZlbG9wZXMsIHRyYW5zZm9ybUNhdGNoRmluYWxseSwgdW50aWxGaXJzdCwgfSBmcm9tIFwiLi4vcHJvdG9jb2wvYXN5bmMtaXRlcmFibGUuanNcIjtcbmltcG9ydCB7IGNvbXByZXNzaW9uTmVnb3RpYXRlIH0gZnJvbSBcIi4uL3Byb3RvY29sL2NvbXByZXNzaW9uLmpzXCI7XG5pbXBvcnQgeyBjb250ZW50VHlwZU1hdGNoZXIgfSBmcm9tIFwiLi4vcHJvdG9jb2wvY29udGVudC10eXBlLW1hdGNoZXIuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZFVybCB9IGZyb20gXCIuLi9wcm90b2NvbC9jcmVhdGUtbWV0aG9kLXVybC5qc1wiO1xuaW1wb3J0IHsgdHJhbnNmb3JtSW52b2tlSW1wbGVtZW50YXRpb24gfSBmcm9tIFwiLi4vcHJvdG9jb2wvaW52b2tlLWltcGxlbWVudGF0aW9uLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRob2RTZXJpYWxpemF0aW9uTG9va3VwIH0gZnJvbSBcIi4uL3Byb3RvY29sL3NlcmlhbGl6YXRpb24uanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMgfSBmcm9tIFwiLi4vcHJvdG9jb2wvdW5pdmVyc2FsLWhhbmRsZXIuanNcIjtcbmltcG9ydCB7IGFzc2VydEJ5dGVTdHJlYW1SZXF1ZXN0LCB1UmVzcG9uc2VVbnN1cHBvcnRlZE1lZGlhVHlwZSwgdVJlc3BvbnNlTWV0aG9kTm90QWxsb3dlZCwgdVJlc3BvbnNlT2ssIH0gZnJvbSBcIi4uL3Byb3RvY29sL3VuaXZlcnNhbC5qc1wiO1xuY29uc3QgcHJvdG9jb2xOYW1lID0gXCJncnBjXCI7XG5jb25zdCBtZXRob2RQb3N0ID0gXCJQT1NUXCI7XG4vKipcbiAqIENyZWF0ZSBhIGZhY3RvcnkgdGhhdCBjcmVhdGVzIGdSUEMgaGFuZGxlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyRmFjdG9yeShvcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0ID0gdmFsaWRhdGVVbml2ZXJzYWxIYW5kbGVyT3B0aW9ucyhvcHRpb25zKTtcbiAgICBmdW5jdGlvbiBmYWN0KHNwZWMpIHtcbiAgICAgICAgY29uc3QgaCA9IGNyZWF0ZUhhbmRsZXIob3B0LCBzcGVjKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaCwge1xuICAgICAgICAgICAgcHJvdG9jb2xOYW1lczogW3Byb3RvY29sTmFtZV0sXG4gICAgICAgICAgICBhbGxvd2VkTWV0aG9kczogW21ldGhvZFBvc3RdLFxuICAgICAgICAgICAgc3VwcG9ydGVkQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlTWF0Y2hlcihjb250ZW50VHlwZVJlZ0V4cCksXG4gICAgICAgICAgICByZXF1ZXN0UGF0aDogY3JlYXRlTWV0aG9kVXJsKFwiL1wiLCBzcGVjLnNlcnZpY2UsIHNwZWMubWV0aG9kKSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHNwZWMuc2VydmljZSxcbiAgICAgICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmYWN0LnByb3RvY29sTmFtZSA9IHByb3RvY29sTmFtZTtcbiAgICByZXR1cm4gZmFjdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXIob3B0LCBzcGVjKSB7XG4gICAgY29uc3Qgc2VyaWFsaXphdGlvbiA9IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAoc3BlYy5tZXRob2QsIG9wdC5iaW5hcnlPcHRpb25zLCBvcHQuanNvbk9wdGlvbnMsIG9wdCk7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZShyZXEpIHtcbiAgICAgICAgYXNzZXJ0Qnl0ZVN0cmVhbVJlcXVlc3QocmVxKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHBhcnNlQ29udGVudFR5cGUocmVxLmhlYWRlci5nZXQoaGVhZGVyQ29udGVudFR5cGUpKTtcbiAgICAgICAgaWYgKHR5cGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdVJlc3BvbnNlVW5zdXBwb3J0ZWRNZWRpYVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5tZXRob2QgIT09IG1ldGhvZFBvc3QpIHtcbiAgICAgICAgICAgIHJldHVybiB1UmVzcG9uc2VNZXRob2ROb3RBbGxvd2VkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBwYXJzZVRpbWVvdXQocmVxLmhlYWRlci5nZXQoaGVhZGVyVGltZW91dCksIG9wdC5tYXhUaW1lb3V0TXMpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlSGFuZGxlckNvbnRleHQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzcGVjKSwgeyByZXF1ZXN0TWV0aG9kOiByZXEubWV0aG9kLCBwcm90b2NvbE5hbWUsIHRpbWVvdXRNczogdGltZW91dC50aW1lb3V0TXMsIHNodXRkb3duU2lnbmFsOiBvcHQuc2h1dGRvd25TaWduYWwsIHJlcXVlc3RTaWduYWw6IHJlcS5zaWduYWwsIHJlcXVlc3RIZWFkZXI6IHJlcS5oZWFkZXIsIHVybDogcmVxLnVybCwgcmVzcG9uc2VIZWFkZXI6IHtcbiAgICAgICAgICAgICAgICBbaGVhZGVyQ29udGVudFR5cGVdOiB0eXBlLmJpbmFyeSA/IGNvbnRlbnRUeXBlUHJvdG8gOiBjb250ZW50VHlwZUpzb24sXG4gICAgICAgICAgICB9LCByZXNwb25zZVRyYWlsZXI6IHtcbiAgICAgICAgICAgICAgICBbaGVhZGVyR3JwY1N0YXR1c106IGdycGNTdGF0dXNPayxcbiAgICAgICAgICAgIH0sIGNvbnRleHRWYWx1ZXM6IHJlcS5jb250ZXh0VmFsdWVzIH0pKTtcbiAgICAgICAgY29uc3QgY29tcHJlc3Npb24gPSBjb21wcmVzc2lvbk5lZ290aWF0ZShvcHQuYWNjZXB0Q29tcHJlc3Npb24sIHJlcS5oZWFkZXIuZ2V0KGhlYWRlckVuY29kaW5nKSwgcmVxLmhlYWRlci5nZXQoaGVhZGVyQWNjZXB0RW5jb2RpbmcpLCBoZWFkZXJBY2NlcHRFbmNvZGluZyk7XG4gICAgICAgIGlmIChjb21wcmVzc2lvbi5yZXNwb25zZSkge1xuICAgICAgICAgICAgY29udGV4dC5yZXNwb25zZUhlYWRlci5zZXQoaGVhZGVyRW5jb2RpbmcsIGNvbXByZXNzaW9uLnJlc3BvbnNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHNwbGl0IHRoZSBwaXBlbGluZSBpbnRvIHR3byBwYXJ0czogVGhlIHJlcXVlc3QgaXRlcmF0b3IsIGFuZCB0aGVcbiAgICAgICAgLy8gcmVzcG9uc2UgaXRlcmF0b3IuIFdlIGRvIHRoaXMgYmVjYXVzZSB0aGUgcmVxdWVzdCBpdGVyYXRvciBpcyByZXNwb25zaWJsZVxuICAgICAgICAvLyBmb3IgcGFyc2luZyB0aGUgcmVxdWVzdCBib2R5LCBhbmQgd2UgZG9uJ3Qgd2FudCB3cml0ZSBlcnJvcnMgb2YgdGhlIHJlc3BvbnNlXG4gICAgICAgIC8vIGl0ZXJhdG9yIHRvIGFmZmVjdCB0aGUgcmVxdWVzdCBpdGVyYXRvci5cbiAgICAgICAgY29uc3QgaW5wdXRJdCA9IHBpcGUocmVxLmJvZHksIHRyYW5zZm9ybVByZXBlbmQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gcmFpc2UgY29tcHJlc3Npb24gZXJyb3IgdG8gc2VyaWFsaXplIGl0IGFzIGEgdHJhaWxlciBzdGF0dXNcbiAgICAgICAgICAgIGlmIChjb21wcmVzc2lvbi5lcnJvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBjb21wcmVzc2lvbi5lcnJvcjtcbiAgICAgICAgICAgIC8vIHJhaXNlIHRpbWVvdXQgcGFyc2luZyBlcnJvciB0byBzZXJpYWxpemUgaXQgYXMgYSB0cmFpbGVyIHN0YXR1c1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQuZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgdGltZW91dC5lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pLCB0cmFuc2Zvcm1TcGxpdEVudmVsb3BlKG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1EZWNvbXByZXNzRW52ZWxvcGUoY29tcHJlc3Npb24ucmVxdWVzdCwgb3B0LnJlYWRNYXhCeXRlcyksIHRyYW5zZm9ybVBhcnNlRW52ZWxvcGUoc2VyaWFsaXphdGlvbi5nZXRJKHR5cGUuYmluYXJ5KSkpO1xuICAgICAgICBjb25zdCBpdCA9IHRyYW5zZm9ybUludm9rZUltcGxlbWVudGF0aW9uKHNwZWMsIGNvbnRleHQsIG9wdC5pbnRlcmNlcHRvcnMpKGlucHV0SXQpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICBjb25zdCBvdXRwdXRJdCA9IHBpcGUoXG4gICAgICAgIC8vIFdlIHdyYXAgdGhlIGl0ZXJhdG9yIGluIGFuIGFzeW5jIGl0ZXJhdG9yIHRvIGVuc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyBhYm9ydCBzaWduYWwgaXMgYWJvcnRlZCB3aGVuIHRoZSBpdGVyYXRvciBpcyBkb25lLlxuICAgICAgICB7XG4gICAgICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6ICgpID0+IGl0Lm5leHQoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3c6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hYm9ydChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBpdC50aHJvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaXQsIGUpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBQcm9taXNlLnJlamVjdCh7IGRvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjogKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKChfYiA9IChfYSA9IGl0LnJldHVybikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaXQsIHYpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdiB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIHRyYW5zZm9ybVNlcmlhbGl6ZUVudmVsb3BlKHNlcmlhbGl6YXRpb24uZ2V0Tyh0eXBlLmJpbmFyeSkpLCB0cmFuc2Zvcm1Db21wcmVzc0VudmVsb3BlKGNvbXByZXNzaW9uLnJlc3BvbnNlLCBvcHQuY29tcHJlc3NNaW5CeXRlcyksIHRyYW5zZm9ybUpvaW5FbnZlbG9wZXMoKSwgdHJhbnNmb3JtQ2F0Y2hGaW5hbGx5KChlKSA9PiB7XG4gICAgICAgICAgICBjb250ZXh0LmFib3J0KCk7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIENvbm5lY3RFcnJvcikge1xuICAgICAgICAgICAgICAgIHNldFRyYWlsZXJTdGF0dXMoY29udGV4dC5yZXNwb25zZVRyYWlsZXIsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2V0VHJhaWxlclN0YXR1cyhjb250ZXh0LnJlc3BvbnNlVHJhaWxlciwgbmV3IENvbm5lY3RFcnJvcihcImludGVybmFsIGVycm9yXCIsIENvZGUuSW50ZXJuYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB7IHByb3BhZ2F0ZURvd25TdHJlYW1FcnJvcjogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdVJlc3BvbnNlT2spLCB7IFxuICAgICAgICAgICAgLy8gV2Ugd2FpdCBmb3IgdGhlIGZpcnN0IHJlc3BvbnNlIGJvZHkgYnl0ZXMgYmVmb3JlIHJlc29sdmluZywgc28gdGhhdFxuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb25zIGhhdmUgYSBjaGFuY2UgdG8gYWRkIGhlYWRlcnMgYmVmb3JlIGFuIGFkYXB0ZXIgY29tbWl0c1xuICAgICAgICAgICAgLy8gdGhlbSB0byB0aGUgd2lyZS5cbiAgICAgICAgICAgIGJvZHk6IGF3YWl0IHVudGlsRmlyc3Qob3V0cHV0SXQpLCBoZWFkZXI6IGNvbnRleHQucmVzcG9uc2VIZWFkZXIsIHRyYWlsZXI6IGNvbnRleHQucmVzcG9uc2VUcmFpbGVyIH0pO1xuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/handler-factory.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerAcceptEncoding: () => (/* binding */ headerAcceptEncoding),\n/* harmony export */   headerContentType: () => (/* binding */ headerContentType),\n/* harmony export */   headerEncoding: () => (/* binding */ headerEncoding),\n/* harmony export */   headerGrpcMessage: () => (/* binding */ headerGrpcMessage),\n/* harmony export */   headerGrpcStatus: () => (/* binding */ headerGrpcStatus),\n/* harmony export */   headerMessageType: () => (/* binding */ headerMessageType),\n/* harmony export */   headerStatusDetailsBin: () => (/* binding */ headerStatusDetailsBin),\n/* harmony export */   headerTimeout: () => (/* binding */ headerTimeout),\n/* harmony export */   headerUserAgent: () => (/* binding */ headerUserAgent)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * @private Internal code, does not follow semantic versioning.\n */\nconst headerContentType = \"Content-Type\";\nconst headerEncoding = \"Grpc-Encoding\";\nconst headerAcceptEncoding = \"Grpc-Accept-Encoding\";\nconst headerTimeout = \"Grpc-Timeout\";\nconst headerGrpcStatus = \"Grpc-Status\";\nconst headerGrpcMessage = \"Grpc-Message\";\nconst headerStatusDetailsBin = \"Grpc-Status-Details-Bin\";\nconst headerMessageType = \"Grpc-Message-Type\";\nconst headerUserAgent = \"User-Agent\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwY1xcaGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuLyoqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGhlYWRlckNvbnRlbnRUeXBlID0gXCJDb250ZW50LVR5cGVcIjtcbmV4cG9ydCBjb25zdCBoZWFkZXJFbmNvZGluZyA9IFwiR3JwYy1FbmNvZGluZ1wiO1xuZXhwb3J0IGNvbnN0IGhlYWRlckFjY2VwdEVuY29kaW5nID0gXCJHcnBjLUFjY2VwdC1FbmNvZGluZ1wiO1xuZXhwb3J0IGNvbnN0IGhlYWRlclRpbWVvdXQgPSBcIkdycGMtVGltZW91dFwiO1xuZXhwb3J0IGNvbnN0IGhlYWRlckdycGNTdGF0dXMgPSBcIkdycGMtU3RhdHVzXCI7XG5leHBvcnQgY29uc3QgaGVhZGVyR3JwY01lc3NhZ2UgPSBcIkdycGMtTWVzc2FnZVwiO1xuZXhwb3J0IGNvbnN0IGhlYWRlclN0YXR1c0RldGFpbHNCaW4gPSBcIkdycGMtU3RhdHVzLURldGFpbHMtQmluXCI7XG5leHBvcnQgY29uc3QgaGVhZGVyTWVzc2FnZVR5cGUgPSBcIkdycGMtTWVzc2FnZS1UeXBlXCI7XG5leHBvcnQgY29uc3QgaGVhZGVyVXNlckFnZW50ID0gXCJVc2VyLUFnZW50XCI7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/http-status.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/http-status.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   codeFromHttpStatus: () => (/* binding */ codeFromHttpStatus)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Determine the gRPC-web error code for the given HTTP status code.\n * See https://github.com/grpc/grpc/blob/master/doc/http-grpc-status-mapping.md.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction codeFromHttpStatus(httpStatus) {\n    switch (httpStatus) {\n        case 400: // Bad Request\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Internal;\n        case 401: // Unauthorized\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unauthenticated;\n        case 403: // Forbidden\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.PermissionDenied;\n        case 404: // Not Found\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unimplemented;\n        case 429: // Too Many Requests\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 502: // Bad Gateway\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 503: // Service Unavailable\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        case 504: // Gateway Timeout\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unavailable;\n        default:\n            // 200 is UNKNOWN because there should be a grpc-status in case of truly OK response.\n            return _code_js__WEBPACK_IMPORTED_MODULE_0__.Code.Unknown;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9odHRwLXN0YXR1cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBLG1CQUFtQiwwQ0FBSTtBQUN2QjtBQUNBO0FBQ0EsbUJBQW1CLDBDQUFJO0FBQ3ZCO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjXFxodHRwLXN0YXR1cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG4vKipcbiAqIERldGVybWluZSB0aGUgZ1JQQy13ZWIgZXJyb3IgY29kZSBmb3IgdGhlIGdpdmVuIEhUVFAgc3RhdHVzIGNvZGUuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9kb2MvaHR0cC1ncnBjLXN0YXR1cy1tYXBwaW5nLm1kLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29kZUZyb21IdHRwU3RhdHVzKGh0dHBTdGF0dXMpIHtcbiAgICBzd2l0Y2ggKGh0dHBTdGF0dXMpIHtcbiAgICAgICAgY2FzZSA0MDA6IC8vIEJhZCBSZXF1ZXN0XG4gICAgICAgICAgICByZXR1cm4gQ29kZS5JbnRlcm5hbDtcbiAgICAgICAgY2FzZSA0MDE6IC8vIFVuYXV0aG9yaXplZFxuICAgICAgICAgICAgcmV0dXJuIENvZGUuVW5hdXRoZW50aWNhdGVkO1xuICAgICAgICBjYXNlIDQwMzogLy8gRm9yYmlkZGVuXG4gICAgICAgICAgICByZXR1cm4gQ29kZS5QZXJtaXNzaW9uRGVuaWVkO1xuICAgICAgICBjYXNlIDQwNDogLy8gTm90IEZvdW5kXG4gICAgICAgICAgICByZXR1cm4gQ29kZS5VbmltcGxlbWVudGVkO1xuICAgICAgICBjYXNlIDQyOTogLy8gVG9vIE1hbnkgUmVxdWVzdHNcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVuYXZhaWxhYmxlO1xuICAgICAgICBjYXNlIDUwMjogLy8gQmFkIEdhdGV3YXlcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVuYXZhaWxhYmxlO1xuICAgICAgICBjYXNlIDUwMzogLy8gU2VydmljZSBVbmF2YWlsYWJsZVxuICAgICAgICAgICAgcmV0dXJuIENvZGUuVW5hdmFpbGFibGU7XG4gICAgICAgIGNhc2UgNTA0OiAvLyBHYXRld2F5IFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBDb2RlLlVuYXZhaWxhYmxlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gMjAwIGlzIFVOS05PV04gYmVjYXVzZSB0aGVyZSBzaG91bGQgYmUgYSBncnBjLXN0YXR1cyBpbiBjYXNlIG9mIHRydWx5IE9LIHJlc3BvbnNlLlxuICAgICAgICAgICAgcmV0dXJuIENvZGUuVW5rbm93bjtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/http-status.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTimeout: () => (/* binding */ parseTimeout)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Parse a gRPC Timeout (Deadline) header.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction parseTimeout(value, maxTimeoutMs) {\n    if (value === null) {\n        return {};\n    }\n    const results = /^(\\d{1,8})([HMSmun])$/.exec(value);\n    if (results === null) {\n        return {\n            error: new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`protocol error: invalid grpc timeout value: ${value}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument),\n        };\n    }\n    const unitToMultiplicand = {\n        H: 60 * 60 * 1000, // hour\n        M: 60 * 1000, // minute\n        S: 1000, // second\n        m: 1, // millisecond\n        u: 0.001, // microsecond\n        n: 0.000001, // nanosecond\n    };\n    const timeoutMs = unitToMultiplicand[results[2]] *\n        parseInt(results[1]);\n    if (timeoutMs > maxTimeoutMs) {\n        return {\n            timeoutMs: timeoutMs,\n            error: new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument),\n        };\n    }\n    return {\n        timeoutMs,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9wYXJzZS10aW1lb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tDO0FBQ2lCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixJQUFJO0FBQzlCO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVksZ0RBQWdELE1BQU0sR0FBRywwQ0FBSTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkRBQVksWUFBWSxVQUFVLGdCQUFnQixhQUFhLEdBQUcsMENBQUk7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwY1xccGFyc2UtdGltZW91dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuLyoqXG4gKiBQYXJzZSBhIGdSUEMgVGltZW91dCAoRGVhZGxpbmUpIGhlYWRlci5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGltZW91dCh2YWx1ZSwgbWF4VGltZW91dE1zKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IC9eKFxcZHsxLDh9KShbSE1TbXVuXSkkLy5leGVjKHZhbHVlKTtcbiAgICBpZiAocmVzdWx0cyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3I6IG5ldyBDb25uZWN0RXJyb3IoYHByb3RvY29sIGVycm9yOiBpbnZhbGlkIGdycGMgdGltZW91dCB2YWx1ZTogJHt2YWx1ZX1gLCBDb2RlLkludmFsaWRBcmd1bWVudCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVuaXRUb011bHRpcGxpY2FuZCA9IHtcbiAgICAgICAgSDogNjAgKiA2MCAqIDEwMDAsIC8vIGhvdXJcbiAgICAgICAgTTogNjAgKiAxMDAwLCAvLyBtaW51dGVcbiAgICAgICAgUzogMTAwMCwgLy8gc2Vjb25kXG4gICAgICAgIG06IDEsIC8vIG1pbGxpc2Vjb25kXG4gICAgICAgIHU6IDAuMDAxLCAvLyBtaWNyb3NlY29uZFxuICAgICAgICBuOiAwLjAwMDAwMSwgLy8gbmFub3NlY29uZFxuICAgIH07XG4gICAgY29uc3QgdGltZW91dE1zID0gdW5pdFRvTXVsdGlwbGljYW5kW3Jlc3VsdHNbMl1dICpcbiAgICAgICAgcGFyc2VJbnQocmVzdWx0c1sxXSk7XG4gICAgaWYgKHRpbWVvdXRNcyA+IG1heFRpbWVvdXRNcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZW91dE1zOiB0aW1lb3V0TXMsXG4gICAgICAgICAgICBlcnJvcjogbmV3IENvbm5lY3RFcnJvcihgdGltZW91dCAke3RpbWVvdXRNc31tcyBtdXN0IGJlIDw9ICR7bWF4VGltZW91dE1zfWAsIENvZGUuSW52YWxpZEFyZ3VtZW50KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZW91dE1zLFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/parse-timeout.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/request-header.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/request-header.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestHeader: () => (/* binding */ requestHeader),\n/* harmony export */   requestHeaderWithCompression: () => (/* binding */ requestHeaderWithCompression)\n/* harmony export */ });\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Creates headers for a gRPC request.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeader(useBinaryFormat, timeoutMs, userProvidedHeaders) {\n    const result = new Headers(userProvidedHeaders !== null && userProvidedHeaders !== void 0 ? userProvidedHeaders : {});\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerContentType, useBinaryFormat ? _content_type_js__WEBPACK_IMPORTED_MODULE_1__.contentTypeProto : _content_type_js__WEBPACK_IMPORTED_MODULE_1__.contentTypeJson);\n    // Note that we do not strictly comply with gRPC user agents.\n    // We use \"connect-es/1.2.3\" where gRPC would use \"grpc-es/1.2.3\".\n    // See https://github.com/grpc/grpc/blob/c462bb8d485fc1434ecfae438823ca8d14cf3154/doc/PROTOCOL-HTTP2.md#user-agents\n    result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerUserAgent, \"connect-es/1.6.1\");\n    if (timeoutMs !== undefined) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerTimeout, `${timeoutMs}m`);\n    }\n    // The gRPC-HTTP2 specification requires this - it flushes out proxies that\n    // don't support HTTP trailers.\n    result.set(\"Te\", \"trailers\");\n    return result;\n}\n/**\n * Creates headers for a gRPC request with compression.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction requestHeaderWithCompression(useBinaryFormat, timeoutMs, userProvidedHeaders, acceptCompression, sendCompression) {\n    const result = requestHeader(useBinaryFormat, timeoutMs, userProvidedHeaders);\n    if (sendCompression != null) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerEncoding, sendCompression.name);\n    }\n    if (acceptCompression.length > 0) {\n        result.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerAcceptEncoding, acceptCompression.map((c) => c.name).join(\",\"));\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy9yZXF1ZXN0LWhlYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0g7QUFDbEQ7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0hBQXdIO0FBQ3hILGVBQWUsMERBQWlCLG9CQUFvQiw4REFBZ0IsR0FBRyw2REFBZTtBQUN0RjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFlO0FBQzlCO0FBQ0EsbUJBQW1CLHNEQUFhLEtBQUssVUFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUJBQW1CLHVEQUFjO0FBQ2pDO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQW9CO0FBQ3ZDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sLWdycGNcXHJlcXVlc3QtaGVhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBoZWFkZXJBY2NlcHRFbmNvZGluZywgaGVhZGVyQ29udGVudFR5cGUsIGhlYWRlckVuY29kaW5nLCBoZWFkZXJUaW1lb3V0LCBoZWFkZXJVc2VyQWdlbnQsIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgY29udGVudFR5cGVKc29uLCBjb250ZW50VHlwZVByb3RvIH0gZnJvbSBcIi4vY29udGVudC10eXBlLmpzXCI7XG4vKipcbiAqIENyZWF0ZXMgaGVhZGVycyBmb3IgYSBnUlBDIHJlcXVlc3QuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0SGVhZGVyKHVzZUJpbmFyeUZvcm1hdCwgdGltZW91dE1zLCB1c2VyUHJvdmlkZWRIZWFkZXJzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEhlYWRlcnModXNlclByb3ZpZGVkSGVhZGVycyAhPT0gbnVsbCAmJiB1c2VyUHJvdmlkZWRIZWFkZXJzICE9PSB2b2lkIDAgPyB1c2VyUHJvdmlkZWRIZWFkZXJzIDoge30pO1xuICAgIHJlc3VsdC5zZXQoaGVhZGVyQ29udGVudFR5cGUsIHVzZUJpbmFyeUZvcm1hdCA/IGNvbnRlbnRUeXBlUHJvdG8gOiBjb250ZW50VHlwZUpzb24pO1xuICAgIC8vIE5vdGUgdGhhdCB3ZSBkbyBub3Qgc3RyaWN0bHkgY29tcGx5IHdpdGggZ1JQQyB1c2VyIGFnZW50cy5cbiAgICAvLyBXZSB1c2UgXCJjb25uZWN0LWVzLzEuMi4zXCIgd2hlcmUgZ1JQQyB3b3VsZCB1c2UgXCJncnBjLWVzLzEuMi4zXCIuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9jNDYyYmI4ZDQ4NWZjMTQzNGVjZmFlNDM4ODIzY2E4ZDE0Y2YzMTU0L2RvYy9QUk9UT0NPTC1IVFRQMi5tZCN1c2VyLWFnZW50c1xuICAgIHJlc3VsdC5zZXQoaGVhZGVyVXNlckFnZW50LCBcImNvbm5lY3QtZXMvMS42LjFcIik7XG4gICAgaWYgKHRpbWVvdXRNcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdC5zZXQoaGVhZGVyVGltZW91dCwgYCR7dGltZW91dE1zfW1gKTtcbiAgICB9XG4gICAgLy8gVGhlIGdSUEMtSFRUUDIgc3BlY2lmaWNhdGlvbiByZXF1aXJlcyB0aGlzIC0gaXQgZmx1c2hlcyBvdXQgcHJveGllcyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3VwcG9ydCBIVFRQIHRyYWlsZXJzLlxuICAgIHJlc3VsdC5zZXQoXCJUZVwiLCBcInRyYWlsZXJzXCIpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENyZWF0ZXMgaGVhZGVycyBmb3IgYSBnUlBDIHJlcXVlc3Qgd2l0aCBjb21wcmVzc2lvbi5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RIZWFkZXJXaXRoQ29tcHJlc3Npb24odXNlQmluYXJ5Rm9ybWF0LCB0aW1lb3V0TXMsIHVzZXJQcm92aWRlZEhlYWRlcnMsIGFjY2VwdENvbXByZXNzaW9uLCBzZW5kQ29tcHJlc3Npb24pIHtcbiAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0SGVhZGVyKHVzZUJpbmFyeUZvcm1hdCwgdGltZW91dE1zLCB1c2VyUHJvdmlkZWRIZWFkZXJzKTtcbiAgICBpZiAoc2VuZENvbXByZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgcmVzdWx0LnNldChoZWFkZXJFbmNvZGluZywgc2VuZENvbXByZXNzaW9uLm5hbWUpO1xuICAgIH1cbiAgICBpZiAoYWNjZXB0Q29tcHJlc3Npb24ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQuc2V0KGhlYWRlckFjY2VwdEVuY29kaW5nLCBhY2NlcHRDb21wcmVzc2lvbi5tYXAoKGMpID0+IGMubmFtZSkuam9pbihcIixcIikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/request-header.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findTrailerError: () => (/* binding */ findTrailerError),\n/* harmony export */   grpcStatusOk: () => (/* binding */ grpcStatusOk),\n/* harmony export */   setTrailerStatus: () => (/* binding */ setTrailerStatus)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/google/protobuf/any_pb.js\");\n/* harmony import */ var _gen_status_pb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gen/status_pb.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/gen/status_pb.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _http_headers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../http-headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/http-headers.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n/**\n * The value of the Grpc-Status header or trailer in case of success.\n * Used by the gRPC and gRPC-web protocols.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst grpcStatusOk = \"0\";\n/**\n * Sets the fields \"grpc-status\" and \"grpc-message\" in the given\n * Headers object.\n * If an error is given and contains error details, the function\n * will also set the field \"grpc-status-details-bin\" with an encoded\n * google.rpc.Status message including the error details.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction setTrailerStatus(target, error) {\n    if (error) {\n        target.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcStatus, error.code.toString(10));\n        target.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcMessage, encodeURIComponent(error.rawMessage));\n        if (error.details.length > 0) {\n            const status = new _gen_status_pb_js__WEBPACK_IMPORTED_MODULE_1__.Status({\n                code: error.code,\n                message: error.rawMessage,\n                details: error.details.map((value) => \"getType\" in value\n                    ? _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.Any.pack(value)\n                    : new _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.Any({\n                        typeUrl: `type.googleapis.com/${value.type}`,\n                        value: value.value,\n                    })),\n            });\n            target.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStatusDetailsBin, (0,_http_headers_js__WEBPACK_IMPORTED_MODULE_3__.encodeBinaryHeader)(status));\n        }\n    }\n    else {\n        target.set(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcStatus, grpcStatusOk.toString());\n    }\n    return target;\n}\n/**\n * Find an error status in the given Headers object, which can be either\n * a trailer, or a header (as allowed for so-called trailers-only responses).\n * The field \"grpc-status-details-bin\" is inspected, and if not present,\n * the fields \"grpc-status\" and \"grpc-message\" are used.\n * Returns an error only if the gRPC status code is > 0.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction findTrailerError(headerOrTrailer) {\n    // TODO\n    // let code: Code;\n    // let message: string = \"\";\n    var _a;\n    // Prefer the protobuf-encoded data to the grpc-status header.\n    const statusBytes = headerOrTrailer.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerStatusDetailsBin);\n    if (statusBytes != null) {\n        const status = (0,_http_headers_js__WEBPACK_IMPORTED_MODULE_3__.decodeBinaryHeader)(statusBytes, _gen_status_pb_js__WEBPACK_IMPORTED_MODULE_1__.Status);\n        if (status.code == 0) {\n            return undefined;\n        }\n        const error = new _connect_error_js__WEBPACK_IMPORTED_MODULE_4__.ConnectError(status.message, status.code, headerOrTrailer);\n        error.details = status.details.map((any) => ({\n            type: any.typeUrl.substring(any.typeUrl.lastIndexOf(\"/\") + 1),\n            value: any.value,\n        }));\n        return error;\n    }\n    const grpcStatus = headerOrTrailer.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcStatus);\n    if (grpcStatus != null) {\n        if (grpcStatus === grpcStatusOk) {\n            return undefined;\n        }\n        const code = parseInt(grpcStatus, 10);\n        if (code in _code_js__WEBPACK_IMPORTED_MODULE_5__.Code) {\n            return new _connect_error_js__WEBPACK_IMPORTED_MODULE_4__.ConnectError(decodeURIComponent((_a = headerOrTrailer.get(_headers_js__WEBPACK_IMPORTED_MODULE_0__.headerGrpcMessage)) !== null && _a !== void 0 ? _a : \"\"), code, headerOrTrailer);\n        }\n        return new _connect_error_js__WEBPACK_IMPORTED_MODULE_4__.ConnectError(`invalid grpc-status: ${grpcStatus}`, _code_js__WEBPACK_IMPORTED_MODULE_5__.Code.Internal, headerOrTrailer);\n    }\n    return undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy90cmFpbGVyLXN0YXR1cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5QztBQUNHO0FBQ087QUFDeUI7QUFDMUM7QUFDMEQ7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLHlEQUFnQjtBQUNuQyxtQkFBbUIsMERBQWlCO0FBQ3BDO0FBQ0EsK0JBQStCLHFEQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtREFBRztBQUN6QiwwQkFBMEIsbURBQUc7QUFDN0Isd0RBQXdELFdBQVc7QUFDbkU7QUFDQSxxQkFBcUI7QUFDckIsYUFBYTtBQUNiLHVCQUF1QiwrREFBc0IsRUFBRSxvRUFBa0I7QUFDakU7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0RBQXNCO0FBQ2xFO0FBQ0EsdUJBQXVCLG9FQUFrQixjQUFjLHFEQUFNO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJDQUEyQyx5REFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwQ0FBSTtBQUN4Qix1QkFBdUIsMkRBQVksOENBQThDLDBEQUFpQjtBQUNsRztBQUNBLG1CQUFtQiwyREFBWSx5QkFBeUIsV0FBVyxHQUFHLDBDQUFJO0FBQzFFO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sLWdycGNcXHRyYWlsZXItc3RhdHVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBBbnkgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmXCI7XG5pbXBvcnQgeyBTdGF0dXMgfSBmcm9tIFwiLi9nZW4vc3RhdHVzX3BiLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlQmluYXJ5SGVhZGVyLCBlbmNvZGVCaW5hcnlIZWFkZXIgfSBmcm9tIFwiLi4vaHR0cC1oZWFkZXJzLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IGhlYWRlckdycGNNZXNzYWdlLCBoZWFkZXJHcnBjU3RhdHVzLCBoZWFkZXJTdGF0dXNEZXRhaWxzQmluLCB9IGZyb20gXCIuL2hlYWRlcnMuanNcIjtcbi8qKlxuICogVGhlIHZhbHVlIG9mIHRoZSBHcnBjLVN0YXR1cyBoZWFkZXIgb3IgdHJhaWxlciBpbiBjYXNlIG9mIHN1Y2Nlc3MuXG4gKiBVc2VkIGJ5IHRoZSBnUlBDIGFuZCBnUlBDLXdlYiBwcm90b2NvbHMuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBncnBjU3RhdHVzT2sgPSBcIjBcIjtcbi8qKlxuICogU2V0cyB0aGUgZmllbGRzIFwiZ3JwYy1zdGF0dXNcIiBhbmQgXCJncnBjLW1lc3NhZ2VcIiBpbiB0aGUgZ2l2ZW5cbiAqIEhlYWRlcnMgb2JqZWN0LlxuICogSWYgYW4gZXJyb3IgaXMgZ2l2ZW4gYW5kIGNvbnRhaW5zIGVycm9yIGRldGFpbHMsIHRoZSBmdW5jdGlvblxuICogd2lsbCBhbHNvIHNldCB0aGUgZmllbGQgXCJncnBjLXN0YXR1cy1kZXRhaWxzLWJpblwiIHdpdGggYW4gZW5jb2RlZFxuICogZ29vZ2xlLnJwYy5TdGF0dXMgbWVzc2FnZSBpbmNsdWRpbmcgdGhlIGVycm9yIGRldGFpbHMuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFpbGVyU3RhdHVzKHRhcmdldCwgZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGFyZ2V0LnNldChoZWFkZXJHcnBjU3RhdHVzLCBlcnJvci5jb2RlLnRvU3RyaW5nKDEwKSk7XG4gICAgICAgIHRhcmdldC5zZXQoaGVhZGVyR3JwY01lc3NhZ2UsIGVuY29kZVVSSUNvbXBvbmVudChlcnJvci5yYXdNZXNzYWdlKSk7XG4gICAgICAgIGlmIChlcnJvci5kZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IucmF3TWVzc2FnZSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5kZXRhaWxzLm1hcCgodmFsdWUpID0+IFwiZ2V0VHlwZVwiIGluIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgID8gQW55LnBhY2sodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IEFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlVXJsOiBgdHlwZS5nb29nbGVhcGlzLmNvbS8ke3ZhbHVlLnR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YXJnZXQuc2V0KGhlYWRlclN0YXR1c0RldGFpbHNCaW4sIGVuY29kZUJpbmFyeUhlYWRlcihzdGF0dXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LnNldChoZWFkZXJHcnBjU3RhdHVzLCBncnBjU3RhdHVzT2sudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIEZpbmQgYW4gZXJyb3Igc3RhdHVzIGluIHRoZSBnaXZlbiBIZWFkZXJzIG9iamVjdCwgd2hpY2ggY2FuIGJlIGVpdGhlclxuICogYSB0cmFpbGVyLCBvciBhIGhlYWRlciAoYXMgYWxsb3dlZCBmb3Igc28tY2FsbGVkIHRyYWlsZXJzLW9ubHkgcmVzcG9uc2VzKS5cbiAqIFRoZSBmaWVsZCBcImdycGMtc3RhdHVzLWRldGFpbHMtYmluXCIgaXMgaW5zcGVjdGVkLCBhbmQgaWYgbm90IHByZXNlbnQsXG4gKiB0aGUgZmllbGRzIFwiZ3JwYy1zdGF0dXNcIiBhbmQgXCJncnBjLW1lc3NhZ2VcIiBhcmUgdXNlZC5cbiAqIFJldHVybnMgYW4gZXJyb3Igb25seSBpZiB0aGUgZ1JQQyBzdGF0dXMgY29kZSBpcyA+IDAuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kVHJhaWxlckVycm9yKGhlYWRlck9yVHJhaWxlcikge1xuICAgIC8vIFRPRE9cbiAgICAvLyBsZXQgY29kZTogQ29kZTtcbiAgICAvLyBsZXQgbWVzc2FnZTogc3RyaW5nID0gXCJcIjtcbiAgICB2YXIgX2E7XG4gICAgLy8gUHJlZmVyIHRoZSBwcm90b2J1Zi1lbmNvZGVkIGRhdGEgdG8gdGhlIGdycGMtc3RhdHVzIGhlYWRlci5cbiAgICBjb25zdCBzdGF0dXNCeXRlcyA9IGhlYWRlck9yVHJhaWxlci5nZXQoaGVhZGVyU3RhdHVzRGV0YWlsc0Jpbik7XG4gICAgaWYgKHN0YXR1c0J5dGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gZGVjb2RlQmluYXJ5SGVhZGVyKHN0YXR1c0J5dGVzLCBTdGF0dXMpO1xuICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBDb25uZWN0RXJyb3Ioc3RhdHVzLm1lc3NhZ2UsIHN0YXR1cy5jb2RlLCBoZWFkZXJPclRyYWlsZXIpO1xuICAgICAgICBlcnJvci5kZXRhaWxzID0gc3RhdHVzLmRldGFpbHMubWFwKChhbnkpID0+ICh7XG4gICAgICAgICAgICB0eXBlOiBhbnkudHlwZVVybC5zdWJzdHJpbmcoYW55LnR5cGVVcmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSksXG4gICAgICAgICAgICB2YWx1ZTogYW55LnZhbHVlLFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgZ3JwY1N0YXR1cyA9IGhlYWRlck9yVHJhaWxlci5nZXQoaGVhZGVyR3JwY1N0YXR1cyk7XG4gICAgaWYgKGdycGNTdGF0dXMgIT0gbnVsbCkge1xuICAgICAgICBpZiAoZ3JwY1N0YXR1cyA9PT0gZ3JwY1N0YXR1c09rKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGUgPSBwYXJzZUludChncnBjU3RhdHVzLCAxMCk7XG4gICAgICAgIGlmIChjb2RlIGluIENvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdEVycm9yKGRlY29kZVVSSUNvbXBvbmVudCgoX2EgPSBoZWFkZXJPclRyYWlsZXIuZ2V0KGhlYWRlckdycGNNZXNzYWdlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIiksIGNvZGUsIGhlYWRlck9yVHJhaWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0RXJyb3IoYGludmFsaWQgZ3JwYy1zdGF0dXM6ICR7Z3JwY1N0YXR1c31gLCBDb2RlLkludGVybmFsLCBoZWFkZXJPclRyYWlsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/transport.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/transport.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTransport: () => (/* binding */ createTransport)\n/* harmony export */ });\n/* harmony import */ var _request_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-header.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/request-header.js\");\n/* harmony import */ var _validate_response_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate-response.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-response.js\");\n/* harmony import */ var _validate_trailer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./validate-trailer.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-trailer.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../protocol/async-iterable.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\");\n/* harmony import */ var _protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../protocol/create-method-url.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\");\n/* harmony import */ var _protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../protocol/run-call.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js\");\n/* harmony import */ var _protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../protocol/serialization.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\");\n/* harmony import */ var _context_values_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context-values.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/context-values.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (undefined && undefined.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Create a Transport for the gRPC protocol.\n */\nfunction createTransport(opt) {\n    return {\n        async unary(service, method, signal, timeoutMs, header, message, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runUnaryCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {},\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)((0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.createAsyncIterable)([req.message]), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSerializeEnvelope)(serialization.getI(opt.useBinaryFormat)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformCompressEnvelope)(opt.sendCompression, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformJoinEnvelopes)(), {\n                            propagateDownStreamError: true,\n                        }),\n                    });\n                    const { compression, headerError } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_6__.validateResponseWithCompression)(opt.acceptCompression, uRes.status, uRes.header);\n                    const message = await (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipeTo)(uRes.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformDecompressEnvelope)(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformParseEnvelope)(serialization.getO(opt.useBinaryFormat)), async (iterable) => {\n                        var _a, e_1, _b, _c;\n                        let message;\n                        try {\n                            for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = await iterable_1.next(), _a = iterable_1_1.done, !_a; _d = true) {\n                                _c = iterable_1_1.value;\n                                _d = false;\n                                const chunk = _c;\n                                if (message !== undefined) {\n                                    throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_7__.ConnectError(\"protocol error: received extra output message for unary method\", _code_js__WEBPACK_IMPORTED_MODULE_8__.Code.Unimplemented);\n                                }\n                                message = chunk;\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (!_d && !_a && (_b = iterable_1.return)) await _b.call(iterable_1);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        return message;\n                    }, { propagateDownStreamError: false });\n                    (0,_validate_trailer_js__WEBPACK_IMPORTED_MODULE_9__.validateTrailer)(uRes.trailer, uRes.header);\n                    if (message === undefined) {\n                        // Trailers only response\n                        if (headerError) {\n                            throw headerError;\n                        }\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_7__.ConnectError(\"protocol error: missing output message for unary method\", uRes.trailer.has(_headers_js__WEBPACK_IMPORTED_MODULE_10__.headerGrpcStatus)\n                            ? _code_js__WEBPACK_IMPORTED_MODULE_8__.Code.Unimplemented\n                            : _code_js__WEBPACK_IMPORTED_MODULE_8__.Code.Unknown);\n                    }\n                    if (headerError) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_7__.ConnectError(\"protocol error: received output message for unary method with error status\", _code_js__WEBPACK_IMPORTED_MODULE_8__.Code.Unknown);\n                    }\n                    return {\n                        stream: false,\n                        service,\n                        method,\n                        header: uRes.header,\n                        message,\n                        trailer: uRes.trailer,\n                    };\n                },\n            });\n        },\n        async stream(service, method, signal, timeoutMs, header, input, contextValues) {\n            const serialization = (0,_protocol_serialization_js__WEBPACK_IMPORTED_MODULE_0__.createMethodSerializationLookup)(method, opt.binaryOptions, opt.jsonOptions, opt);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? opt.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return (0,_protocol_run_call_js__WEBPACK_IMPORTED_MODULE_1__.runStreamingCall)({\n                interceptors: opt.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: true,\n                    service,\n                    method,\n                    url: (0,_protocol_create_method_url_js__WEBPACK_IMPORTED_MODULE_2__.createMethodUrl)(opt.baseUrl, service, method),\n                    init: {},\n                    header: (0,_request_header_js__WEBPACK_IMPORTED_MODULE_3__.requestHeaderWithCompression)(opt.useBinaryFormat, timeoutMs, header, opt.acceptCompression, opt.sendCompression),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : (0,_context_values_js__WEBPACK_IMPORTED_MODULE_4__.createContextValues)(),\n                    message: input,\n                },\n                next: async (req) => {\n                    const uRes = await opt.httpClient({\n                        url: req.url,\n                        method: \"POST\",\n                        header: req.header,\n                        signal: req.signal,\n                        body: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)(req.message, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSerializeEnvelope)(serialization.getI(opt.useBinaryFormat)), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformCompressEnvelope)(opt.sendCompression, opt.compressMinBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformJoinEnvelopes)(), { propagateDownStreamError: true }),\n                    });\n                    const { compression, foundStatus, headerError } = (0,_validate_response_js__WEBPACK_IMPORTED_MODULE_6__.validateResponseWithCompression)(opt.acceptCompression, uRes.status, uRes.header);\n                    if (headerError) {\n                        throw headerError;\n                    }\n                    const res = Object.assign(Object.assign({}, req), { header: uRes.header, trailer: uRes.trailer, message: (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.pipe)(uRes.body, (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformSplitEnvelope)(opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformDecompressEnvelope)(compression !== null && compression !== void 0 ? compression : null, opt.readMaxBytes), (0,_protocol_async_iterable_js__WEBPACK_IMPORTED_MODULE_5__.transformParseEnvelope)(serialization.getO(opt.useBinaryFormat)), function (iterable) {\n                            return __asyncGenerator(this, arguments, function* () {\n                                yield __await(yield* __asyncDelegator(__asyncValues(iterable)));\n                                if (!foundStatus) {\n                                    (0,_validate_trailer_js__WEBPACK_IMPORTED_MODULE_9__.validateTrailer)(uRes.trailer, uRes.header);\n                                }\n                            });\n                        }, { propagateDownStreamError: true }) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy90cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBSSxJQUFJLFNBQUk7QUFDakM7QUFDQTtBQUNBLDJHQUEyRyx1RkFBdUYsY0FBYztBQUNoTix1QkFBdUIsOEJBQThCLGdEQUFnRCx3REFBd0Q7QUFDN0osNkNBQTZDLHNDQUFzQyxVQUFVLG1CQUFtQixJQUFJO0FBQ3BIO0FBQ0EsZUFBZSxTQUFJLElBQUksU0FBSSw0QkFBNEI7QUFDdkQsd0JBQXdCLFNBQUksSUFBSSxTQUFJO0FBQ3BDO0FBQ0EsaUJBQWlCLDZDQUE2QyxVQUFVLHNEQUFzRCxjQUFjO0FBQzVJLDBCQUEwQiw2QkFBNkIsb0JBQW9CLHVDQUF1QyxrQkFBa0I7QUFDcEk7QUFDQSx3QkFBd0IsU0FBSSxJQUFJLFNBQUk7QUFDcEM7QUFDQTtBQUNBLGlCQUFpQixvR0FBb0csY0FBYztBQUNuSSw4QkFBOEIsc0JBQXNCO0FBQ3BELDBCQUEwQixZQUFZLHNCQUFzQixxQ0FBcUMsMkNBQTJDLE1BQU07QUFDbEosNEJBQTRCLE1BQU0saUJBQWlCLFlBQVk7QUFDL0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCO0FBQ21FO0FBQ007QUFDakI7QUFDdEI7QUFDaUI7QUFDNEw7QUFDNUs7QUFDTTtBQUNNO0FBQ3BCO0FBQ1g7QUFDaEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0NBQWtDLDJGQUErQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUVBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0VBQWU7QUFDeEMsNEJBQTRCO0FBQzVCLDRCQUE0QixnRkFBNEI7QUFDeEQsd0dBQXdHLHVFQUFtQjtBQUMzSDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQUksQ0FBQyxnRkFBbUIsaUJBQWlCLHVGQUEwQiwyQ0FBMkMsc0ZBQXlCLDZDQUE2QyxtRkFBc0I7QUFDeE87QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLDRCQUE0QiwyQkFBMkIsRUFBRSxzRkFBK0I7QUFDeEYsMENBQTBDLG1FQUFNLFlBQVksbUZBQXNCLG9CQUFvQix3RkFBMkIseUZBQXlGLG1GQUFzQjtBQUNoUDtBQUNBO0FBQ0E7QUFDQSxvR0FBb0cscUVBQXFFO0FBQ3pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDJEQUFZLG1FQUFtRSwwQ0FBSTtBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsSUFBSSxpQ0FBaUM7QUFDMUQsb0JBQW9CLHFFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQVksNkVBQTZFLDBEQUFnQjtBQUMzSSw4QkFBOEIsMENBQUk7QUFDbEMsOEJBQThCLDBDQUFJO0FBQ2xDO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQVksK0VBQStFLDBDQUFJO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLDJGQUErQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtFQUFlO0FBQ3hDLDRCQUE0QjtBQUM1Qiw0QkFBNEIsZ0ZBQTRCO0FBQ3hELHdHQUF3Ryx1RUFBbUI7QUFDM0g7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUFJLGNBQWMsdUZBQTBCLDJDQUEyQyxzRkFBeUIsNkNBQTZDLG1GQUFzQixNQUFNLGdDQUFnQztBQUN2UCxxQkFBcUI7QUFDckIsNEJBQTRCLHdDQUF3QyxFQUFFLHNGQUErQjtBQUNyRztBQUNBO0FBQ0E7QUFDQSw4REFBOEQsVUFBVSxxREFBcUQsaUVBQUksWUFBWSxtRkFBc0Isb0JBQW9CLHdGQUEyQix5RkFBeUYsbUZBQXNCO0FBQ2pVO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxRUFBZTtBQUNuRDtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUIsSUFBSSxnQ0FBZ0MsR0FBRztBQUNoRTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjXFx0cmFuc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbnZhciBfX2FzeW5jVmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jVmFsdWVzKSB8fCBmdW5jdGlvbiAobykge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn07XG52YXIgX19hd2FpdCA9ICh0aGlzICYmIHRoaXMuX19hd2FpdCkgfHwgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7IH1cbnZhciBfX2FzeW5jRGVsZWdhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jRGVsZWdhdG9yKSB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBpLCBwO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn07XG52YXIgX19hc3luY0dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19hc3luY0dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufTtcbmltcG9ydCB7IHJlcXVlc3RIZWFkZXJXaXRoQ29tcHJlc3Npb24gfSBmcm9tIFwiLi9yZXF1ZXN0LWhlYWRlci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVSZXNwb25zZVdpdGhDb21wcmVzc2lvbiB9IGZyb20gXCIuL3ZhbGlkYXRlLXJlc3BvbnNlLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVRyYWlsZXIgfSBmcm9tIFwiLi92YWxpZGF0ZS10cmFpbGVyLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBwaXBlLCBjcmVhdGVBc3luY0l0ZXJhYmxlLCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZSwgdHJhbnNmb3JtSm9pbkVudmVsb3BlcywgcGlwZVRvLCB0cmFuc2Zvcm1TcGxpdEVudmVsb3BlLCB0cmFuc2Zvcm1EZWNvbXByZXNzRW52ZWxvcGUsIHRyYW5zZm9ybVBhcnNlRW52ZWxvcGUsIH0gZnJvbSBcIi4uL3Byb3RvY29sL2FzeW5jLWl0ZXJhYmxlLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRob2RVcmwgfSBmcm9tIFwiLi4vcHJvdG9jb2wvY3JlYXRlLW1ldGhvZC11cmwuanNcIjtcbmltcG9ydCB7IHJ1blVuYXJ5Q2FsbCwgcnVuU3RyZWFtaW5nQ2FsbCB9IGZyb20gXCIuLi9wcm90b2NvbC9ydW4tY2FsbC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlTWV0aG9kU2VyaWFsaXphdGlvbkxvb2t1cCB9IGZyb20gXCIuLi9wcm90b2NvbC9zZXJpYWxpemF0aW9uLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0VmFsdWVzIH0gZnJvbSBcIi4uL2NvbnRleHQtdmFsdWVzLmpzXCI7XG5pbXBvcnQgeyBoZWFkZXJHcnBjU3RhdHVzIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBUcmFuc3BvcnQgZm9yIHRoZSBnUlBDIHByb3RvY29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwb3J0KG9wdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIHVuYXJ5KHNlcnZpY2UsIG1ldGhvZCwgc2lnbmFsLCB0aW1lb3V0TXMsIGhlYWRlciwgbWVzc2FnZSwgY29udGV4dFZhbHVlcykge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphdGlvbiA9IGNyZWF0ZU1ldGhvZFNlcmlhbGl6YXRpb25Mb29rdXAobWV0aG9kLCBvcHQuYmluYXJ5T3B0aW9ucywgb3B0Lmpzb25PcHRpb25zLCBvcHQpO1xuICAgICAgICAgICAgdGltZW91dE1zID1cbiAgICAgICAgICAgICAgICB0aW1lb3V0TXMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5kZWZhdWx0VGltZW91dE1zXG4gICAgICAgICAgICAgICAgICAgIDogdGltZW91dE1zIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRpbWVvdXRNcztcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBydW5VbmFyeUNhbGwoe1xuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yczogb3B0LmludGVyY2VwdG9ycyxcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgICAgIHJlcToge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHVybDogY3JlYXRlTWV0aG9kVXJsKG9wdC5iYXNlVXJsLCBzZXJ2aWNlLCBtZXRob2QpLFxuICAgICAgICAgICAgICAgICAgICBpbml0OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXF1ZXN0SGVhZGVyV2l0aENvbXByZXNzaW9uKG9wdC51c2VCaW5hcnlGb3JtYXQsIHRpbWVvdXRNcywgaGVhZGVyLCBvcHQuYWNjZXB0Q29tcHJlc3Npb24sIG9wdC5zZW5kQ29tcHJlc3Npb24pLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmFsdWVzOiBjb250ZXh0VmFsdWVzICE9PSBudWxsICYmIGNvbnRleHRWYWx1ZXMgIT09IHZvaWQgMCA/IGNvbnRleHRWYWx1ZXMgOiBjcmVhdGVDb250ZXh0VmFsdWVzKCksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVSZXMgPSBhd2FpdCBvcHQuaHR0cENsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXEuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiByZXEuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGlwZShjcmVhdGVBc3luY0l0ZXJhYmxlKFtyZXEubWVzc2FnZV0pLCB0cmFuc2Zvcm1TZXJpYWxpemVFbnZlbG9wZShzZXJpYWxpemF0aW9uLmdldEkob3B0LnVzZUJpbmFyeUZvcm1hdCkpLCB0cmFuc2Zvcm1Db21wcmVzc0VudmVsb3BlKG9wdC5zZW5kQ29tcHJlc3Npb24sIG9wdC5jb21wcmVzc01pbkJ5dGVzKSwgdHJhbnNmb3JtSm9pbkVudmVsb3BlcygpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXByZXNzaW9uLCBoZWFkZXJFcnJvciB9ID0gdmFsaWRhdGVSZXNwb25zZVdpdGhDb21wcmVzc2lvbihvcHQuYWNjZXB0Q29tcHJlc3Npb24sIHVSZXMuc3RhdHVzLCB1UmVzLmhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBwaXBlVG8odVJlcy5ib2R5LCB0cmFuc2Zvcm1TcGxpdEVudmVsb3BlKG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1EZWNvbXByZXNzRW52ZWxvcGUoY29tcHJlc3Npb24gIT09IG51bGwgJiYgY29tcHJlc3Npb24gIT09IHZvaWQgMCA/IGNvbXByZXNzaW9uIDogbnVsbCwgb3B0LnJlYWRNYXhCeXRlcyksIHRyYW5zZm9ybVBhcnNlRW52ZWxvcGUoc2VyaWFsaXphdGlvbi5nZXRPKG9wdC51c2VCaW5hcnlGb3JtYXQpKSwgYXN5bmMgKGl0ZXJhYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIGVfMSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfMSA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xXzE7IGl0ZXJhYmxlXzFfMSA9IGF3YWl0IGl0ZXJhYmxlXzEubmV4dCgpLCBfYSA9IGl0ZXJhYmxlXzFfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInByb3RvY29sIGVycm9yOiByZWNlaXZlZCBleHRyYSBvdXRwdXQgbWVzc2FnZSBmb3IgdW5hcnkgbWV0aG9kXCIsIENvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8xLnJldHVybikpIGF3YWl0IF9iLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9LCB7IHByb3BhZ2F0ZURvd25TdHJlYW1FcnJvcjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVHJhaWxlcih1UmVzLnRyYWlsZXIsIHVSZXMuaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhaWxlcnMgb25seSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgaGVhZGVyRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IG1pc3Npbmcgb3V0cHV0IG1lc3NhZ2UgZm9yIHVuYXJ5IG1ldGhvZFwiLCB1UmVzLnRyYWlsZXIuaGFzKGhlYWRlckdycGNTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDb2RlLlVuaW1wbGVtZW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvZGUuVW5rbm93bik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwicHJvdG9jb2wgZXJyb3I6IHJlY2VpdmVkIG91dHB1dCBtZXNzYWdlIGZvciB1bmFyeSBtZXRob2Qgd2l0aCBlcnJvciBzdGF0dXNcIiwgQ29kZS5Vbmtub3duKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHVSZXMuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWlsZXI6IHVSZXMudHJhaWxlcixcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHN0cmVhbShzZXJ2aWNlLCBtZXRob2QsIHNpZ25hbCwgdGltZW91dE1zLCBoZWFkZXIsIGlucHV0LCBjb250ZXh0VmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemF0aW9uID0gY3JlYXRlTWV0aG9kU2VyaWFsaXphdGlvbkxvb2t1cChtZXRob2QsIG9wdC5iaW5hcnlPcHRpb25zLCBvcHQuanNvbk9wdGlvbnMsIG9wdCk7XG4gICAgICAgICAgICB0aW1lb3V0TXMgPVxuICAgICAgICAgICAgICAgIHRpbWVvdXRNcyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmRlZmF1bHRUaW1lb3V0TXNcbiAgICAgICAgICAgICAgICAgICAgOiB0aW1lb3V0TXMgPD0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGltZW91dE1zO1xuICAgICAgICAgICAgcmV0dXJuIHJ1blN0cmVhbWluZ0NhbGwoe1xuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yczogb3B0LmludGVyY2VwdG9ycyxcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgICAgIHJlcToge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjcmVhdGVNZXRob2RVcmwob3B0LmJhc2VVcmwsIHNlcnZpY2UsIG1ldGhvZCksXG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHJlcXVlc3RIZWFkZXJXaXRoQ29tcHJlc3Npb24ob3B0LnVzZUJpbmFyeUZvcm1hdCwgdGltZW91dE1zLCBoZWFkZXIsIG9wdC5hY2NlcHRDb21wcmVzc2lvbiwgb3B0LnNlbmRDb21wcmVzc2lvbiksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRWYWx1ZXM6IGNvbnRleHRWYWx1ZXMgIT09IG51bGwgJiYgY29udGV4dFZhbHVlcyAhPT0gdm9pZCAwID8gY29udGV4dFZhbHVlcyA6IGNyZWF0ZUNvbnRleHRWYWx1ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVSZXMgPSBhd2FpdCBvcHQuaHR0cENsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiByZXEuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiByZXEuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGlwZShyZXEubWVzc2FnZSwgdHJhbnNmb3JtU2VyaWFsaXplRW52ZWxvcGUoc2VyaWFsaXphdGlvbi5nZXRJKG9wdC51c2VCaW5hcnlGb3JtYXQpKSwgdHJhbnNmb3JtQ29tcHJlc3NFbnZlbG9wZShvcHQuc2VuZENvbXByZXNzaW9uLCBvcHQuY29tcHJlc3NNaW5CeXRlcyksIHRyYW5zZm9ybUpvaW5FbnZlbG9wZXMoKSwgeyBwcm9wYWdhdGVEb3duU3RyZWFtRXJyb3I6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXByZXNzaW9uLCBmb3VuZFN0YXR1cywgaGVhZGVyRXJyb3IgfSA9IHZhbGlkYXRlUmVzcG9uc2VXaXRoQ29tcHJlc3Npb24ob3B0LmFjY2VwdENvbXByZXNzaW9uLCB1UmVzLnN0YXR1cywgdVJlcy5oZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGhlYWRlckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVxKSwgeyBoZWFkZXI6IHVSZXMuaGVhZGVyLCB0cmFpbGVyOiB1UmVzLnRyYWlsZXIsIG1lc3NhZ2U6IHBpcGUodVJlcy5ib2R5LCB0cmFuc2Zvcm1TcGxpdEVudmVsb3BlKG9wdC5yZWFkTWF4Qnl0ZXMpLCB0cmFuc2Zvcm1EZWNvbXByZXNzRW52ZWxvcGUoY29tcHJlc3Npb24gIT09IG51bGwgJiYgY29tcHJlc3Npb24gIT09IHZvaWQgMCA/IGNvbXByZXNzaW9uIDogbnVsbCwgb3B0LnJlYWRNYXhCeXRlcyksIHRyYW5zZm9ybVBhcnNlRW52ZWxvcGUoc2VyaWFsaXphdGlvbi5nZXRPKG9wdC51c2VCaW5hcnlGb3JtYXQpKSwgZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBfX2F3YWl0KHlpZWxkKiBfX2FzeW5jRGVsZWdhdG9yKF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVHJhaWxlcih1UmVzLnRyYWlsZXIsIHVSZXMuaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyBwcm9wYWdhdGVEb3duU3RyZWFtRXJyb3I6IHRydWUgfSkgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/transport.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-response.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-response.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateResponse: () => (/* binding */ validateResponse),\n/* harmony export */   validateResponseWithCompression: () => (/* binding */ validateResponseWithCompression)\n/* harmony export */ });\n/* harmony import */ var _http_status_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/http-status.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _trailer_status_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./trailer-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _content_type_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content-type.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/content-type.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n/**\n * Validates response status and header for the gRPC protocol.\n * Throws a ConnectError if the header contains an error status,\n * or if the HTTP status indicates an error.\n *\n * Returns an object that indicates whether a gRPC status was found\n * in the response header. In this case, clients can not expect a\n * trailer.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateResponse(status, headers) {\n    if (status != 200) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`HTTP ${status}`, (0,_http_status_js__WEBPACK_IMPORTED_MODULE_1__.codeFromHttpStatus)(status), headers);\n    }\n    const mimeType = headers.get(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerContentType);\n    const parsedType = (0,_content_type_js__WEBPACK_IMPORTED_MODULE_3__.parseContentType)(mimeType);\n    if (parsedType == undefined) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`unsupported content type ${mimeType}`, _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unknown);\n    }\n    return {\n        foundStatus: headers.has(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerGrpcStatus),\n        headerError: (0,_trailer_status_js__WEBPACK_IMPORTED_MODULE_5__.findTrailerError)(headers),\n    };\n}\n/**\n * Validates response status and header for the gRPC protocol.\n * This function is identical to validateResponse(), but also verifies\n * that a given encoding header is acceptable.\n *\n * Returns an object with the response compression, and a boolean\n * indicating whether a gRPC status was found in the response header\n * (in this case, clients can not expect a trailer).\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateResponseWithCompression(acceptCompression, status, headers) {\n    const { foundStatus, headerError } = validateResponse(status, headers);\n    let compression;\n    const encoding = headers.get(_headers_js__WEBPACK_IMPORTED_MODULE_2__.headerEncoding);\n    if (encoding !== null && encoding.toLowerCase() !== \"identity\") {\n        compression = acceptCompression.find((c) => c.name === encoding);\n        if (!compression) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`unsupported response encoding \"${encoding}\"`, _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Internal, headers);\n        }\n    }\n    return {\n        foundStatus,\n        compression,\n        headerError,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy92YWxpZGF0ZS1yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3NEO0FBQ0g7QUFDSTtBQUNyQjtBQUNrRDtBQUMvQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQiwyREFBWSxTQUFTLE9BQU8sR0FBRyxtRUFBa0I7QUFDbkU7QUFDQSxpQ0FBaUMsMERBQWlCO0FBQ2xELHVCQUF1QixrRUFBZ0I7QUFDdkM7QUFDQSxrQkFBa0IsMkRBQVksNkJBQTZCLFNBQVMsR0FBRywwQ0FBSTtBQUMzRTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFnQjtBQUNqRCxxQkFBcUIsb0VBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDJCQUEyQjtBQUN2QztBQUNBLGlDQUFpQyx1REFBYztBQUMvQztBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVksbUNBQW1DLFNBQVMsSUFBSSwwQ0FBSTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2wtZ3JwY1xcdmFsaWRhdGUtcmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IGNvZGVGcm9tSHR0cFN0YXR1cyB9IGZyb20gXCIuL2h0dHAtc3RhdHVzLmpzXCI7XG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgZmluZFRyYWlsZXJFcnJvciB9IGZyb20gXCIuL3RyYWlsZXItc3RhdHVzLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IGhlYWRlckNvbnRlbnRUeXBlLCBoZWFkZXJFbmNvZGluZywgaGVhZGVyR3JwY1N0YXR1cywgfSBmcm9tIFwiLi9oZWFkZXJzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUNvbnRlbnRUeXBlIH0gZnJvbSBcIi4vY29udGVudC10eXBlLmpzXCI7XG4vKipcbiAqIFZhbGlkYXRlcyByZXNwb25zZSBzdGF0dXMgYW5kIGhlYWRlciBmb3IgdGhlIGdSUEMgcHJvdG9jb2wuXG4gKiBUaHJvd3MgYSBDb25uZWN0RXJyb3IgaWYgdGhlIGhlYWRlciBjb250YWlucyBhbiBlcnJvciBzdGF0dXMsXG4gKiBvciBpZiB0aGUgSFRUUCBzdGF0dXMgaW5kaWNhdGVzIGFuIGVycm9yLlxuICpcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBnUlBDIHN0YXR1cyB3YXMgZm91bmRcbiAqIGluIHRoZSByZXNwb25zZSBoZWFkZXIuIEluIHRoaXMgY2FzZSwgY2xpZW50cyBjYW4gbm90IGV4cGVjdCBhXG4gKiB0cmFpbGVyLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZXNwb25zZShzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICBpZiAoc3RhdHVzICE9IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBIVFRQICR7c3RhdHVzfWAsIGNvZGVGcm9tSHR0cFN0YXR1cyhzdGF0dXMpLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgY29uc3QgbWltZVR5cGUgPSBoZWFkZXJzLmdldChoZWFkZXJDb250ZW50VHlwZSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHBhcnNlQ29udGVudFR5cGUobWltZVR5cGUpO1xuICAgIGlmIChwYXJzZWRUeXBlID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGB1bnN1cHBvcnRlZCBjb250ZW50IHR5cGUgJHttaW1lVHlwZX1gLCBDb2RlLlVua25vd24pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmb3VuZFN0YXR1czogaGVhZGVycy5oYXMoaGVhZGVyR3JwY1N0YXR1cyksXG4gICAgICAgIGhlYWRlckVycm9yOiBmaW5kVHJhaWxlckVycm9yKGhlYWRlcnMpLFxuICAgIH07XG59XG4vKipcbiAqIFZhbGlkYXRlcyByZXNwb25zZSBzdGF0dXMgYW5kIGhlYWRlciBmb3IgdGhlIGdSUEMgcHJvdG9jb2wuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGlkZW50aWNhbCB0byB2YWxpZGF0ZVJlc3BvbnNlKCksIGJ1dCBhbHNvIHZlcmlmaWVzXG4gKiB0aGF0IGEgZ2l2ZW4gZW5jb2RpbmcgaGVhZGVyIGlzIGFjY2VwdGFibGUuXG4gKlxuICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcmVzcG9uc2UgY29tcHJlc3Npb24sIGFuZCBhIGJvb2xlYW5cbiAqIGluZGljYXRpbmcgd2hldGhlciBhIGdSUEMgc3RhdHVzIHdhcyBmb3VuZCBpbiB0aGUgcmVzcG9uc2UgaGVhZGVyXG4gKiAoaW4gdGhpcyBjYXNlLCBjbGllbnRzIGNhbiBub3QgZXhwZWN0IGEgdHJhaWxlcikuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlc3BvbnNlV2l0aENvbXByZXNzaW9uKGFjY2VwdENvbXByZXNzaW9uLCBzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICBjb25zdCB7IGZvdW5kU3RhdHVzLCBoZWFkZXJFcnJvciB9ID0gdmFsaWRhdGVSZXNwb25zZShzdGF0dXMsIGhlYWRlcnMpO1xuICAgIGxldCBjb21wcmVzc2lvbjtcbiAgICBjb25zdCBlbmNvZGluZyA9IGhlYWRlcnMuZ2V0KGhlYWRlckVuY29kaW5nKTtcbiAgICBpZiAoZW5jb2RpbmcgIT09IG51bGwgJiYgZW5jb2RpbmcudG9Mb3dlckNhc2UoKSAhPT0gXCJpZGVudGl0eVwiKSB7XG4gICAgICAgIGNvbXByZXNzaW9uID0gYWNjZXB0Q29tcHJlc3Npb24uZmluZCgoYykgPT4gYy5uYW1lID09PSBlbmNvZGluZyk7XG4gICAgICAgIGlmICghY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYHVuc3VwcG9ydGVkIHJlc3BvbnNlIGVuY29kaW5nIFwiJHtlbmNvZGluZ31cImAsIENvZGUuSW50ZXJuYWwsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZvdW5kU3RhdHVzLFxuICAgICAgICBjb21wcmVzc2lvbixcbiAgICAgICAgaGVhZGVyRXJyb3IsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-response.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-trailer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-trailer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateTrailer: () => (/* binding */ validateTrailer)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _headers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./headers.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/headers.js\");\n/* harmony import */ var _trailer_status_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trailer-status.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/trailer-status.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * Validates a trailer for the gRPC and the gRPC-web protocol.\n *\n * If the trailer contains an error status, a ConnectError is\n * thrown. It will include trailer and header in the error's\n * \"metadata\" property.\n *\n * Throws a ConnectError with code \"internal\" if neither the trailer\n * nor the header contain the Grpc-Status field.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateTrailer(trailer, header) {\n    const err = (0,_trailer_status_js__WEBPACK_IMPORTED_MODULE_0__.findTrailerError)(trailer);\n    if (err) {\n        header.forEach((value, key) => {\n            err.metadata.append(key, value);\n        });\n        throw err;\n    }\n    if (!header.has(_headers_js__WEBPACK_IMPORTED_MODULE_1__.headerGrpcStatus) && !trailer.has(_headers_js__WEBPACK_IMPORTED_MODULE_1__.headerGrpcStatus)) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_2__.ConnectError(\"protocol error: missing status\", _code_js__WEBPACK_IMPORTED_MODULE_3__.Code.Internal);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wtZ3JwYy92YWxpZGF0ZS10cmFpbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0M7QUFDaUI7QUFDSDtBQUNPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLG9FQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQix5REFBZ0Isa0JBQWtCLHlEQUFnQjtBQUN0RSxrQkFBa0IsMkRBQVksbUNBQW1DLDBDQUFJO0FBQ3JFO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbC1ncnBjXFx2YWxpZGF0ZS10cmFpbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBoZWFkZXJHcnBjU3RhdHVzIH0gZnJvbSBcIi4vaGVhZGVycy5qc1wiO1xuaW1wb3J0IHsgZmluZFRyYWlsZXJFcnJvciB9IGZyb20gXCIuL3RyYWlsZXItc3RhdHVzLmpzXCI7XG4vKipcbiAqIFZhbGlkYXRlcyBhIHRyYWlsZXIgZm9yIHRoZSBnUlBDIGFuZCB0aGUgZ1JQQy13ZWIgcHJvdG9jb2wuXG4gKlxuICogSWYgdGhlIHRyYWlsZXIgY29udGFpbnMgYW4gZXJyb3Igc3RhdHVzLCBhIENvbm5lY3RFcnJvciBpc1xuICogdGhyb3duLiBJdCB3aWxsIGluY2x1ZGUgdHJhaWxlciBhbmQgaGVhZGVyIGluIHRoZSBlcnJvcidzXG4gKiBcIm1ldGFkYXRhXCIgcHJvcGVydHkuXG4gKlxuICogVGhyb3dzIGEgQ29ubmVjdEVycm9yIHdpdGggY29kZSBcImludGVybmFsXCIgaWYgbmVpdGhlciB0aGUgdHJhaWxlclxuICogbm9yIHRoZSBoZWFkZXIgY29udGFpbiB0aGUgR3JwYy1TdGF0dXMgZmllbGQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRyYWlsZXIodHJhaWxlciwgaGVhZGVyKSB7XG4gICAgY29uc3QgZXJyID0gZmluZFRyYWlsZXJFcnJvcih0cmFpbGVyKTtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAgIGhlYWRlci5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBlcnIubWV0YWRhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICBpZiAoIWhlYWRlci5oYXMoaGVhZGVyR3JwY1N0YXR1cykgJiYgIXRyYWlsZXIuaGFzKGhlYWRlckdycGNTdGF0dXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogbWlzc2luZyBzdGF0dXNcIiwgQ29kZS5JbnRlcm5hbCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/validate-trailer.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAsyncIterable: () => (/* binding */ createAsyncIterable),\n/* harmony export */   createWritableIterable: () => (/* binding */ createWritableIterable),\n/* harmony export */   makeIterableAbortable: () => (/* binding */ makeIterableAbortable),\n/* harmony export */   pipe: () => (/* binding */ pipe),\n/* harmony export */   pipeTo: () => (/* binding */ pipeTo),\n/* harmony export */   readAllBytes: () => (/* binding */ readAllBytes),\n/* harmony export */   sinkAll: () => (/* binding */ sinkAll),\n/* harmony export */   sinkAllBytes: () => (/* binding */ sinkAllBytes),\n/* harmony export */   transformAppend: () => (/* binding */ transformAppend),\n/* harmony export */   transformCatch: () => (/* binding */ transformCatch),\n/* harmony export */   transformCatchFinally: () => (/* binding */ transformCatchFinally),\n/* harmony export */   transformCompressEnvelope: () => (/* binding */ transformCompressEnvelope),\n/* harmony export */   transformDecompressEnvelope: () => (/* binding */ transformDecompressEnvelope),\n/* harmony export */   transformJoinEnvelopes: () => (/* binding */ transformJoinEnvelopes),\n/* harmony export */   transformParseEnvelope: () => (/* binding */ transformParseEnvelope),\n/* harmony export */   transformPrepend: () => (/* binding */ transformPrepend),\n/* harmony export */   transformReadAllBytes: () => (/* binding */ transformReadAllBytes),\n/* harmony export */   transformSerializeEnvelope: () => (/* binding */ transformSerializeEnvelope),\n/* harmony export */   transformSplitEnvelope: () => (/* binding */ transformSplitEnvelope),\n/* harmony export */   untilFirst: () => (/* binding */ untilFirst)\n/* harmony export */ });\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _envelope_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./envelope.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/envelope.js\");\n/* harmony import */ var _limit_io_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./limit-io.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nvar __asyncDelegator = (undefined && undefined.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\n\n\n\n\nfunction pipeTo(source, ...rest) {\n    const [transforms, sink, opt] = pickTransformsAndSink(rest);\n    let iterable = source;\n    let abortable;\n    if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n        iterable = abortable = makeIterableAbortable(iterable);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    iterable = pipe(iterable, ...transforms, { propagateDownStreamError: false });\n    return sink(iterable).catch((reason) => {\n        if (abortable) {\n            return abortable.abort(reason).then(() => Promise.reject(reason));\n        }\n        return Promise.reject(reason);\n    });\n}\n// pick transforms, the sink, and options from the pipeTo() rest parameter\nfunction pickTransformsAndSink(rest) {\n    let opt;\n    if (typeof rest[rest.length - 1] != \"function\") {\n        opt = rest.pop();\n    }\n    const sink = rest.pop();\n    return [rest, sink, opt];\n}\n/**\n * Creates an AsyncIterableSink that concatenates all elements from the input.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction sinkAll() {\n    return async function (iterable) {\n        var _a, e_1, _b, _c;\n        const all = [];\n        try {\n            for (var _d = true, iterable_1 = __asyncValues(iterable), iterable_1_1; iterable_1_1 = await iterable_1.next(), _a = iterable_1_1.done, !_a; _d = true) {\n                _c = iterable_1_1.value;\n                _d = false;\n                const chunk = _c;\n                all.push(chunk);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = iterable_1.return)) await _b.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return all;\n    };\n}\n/**\n * Creates an AsyncIterableSink that concatenates all chunks from the input into\n * a single Uint8Array.\n *\n * The iterable raises an error if the more than readMaxBytes are read.\n *\n * An optional length hint can be provided to optimize allocation and validation.\n * If more or less bytes are present in the source that the length hint indicates,\n * and error is raised.\n * If the length hint is larger than readMaxBytes, an error is raised.\n * If the length hint is not a positive integer, it is ignored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction sinkAllBytes(readMaxBytes, lengthHint) {\n    return async function (iterable) {\n        return await readAllBytes(iterable, readMaxBytes, lengthHint);\n    };\n}\nfunction pipe(source, ...rest) {\n    return __asyncGenerator(this, arguments, function* pipe_1() {\n        var _a;\n        const [transforms, opt] = pickTransforms(rest);\n        let abortable;\n        const sourceIt = source[Symbol.asyncIterator]();\n        const cachedSource = {\n            [Symbol.asyncIterator]() {\n                return sourceIt;\n            },\n        };\n        let iterable = cachedSource;\n        if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n            iterable = abortable = makeIterableAbortable(iterable);\n        }\n        for (const t of transforms) {\n            iterable = t(iterable);\n        }\n        const it = iterable[Symbol.asyncIterator]();\n        try {\n            for (;;) {\n                const r = yield __await(it.next());\n                if (r.done === true) {\n                    break;\n                }\n                if (!abortable) {\n                    yield yield __await(r.value);\n                    continue;\n                }\n                try {\n                    yield yield __await(r.value);\n                }\n                catch (e) {\n                    yield __await(abortable.abort(e)); // propagate downstream error to the source\n                    throw e;\n                }\n            }\n        }\n        finally {\n            if ((opt === null || opt === void 0 ? void 0 : opt.propagateDownStreamError) === true) {\n                // Call return on the source iterable to indicate\n                // that we will no longer consume it and it should\n                // cleanup any allocated resources.\n                (_a = sourceIt.return) === null || _a === void 0 ? void 0 : _a.call(sourceIt).catch(() => {\n                    // return returns a promise, which we don't care about.\n                    //\n                    // Uncaught promises are thrown at sometime/somewhere by the event loop,\n                    // this is to ensure error is caught and ignored.\n                });\n            }\n        }\n    });\n}\nfunction pickTransforms(rest) {\n    let opt;\n    if (typeof rest[rest.length - 1] != \"function\") {\n        opt = rest.pop();\n    }\n    return [rest, opt];\n}\n/**\n * Creates an AsyncIterableTransform that catches any error from the input, and\n * passes it to the given catchError function.\n *\n * The catchError function may return a final value.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformCatch(catchError) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            // we deliberate avoid a for-await loop because we only want to catch upstream\n            // errors, not downstream errors (yield).\n            const it = iterable[Symbol.asyncIterator]();\n            for (;;) {\n                let r;\n                try {\n                    r = yield __await(it.next());\n                }\n                catch (e) {\n                    const caught = yield __await(catchError(e));\n                    if (caught !== undefined) {\n                        yield yield __await(caught);\n                    }\n                    break;\n                }\n                if (r.done === true) {\n                    break;\n                }\n                yield yield __await(r.value);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that catches any error from the input, and\n * passes it to the given function. Unlike transformCatch(), the given function\n * is also called when no error is raised.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformCatchFinally(catchFinally) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            // we deliberate avoid a for-await loop because we only want to catch upstream\n            // errors, not downstream errors (yield).\n            let err;\n            const it = iterable[Symbol.asyncIterator]();\n            for (;;) {\n                let r;\n                try {\n                    r = yield __await(it.next());\n                }\n                catch (e) {\n                    err = e;\n                    break;\n                }\n                if (r.done === true) {\n                    break;\n                }\n                yield yield __await(r.value);\n            }\n            const caught = yield __await(catchFinally(err));\n            if (caught !== undefined) {\n                yield yield __await(caught);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that appends a value.\n *\n * The element to append is provided by a function. If the function returns\n * undefined, no element is appended.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformAppend(provide) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_2, _b, _c;\n            try {\n                for (var _d = true, iterable_2 = __asyncValues(iterable), iterable_2_1; iterable_2_1 = yield __await(iterable_2.next()), _a = iterable_2_1.done, !_a; _d = true) {\n                    _c = iterable_2_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    yield yield __await(chunk);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_2.return)) yield __await(_b.call(iterable_2));\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            const append = yield __await(provide());\n            if (append !== undefined) {\n                yield yield __await(append);\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that prepends an element.\n *\n * The element to prepend is provided by a function. If the function returns\n * undefined, no element is appended.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformPrepend(provide) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_3, _b, _c;\n            const prepend = yield __await(provide());\n            if (prepend !== undefined) {\n                yield yield __await(prepend);\n            }\n            try {\n                for (var _d = true, iterable_3 = __asyncValues(iterable), iterable_3_1; iterable_3_1 = yield __await(iterable_3.next()), _a = iterable_3_1.done, !_a; _d = true) {\n                    _c = iterable_3_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    yield yield __await(chunk);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_3.return)) yield __await(_b.call(iterable_3));\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that reads all bytes from the input, and\n * concatenates them to a single Uint8Array.\n *\n * The iterable raises an error if the more than readMaxBytes are read.\n *\n * An optional length hint can be provided to optimize allocation and validation.\n * If more or less bytes are present in the source that the length hint indicates,\n * and error is raised.\n * If the length hint is larger than readMaxBytes, an error is raised.\n * If the length hint is not a positive integer, it is ignored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformReadAllBytes(readMaxBytes, lengthHint) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            yield yield __await(yield __await(readAllBytes(iterable, readMaxBytes, lengthHint)));\n        });\n    };\n}\nfunction transformSerializeEnvelope(serialization, endStreamFlag, endSerialization) {\n    if (endStreamFlag === undefined || endSerialization === undefined) {\n        return function (iterable) {\n            return __asyncGenerator(this, arguments, function* () {\n                var _a, e_4, _b, _c;\n                try {\n                    for (var _d = true, iterable_4 = __asyncValues(iterable), iterable_4_1; iterable_4_1 = yield __await(iterable_4.next()), _a = iterable_4_1.done, !_a; _d = true) {\n                        _c = iterable_4_1.value;\n                        _d = false;\n                        const chunk = _c;\n                        const data = serialization.serialize(chunk);\n                        yield yield __await({ flags: 0, data });\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (!_d && !_a && (_b = iterable_4.return)) yield __await(_b.call(iterable_4));\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            });\n        };\n    }\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_5, _b, _c;\n            try {\n                for (var _d = true, iterable_5 = __asyncValues(iterable), iterable_5_1; iterable_5_1 = yield __await(iterable_5.next()), _a = iterable_5_1.done, !_a; _d = true) {\n                    _c = iterable_5_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    let data;\n                    let flags = 0;\n                    if (chunk.end) {\n                        flags = flags | endStreamFlag;\n                        data = endSerialization.serialize(chunk.value);\n                    }\n                    else {\n                        data = serialization.serialize(chunk.value);\n                    }\n                    yield yield __await({ flags, data });\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_5.return)) yield __await(_b.call(iterable_5));\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        });\n    };\n}\nfunction transformParseEnvelope(serialization, endStreamFlag, endSerialization) {\n    // code path always yields ParsedEnvelopedMessage<T, E>\n    if (endSerialization && endStreamFlag !== undefined) {\n        return function (iterable) {\n            return __asyncGenerator(this, arguments, function* () {\n                var _a, e_6, _b, _c;\n                try {\n                    for (var _d = true, iterable_6 = __asyncValues(iterable), iterable_6_1; iterable_6_1 = yield __await(iterable_6.next()), _a = iterable_6_1.done, !_a; _d = true) {\n                        _c = iterable_6_1.value;\n                        _d = false;\n                        const { flags, data } = _c;\n                        if ((flags & endStreamFlag) === endStreamFlag) {\n                            yield yield __await({ value: endSerialization.parse(data), end: true });\n                        }\n                        else {\n                            yield yield __await({ value: serialization.parse(data), end: false });\n                        }\n                    }\n                }\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                finally {\n                    try {\n                        if (!_d && !_a && (_b = iterable_6.return)) yield __await(_b.call(iterable_6));\n                    }\n                    finally { if (e_6) throw e_6.error; }\n                }\n            });\n        };\n    }\n    // code path always yields T\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_7, _b, _c;\n            try {\n                for (var _d = true, iterable_7 = __asyncValues(iterable), iterable_7_1; iterable_7_1 = yield __await(iterable_7.next()), _a = iterable_7_1.done, !_a; _d = true) {\n                    _c = iterable_7_1.value;\n                    _d = false;\n                    const { flags, data } = _c;\n                    if (endStreamFlag !== undefined &&\n                        (flags & endStreamFlag) === endStreamFlag) {\n                        if (endSerialization === null) {\n                            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"unexpected end flag\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument);\n                        }\n                        // skips end-of-stream envelope\n                        continue;\n                    }\n                    yield yield __await(serialization.parse(data));\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_7.return)) yield __await(_b.call(iterable_7));\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that takes enveloped messages as a source,\n * and compresses them if they are larger than compressMinBytes.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformCompressEnvelope(compression, compressMinBytes) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_8, _b, _c;\n            try {\n                for (var _d = true, iterable_8 = __asyncValues(iterable), iterable_8_1; iterable_8_1 = yield __await(iterable_8.next()), _a = iterable_8_1.done, !_a; _d = true) {\n                    _c = iterable_8_1.value;\n                    _d = false;\n                    const env = _c;\n                    yield yield __await(yield __await((0,_envelope_js__WEBPACK_IMPORTED_MODULE_2__.envelopeCompress)(env, compression, compressMinBytes)));\n                }\n            }\n            catch (e_8_1) { e_8 = { error: e_8_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_8.return)) yield __await(_b.call(iterable_8));\n                }\n                finally { if (e_8) throw e_8.error; }\n            }\n        });\n    };\n}\n/**\n * Creates an AsyncIterableTransform that takes enveloped messages as a source,\n * and decompresses them using the given compression.\n *\n * The iterable raises an error if the decompressed payload of an enveloped\n * message is larger than readMaxBytes, or if no compression is provided.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformDecompressEnvelope(compression, readMaxBytes) {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_9, _b, _c;\n            try {\n                for (var _d = true, iterable_9 = __asyncValues(iterable), iterable_9_1; iterable_9_1 = yield __await(iterable_9.next()), _a = iterable_9_1.done, !_a; _d = true) {\n                    _c = iterable_9_1.value;\n                    _d = false;\n                    const env = _c;\n                    yield yield __await(yield __await((0,_envelope_js__WEBPACK_IMPORTED_MODULE_2__.envelopeDecompress)(env, compression, readMaxBytes)));\n                }\n            }\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_9.return)) yield __await(_b.call(iterable_9));\n                }\n                finally { if (e_9) throw e_9.error; }\n            }\n        });\n    };\n}\n/**\n * Create an AsyncIterableTransform that takes enveloped messages as a source,\n * and joins them into a stream of raw bytes.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformJoinEnvelopes() {\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_10, _b, _c;\n            try {\n                for (var _d = true, iterable_10 = __asyncValues(iterable), iterable_10_1; iterable_10_1 = yield __await(iterable_10.next()), _a = iterable_10_1.done, !_a; _d = true) {\n                    _c = iterable_10_1.value;\n                    _d = false;\n                    const { flags, data } = _c;\n                    yield yield __await((0,_envelope_js__WEBPACK_IMPORTED_MODULE_2__.encodeEnvelope)(flags, data));\n                }\n            }\n            catch (e_10_1) { e_10 = { error: e_10_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_10.return)) yield __await(_b.call(iterable_10));\n                }\n                finally { if (e_10) throw e_10.error; }\n            }\n        });\n    };\n}\n/**\n * Create an AsyncIterableTransform that takes raw bytes as a source, and splits\n * them into enveloped messages.\n *\n * The iterable raises an error\n * - if the payload of an enveloped message is larger than readMaxBytes,\n * - if the stream ended before an enveloped message fully arrived,\n * - or if the stream ended with extraneous data.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformSplitEnvelope(readMaxBytes) {\n    // append chunk to buffer, returning updated buffer\n    function append(buffer, chunk) {\n        const n = new Uint8Array(buffer.byteLength + chunk.byteLength);\n        n.set(buffer);\n        n.set(chunk, buffer.length);\n        return n;\n    }\n    // tuple 0: envelope, or undefined if incomplete\n    // tuple 1: remainder of the buffer\n    function shiftEnvelope(buffer, header) {\n        if (buffer.byteLength < 5 + header.length) {\n            return [undefined, buffer];\n        }\n        return [\n            { flags: header.flags, data: buffer.subarray(5, 5 + header.length) },\n            buffer.subarray(5 + header.length),\n        ];\n    }\n    // undefined: header is incomplete\n    function peekHeader(buffer) {\n        if (buffer.byteLength < 5) {\n            return undefined;\n        }\n        const view = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n        const length = view.getUint32(1); // 4 bytes message length\n        const flags = view.getUint8(0); // first byte is flags\n        return { length, flags };\n    }\n    return function (iterable) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_11, _b, _c;\n            let buffer = new Uint8Array(0);\n            try {\n                for (var _d = true, iterable_11 = __asyncValues(iterable), iterable_11_1; iterable_11_1 = yield __await(iterable_11.next()), _a = iterable_11_1.done, !_a; _d = true) {\n                    _c = iterable_11_1.value;\n                    _d = false;\n                    const chunk = _c;\n                    buffer = append(buffer, chunk);\n                    for (;;) {\n                        const header = peekHeader(buffer);\n                        if (!header) {\n                            break;\n                        }\n                        (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_3__.assertReadMaxBytes)(readMaxBytes, header.length, true);\n                        let env;\n                        [env, buffer] = shiftEnvelope(buffer, header);\n                        if (!env) {\n                            break;\n                        }\n                        yield yield __await(env);\n                    }\n                }\n            }\n            catch (e_11_1) { e_11 = { error: e_11_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = iterable_11.return)) yield __await(_b.call(iterable_11));\n                }\n                finally { if (e_11) throw e_11.error; }\n            }\n            if (buffer.byteLength > 0) {\n                const header = peekHeader(buffer);\n                let message = \"protocol error: incomplete envelope\";\n                if (header) {\n                    message = `protocol error: promised ${header.length} bytes in enveloped message, got ${buffer.byteLength - 5} bytes`;\n                }\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(message, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument);\n            }\n        });\n    };\n}\n/**\n * Reads all bytes from the source, and concatenates them to a single Uint8Array.\n *\n * Raises an error if:\n * - more than readMaxBytes are read\n * - lengthHint is a positive integer, but larger than readMaxBytes\n * - lengthHint is a positive integer, and the source contains more or less bytes\n *   than promised\n *\n * @private Internal code, does not follow semantic versioning.\n */\nasync function readAllBytes(iterable, readMaxBytes, lengthHint) {\n    var _a, e_12, _b, _c, _d, e_13, _e, _f;\n    const [ok, hint] = parseLengthHint(lengthHint);\n    if (ok) {\n        if (hint > readMaxBytes) {\n            (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_3__.assertReadMaxBytes)(readMaxBytes, hint, true);\n        }\n        const buffer = new Uint8Array(hint);\n        let offset = 0;\n        try {\n            for (var _g = true, iterable_12 = __asyncValues(iterable), iterable_12_1; iterable_12_1 = await iterable_12.next(), _a = iterable_12_1.done, !_a; _g = true) {\n                _c = iterable_12_1.value;\n                _g = false;\n                const chunk = _c;\n                if (offset + chunk.byteLength > hint) {\n                    throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`protocol error: promised ${hint} bytes, received ${offset + chunk.byteLength}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument);\n                }\n                buffer.set(chunk, offset);\n                offset += chunk.byteLength;\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (!_g && !_a && (_b = iterable_12.return)) await _b.call(iterable_12);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n        if (offset < hint) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`protocol error: promised ${hint} bytes, received ${offset}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.InvalidArgument);\n        }\n        return buffer;\n    }\n    const chunks = [];\n    let count = 0;\n    try {\n        for (var _h = true, iterable_13 = __asyncValues(iterable), iterable_13_1; iterable_13_1 = await iterable_13.next(), _d = iterable_13_1.done, !_d; _h = true) {\n            _f = iterable_13_1.value;\n            _h = false;\n            const chunk = _f;\n            count += chunk.byteLength;\n            (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_3__.assertReadMaxBytes)(readMaxBytes, count);\n            chunks.push(chunk);\n        }\n    }\n    catch (e_13_1) { e_13 = { error: e_13_1 }; }\n    finally {\n        try {\n            if (!_h && !_d && (_e = iterable_13.return)) await _e.call(iterable_13);\n        }\n        finally { if (e_13) throw e_13.error; }\n    }\n    const all = new Uint8Array(count);\n    let offset = 0;\n    for (let chunk = chunks.shift(); chunk; chunk = chunks.shift()) {\n        all.set(chunk, offset);\n        offset += chunk.byteLength;\n    }\n    return all;\n}\n// parse the lengthHint argument of readAllBytes()\nfunction parseLengthHint(lengthHint) {\n    if (lengthHint === undefined || lengthHint === null) {\n        return [false, 0];\n    }\n    const n = typeof lengthHint == \"string\" ? parseInt(lengthHint, 10) : lengthHint;\n    if (!Number.isSafeInteger(n) || n < 0) {\n        return [false, n];\n    }\n    return [true, n];\n}\n/**\n * Wait for the first element of an iterable without modifying the iterable.\n * This consumes the first element, but pushes it back on the stack.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nasync function untilFirst(iterable) {\n    const it = iterable[Symbol.asyncIterator]();\n    let first = await it.next();\n    return {\n        [Symbol.asyncIterator]() {\n            const w = {\n                async next() {\n                    if (first !== null) {\n                        const n = first;\n                        first = null;\n                        return n;\n                    }\n                    return await it.next();\n                },\n            };\n            if (it.throw !== undefined) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- can't handle mutated object sensibly\n                w.throw = (e) => it.throw(e);\n            }\n            if (it.return !== undefined) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-explicit-any -- can't handle mutated object sensibly\n                w.return = (value) => it.return(value);\n            }\n            return w;\n        },\n    };\n}\n/**\n * Wrap the given iterable and return an iterable with an abort() method.\n *\n * This function exists purely for convenience. Where one would typically have\n * to access the iterator directly, advance through all elements, and call\n * AsyncIterator.throw() to notify the upstream iterable, this function allows\n * to use convenient for-await loops and still notify the upstream iterable:\n *\n * ```ts\n * const abortable = makeIterableAbortable(iterable);\n * for await (const ele of abortable) {\n *   await abortable.abort(\"ERR\");\n * }\n * ```\n * There are a couple of limitations of this function:\n * - the given async iterable must implement throw\n * - the async iterable cannot be re-use\n * - if source catches errors and yields values for them, they are ignored, and\n *   the source may still dangle\n *\n * There are four possible ways an async function* can handle yield errors:\n * 1. don't catch errors at all - Abortable.abort() will resolve \"rethrown\"\n * 2. catch errors and rethrow - Abortable.abort() will resolve \"rethrown\"\n * 3. catch errors and return - Abortable.abort() will resolve \"completed\"\n * 4. catch errors and yield a value - Abortable.abort() will resolve \"caught\"\n *\n * Note that catching errors and yielding a value is problematic, and it should\n * be documented that this may leave the source in a dangling state.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction makeIterableAbortable(iterable) {\n    const innerCandidate = iterable[Symbol.asyncIterator]();\n    if (innerCandidate.throw === undefined) {\n        throw new Error(\"AsyncIterable does not implement throw\");\n    }\n    const inner = innerCandidate;\n    let aborted;\n    let resultPromise;\n    let it = {\n        next() {\n            resultPromise = inner.next().finally(() => {\n                resultPromise = undefined;\n            });\n            return resultPromise;\n        },\n        throw(e) {\n            return inner.throw(e);\n        },\n    };\n    if (innerCandidate.return !== undefined) {\n        it = Object.assign(Object.assign({}, it), { return(value) {\n                return inner.return(value);\n            } });\n    }\n    let used = false;\n    return {\n        abort(reason) {\n            if (aborted) {\n                return aborted.state;\n            }\n            const f = () => {\n                return inner.throw(reason).then((r) => (r.done === true ? \"completed\" : \"caught\"), () => \"rethrown\");\n            };\n            if (resultPromise) {\n                aborted = { reason, state: resultPromise.then(f, f) };\n                return aborted.state;\n            }\n            aborted = { reason, state: f() };\n            return aborted.state;\n        },\n        [Symbol.asyncIterator]() {\n            if (used) {\n                throw new Error(\"AsyncIterable cannot be re-used\");\n            }\n            used = true;\n            return it;\n        },\n    };\n}\n/**\n * Create a new WritableIterable.\n */\nfunction createWritableIterable() {\n    // We start with two queues to capture the read and write attempts.\n    //\n    // The writes and reads each check of their counterpart is\n    // already available and either interact/add themselves to the queue.\n    const readQueue = [];\n    const writeQueue = [];\n    let err = undefined;\n    let nextResolve;\n    let nextReject;\n    let nextPromise = new Promise((resolve, reject) => {\n        nextResolve = resolve;\n        nextReject = reject;\n    });\n    let closed = false;\n    // drain the readQueue in case of error/writer is closed by sending a\n    // done result.\n    function drain() {\n        for (const next of readQueue.splice(0, readQueue.length)) {\n            next({ done: true, value: undefined });\n        }\n    }\n    return {\n        close() {\n            closed = true;\n            drain();\n        },\n        async write(payload) {\n            if (closed) {\n                throw err !== null && err !== void 0 ? err : new Error(\"cannot write, WritableIterable already closed\");\n            }\n            const read = readQueue.shift();\n            if (read === undefined) {\n                // We didn't find a pending read so we add the payload to the write queue.\n                writeQueue.push(payload);\n            }\n            else {\n                // We found a pending read so we respond with the payload.\n                read({ done: false, value: payload });\n                if (readQueue.length > 0) {\n                    // If there are more in the read queue we can mark the write as complete.\n                    // as the error reporting is not guaranteed to be sequential and therefore cannot\n                    // to linked to a specific write.\n                    return;\n                }\n            }\n            // We await the next call for as many times as there are items in the queue + 1\n            //\n            // If there are no items in the write queue that means write happened and we just have\n            // to wait for one more call likewise if we are the nth write in the queue we\n            // have to wait for n writes to complete and one more.\n            const limit = writeQueue.length + 1;\n            for (let i = 0; i < limit; i++) {\n                await nextPromise;\n            }\n        },\n        [Symbol.asyncIterator]() {\n            return {\n                next() {\n                    // Resolve the nextPromise to indicate\n                    // pending writes that a read attempt has been made\n                    // after their write.\n                    //\n                    // We also need to reset the promise for future writes.\n                    nextResolve();\n                    nextPromise = new Promise((resolve, reject) => {\n                        nextResolve = resolve;\n                        nextReject = reject;\n                    });\n                    const write = writeQueue.shift();\n                    if (write !== undefined) {\n                        // We found a pending write so response with the payload.\n                        return Promise.resolve({ done: false, value: write });\n                    }\n                    if (closed) {\n                        return Promise.resolve({ done: true, value: undefined });\n                    }\n                    // We return a promise immediately that is either resolved/rejected\n                    // as writes happen.\n                    let readResolve;\n                    const readPromise = new Promise((resolve) => (readResolve = resolve));\n                    readQueue.push(readResolve); // eslint-disable-line @typescript-eslint/no-non-null-assertion\n                    return readPromise;\n                },\n                throw(throwErr) {\n                    err = throwErr;\n                    closed = true;\n                    writeQueue.splice(0, writeQueue.length);\n                    nextPromise.catch(() => {\n                        // To make sure that the nextPromise is always resolved.\n                    });\n                    // This will reject all pending writes.\n                    nextReject(err);\n                    drain();\n                    return Promise.resolve({ done: true, value: undefined });\n                },\n                return() {\n                    closed = true;\n                    writeQueue.splice(0, writeQueue.length);\n                    // Resolve once for the write awaiting confirmation.\n                    nextResolve();\n                    // Reject all future writes.\n                    nextPromise = Promise.reject(new Error(\"cannot write, consumer called return\"));\n                    nextPromise.catch(() => {\n                        // To make sure that the nextPromise is always resolved.\n                    });\n                    drain();\n                    return Promise.resolve({ done: true, value: undefined });\n                },\n            };\n        },\n    };\n}\n/**\n * Create an asynchronous iterable from an array.\n *\n * @private Internal code, does not follow semantic versioning.\n */\n// eslint-disable-next-line @typescript-eslint/require-await\nfunction createAsyncIterable(items) {\n    return __asyncGenerator(this, arguments, function* createAsyncIterable_1() {\n        yield __await(yield* __asyncDelegator(__asyncValues(items)));\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvYXN5bmMtaXRlcmFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBSSxJQUFJLFNBQUk7QUFDakM7QUFDQTtBQUNBLDJHQUEyRyx1RkFBdUYsY0FBYztBQUNoTix1QkFBdUIsOEJBQThCLGdEQUFnRCx3REFBd0Q7QUFDN0osNkNBQTZDLHNDQUFzQyxVQUFVLG1CQUFtQixJQUFJO0FBQ3BIO0FBQ0EsZUFBZSxTQUFJLElBQUksU0FBSSw0QkFBNEI7QUFDdkQsd0JBQXdCLFNBQUksSUFBSSxTQUFJO0FBQ3BDO0FBQ0E7QUFDQSxpQkFBaUIsb0dBQW9HLGNBQWM7QUFDbkksOEJBQThCLHNCQUFzQjtBQUNwRCwwQkFBMEIsWUFBWSxzQkFBc0IscUNBQXFDLDJDQUEyQyxNQUFNO0FBQ2xKLDRCQUE0QixNQUFNLGlCQUFpQixZQUFZO0FBQy9ELHVCQUF1QjtBQUN2Qiw4QkFBOEI7QUFDOUIsNkJBQTZCO0FBQzdCLDRCQUE0QjtBQUM1QjtBQUNBLHdCQUF3QixTQUFJLElBQUksU0FBSTtBQUNwQztBQUNBLGlCQUFpQiw2Q0FBNkMsVUFBVSxzREFBc0QsY0FBYztBQUM1SSwwQkFBMEIsNkJBQTZCLG9CQUFvQix1Q0FBdUMsa0JBQWtCO0FBQ3BJO0FBQ2tDO0FBQ2lCO0FBQ21DO0FBQ25DO0FBQzVDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxpQ0FBaUM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHFFQUFxRTtBQUN6SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsOEVBQThFO0FBQ3RLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsOEVBQThFO0FBQ3RLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0Riw4RUFBOEU7QUFDMUs7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0E7QUFDQSxnQ0FBZ0MsUUFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsOEVBQThFO0FBQ3RLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxhQUFhO0FBQ3ZEO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsOEVBQThFO0FBQzFLO0FBQ0E7QUFDQSxnQ0FBZ0MsY0FBYztBQUM5QztBQUNBLGtEQUFrRCxnREFBZ0Q7QUFDbEc7QUFDQTtBQUNBLGtEQUFrRCw4Q0FBOEM7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsOEVBQThFO0FBQ3RLO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMkRBQVksd0JBQXdCLDBDQUFJO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsOEVBQThFO0FBQ3RLO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw4REFBZ0I7QUFDdEU7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLDhFQUE4RTtBQUN0SztBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0VBQWtCO0FBQ3hFO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixpRkFBaUY7QUFDM0s7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDLHdDQUF3Qyw0REFBYztBQUN0RDtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtFQUFrRTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsd0NBQXdDO0FBQ3hDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsaUZBQWlGO0FBQzNLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdFQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsU0FBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGVBQWUsa0NBQWtDLHVCQUF1QjtBQUNsSTtBQUNBLDBCQUEwQiwyREFBWSxVQUFVLDBDQUFJO0FBQ3BEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLHdFQUF3RTtBQUM5SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwyREFBWSw2QkFBNkIsTUFBTSxrQkFBa0IsMEJBQTBCLEdBQUcsMENBQUk7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixTQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVksNkJBQTZCLE1BQU0sa0JBQWtCLE9BQU8sR0FBRywwQ0FBSTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Ysd0VBQXdFO0FBQzFKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLE9BQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFdBQVc7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDJCQUEyQjtBQUM1RTtBQUNBO0FBQ0EsaURBQWlELDhCQUE4QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOEJBQThCO0FBQzNFLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSw2Q0FBNkMsOEJBQThCO0FBQzNFLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXGFzeW5jLWl0ZXJhYmxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG52YXIgX19hc3luY1ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX19hc3luY1ZhbHVlcykgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59O1xudmFyIF9fYXdhaXQgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXQpIHx8IGZ1bmN0aW9uICh2KSB7IHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpOyB9XG52YXIgX19hc3luY0dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19hc3luY0dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufTtcbnZhciBfX2FzeW5jRGVsZWdhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jRGVsZWdhdG9yKSB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBpLCBwO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn07XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVFbnZlbG9wZSwgZW52ZWxvcGVDb21wcmVzcywgZW52ZWxvcGVEZWNvbXByZXNzLCB9IGZyb20gXCIuL2VudmVsb3BlLmpzXCI7XG5pbXBvcnQgeyBhc3NlcnRSZWFkTWF4Qnl0ZXMgfSBmcm9tIFwiLi9saW1pdC1pby5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGVUbyhzb3VyY2UsIC4uLnJlc3QpIHtcbiAgICBjb25zdCBbdHJhbnNmb3Jtcywgc2luaywgb3B0XSA9IHBpY2tUcmFuc2Zvcm1zQW5kU2luayhyZXN0KTtcbiAgICBsZXQgaXRlcmFibGUgPSBzb3VyY2U7XG4gICAgbGV0IGFib3J0YWJsZTtcbiAgICBpZiAoKG9wdCA9PT0gbnVsbCB8fCBvcHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdC5wcm9wYWdhdGVEb3duU3RyZWFtRXJyb3IpID09PSB0cnVlKSB7XG4gICAgICAgIGl0ZXJhYmxlID0gYWJvcnRhYmxlID0gbWFrZUl0ZXJhYmxlQWJvcnRhYmxlKGl0ZXJhYmxlKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpdGVyYWJsZSA9IHBpcGUoaXRlcmFibGUsIC4uLnRyYW5zZm9ybXMsIHsgcHJvcGFnYXRlRG93blN0cmVhbUVycm9yOiBmYWxzZSB9KTtcbiAgICByZXR1cm4gc2luayhpdGVyYWJsZSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICBpZiAoYWJvcnRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWJvcnRhYmxlLmFib3J0KHJlYXNvbikudGhlbigoKSA9PiBQcm9taXNlLnJlamVjdChyZWFzb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICB9KTtcbn1cbi8vIHBpY2sgdHJhbnNmb3JtcywgdGhlIHNpbmssIGFuZCBvcHRpb25zIGZyb20gdGhlIHBpcGVUbygpIHJlc3QgcGFyYW1ldGVyXG5mdW5jdGlvbiBwaWNrVHJhbnNmb3Jtc0FuZFNpbmsocmVzdCkge1xuICAgIGxldCBvcHQ7XG4gICAgaWYgKHR5cGVvZiByZXN0W3Jlc3QubGVuZ3RoIC0gMV0gIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9wdCA9IHJlc3QucG9wKCk7XG4gICAgfVxuICAgIGNvbnN0IHNpbmsgPSByZXN0LnBvcCgpO1xuICAgIHJldHVybiBbcmVzdCwgc2luaywgb3B0XTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBBc3luY0l0ZXJhYmxlU2luayB0aGF0IGNvbmNhdGVuYXRlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgaW5wdXQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW5rQWxsKCkge1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgdmFyIF9hLCBlXzEsIF9iLCBfYztcbiAgICAgICAgY29uc3QgYWxsID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZCA9IHRydWUsIGl0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xOyBpdGVyYWJsZV8xXzEgPSBhd2FpdCBpdGVyYWJsZV8xLm5leHQoKSwgX2EgPSBpdGVyYWJsZV8xXzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBfZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2M7XG4gICAgICAgICAgICAgICAgYWxsLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8xLnJldHVybikpIGF3YWl0IF9iLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsbDtcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEFzeW5jSXRlcmFibGVTaW5rIHRoYXQgY29uY2F0ZW5hdGVzIGFsbCBjaHVua3MgZnJvbSB0aGUgaW5wdXQgaW50b1xuICogYSBzaW5nbGUgVWludDhBcnJheS5cbiAqXG4gKiBUaGUgaXRlcmFibGUgcmFpc2VzIGFuIGVycm9yIGlmIHRoZSBtb3JlIHRoYW4gcmVhZE1heEJ5dGVzIGFyZSByZWFkLlxuICpcbiAqIEFuIG9wdGlvbmFsIGxlbmd0aCBoaW50IGNhbiBiZSBwcm92aWRlZCB0byBvcHRpbWl6ZSBhbGxvY2F0aW9uIGFuZCB2YWxpZGF0aW9uLlxuICogSWYgbW9yZSBvciBsZXNzIGJ5dGVzIGFyZSBwcmVzZW50IGluIHRoZSBzb3VyY2UgdGhhdCB0aGUgbGVuZ3RoIGhpbnQgaW5kaWNhdGVzLFxuICogYW5kIGVycm9yIGlzIHJhaXNlZC5cbiAqIElmIHRoZSBsZW5ndGggaGludCBpcyBsYXJnZXIgdGhhbiByZWFkTWF4Qnl0ZXMsIGFuIGVycm9yIGlzIHJhaXNlZC5cbiAqIElmIHRoZSBsZW5ndGggaGludCBpcyBub3QgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBpdCBpcyBpZ25vcmVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2lua0FsbEJ5dGVzKHJlYWRNYXhCeXRlcywgbGVuZ3RoSGludCkge1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlYWRBbGxCeXRlcyhpdGVyYWJsZSwgcmVhZE1heEJ5dGVzLCBsZW5ndGhIaW50KTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoc291cmNlLCAuLi5yZXN0KSB7XG4gICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogcGlwZV8xKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IFt0cmFuc2Zvcm1zLCBvcHRdID0gcGlja1RyYW5zZm9ybXMocmVzdCk7XG4gICAgICAgIGxldCBhYm9ydGFibGU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUl0ID0gc291cmNlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICBjb25zdCBjYWNoZWRTb3VyY2UgPSB7XG4gICAgICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VJdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGxldCBpdGVyYWJsZSA9IGNhY2hlZFNvdXJjZTtcbiAgICAgICAgaWYgKChvcHQgPT09IG51bGwgfHwgb3B0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHQucHJvcGFnYXRlRG93blN0cmVhbUVycm9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaXRlcmFibGUgPSBhYm9ydGFibGUgPSBtYWtlSXRlcmFibGVBYm9ydGFibGUoaXRlcmFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiB0cmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICBpdGVyYWJsZSA9IHQoaXRlcmFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIF9fYXdhaXQoaXQubmV4dCgpKTtcbiAgICAgICAgICAgICAgICBpZiAoci5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFib3J0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KHIudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19hd2FpdChhYm9ydGFibGUuYWJvcnQoZSkpOyAvLyBwcm9wYWdhdGUgZG93bnN0cmVhbSBlcnJvciB0byB0aGUgc291cmNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKChvcHQgPT09IG51bGwgfHwgb3B0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHQucHJvcGFnYXRlRG93blN0cmVhbUVycm9yKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIENhbGwgcmV0dXJuIG9uIHRoZSBzb3VyY2UgaXRlcmFibGUgdG8gaW5kaWNhdGVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHdlIHdpbGwgbm8gbG9uZ2VyIGNvbnN1bWUgaXQgYW5kIGl0IHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgYW55IGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAgICAgICAgICAgICAgKF9hID0gc291cmNlSXQucmV0dXJuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzb3VyY2VJdCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gcmV0dXJucyBhIHByb21pc2UsIHdoaWNoIHdlIGRvbid0IGNhcmUgYWJvdXQuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFVuY2F1Z2h0IHByb21pc2VzIGFyZSB0aHJvd24gYXQgc29tZXRpbWUvc29tZXdoZXJlIGJ5IHRoZSBldmVudCBsb29wLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGVuc3VyZSBlcnJvciBpcyBjYXVnaHQgYW5kIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHBpY2tUcmFuc2Zvcm1zKHJlc3QpIHtcbiAgICBsZXQgb3B0O1xuICAgIGlmICh0eXBlb2YgcmVzdFtyZXN0Lmxlbmd0aCAtIDFdICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvcHQgPSByZXN0LnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gW3Jlc3QsIG9wdF07XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gQXN5bmNJdGVyYWJsZVRyYW5zZm9ybSB0aGF0IGNhdGNoZXMgYW55IGVycm9yIGZyb20gdGhlIGlucHV0LCBhbmRcbiAqIHBhc3NlcyBpdCB0byB0aGUgZ2l2ZW4gY2F0Y2hFcnJvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY2F0Y2hFcnJvciBmdW5jdGlvbiBtYXkgcmV0dXJuIGEgZmluYWwgdmFsdWUuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1DYXRjaChjYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgICAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB3ZSBkZWxpYmVyYXRlIGF2b2lkIGEgZm9yLWF3YWl0IGxvb3AgYmVjYXVzZSB3ZSBvbmx5IHdhbnQgdG8gY2F0Y2ggdXBzdHJlYW1cbiAgICAgICAgICAgIC8vIGVycm9ycywgbm90IGRvd25zdHJlYW0gZXJyb3JzICh5aWVsZCkuXG4gICAgICAgICAgICBjb25zdCBpdCA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSB5aWVsZCBfX2F3YWl0KGl0Lm5leHQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdWdodCA9IHlpZWxkIF9fYXdhaXQoY2F0Y2hFcnJvcihlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXVnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChjYXVnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoci5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KHIudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEFzeW5jSXRlcmFibGVUcmFuc2Zvcm0gdGhhdCBjYXRjaGVzIGFueSBlcnJvciBmcm9tIHRoZSBpbnB1dCwgYW5kXG4gKiBwYXNzZXMgaXQgdG8gdGhlIGdpdmVuIGZ1bmN0aW9uLiBVbmxpa2UgdHJhbnNmb3JtQ2F0Y2goKSwgdGhlIGdpdmVuIGZ1bmN0aW9uXG4gKiBpcyBhbHNvIGNhbGxlZCB3aGVuIG5vIGVycm9yIGlzIHJhaXNlZC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUNhdGNoRmluYWxseShjYXRjaEZpbmFsbHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHdlIGRlbGliZXJhdGUgYXZvaWQgYSBmb3ItYXdhaXQgbG9vcCBiZWNhdXNlIHdlIG9ubHkgd2FudCB0byBjYXRjaCB1cHN0cmVhbVxuICAgICAgICAgICAgLy8gZXJyb3JzLCBub3QgZG93bnN0cmVhbSBlcnJvcnMgKHlpZWxkKS5cbiAgICAgICAgICAgIGxldCBlcnI7XG4gICAgICAgICAgICBjb25zdCBpdCA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSB5aWVsZCBfX2F3YWl0KGl0Lm5leHQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyciA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoci5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KHIudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2F1Z2h0ID0geWllbGQgX19hd2FpdChjYXRjaEZpbmFsbHkoZXJyKSk7XG4gICAgICAgICAgICBpZiAoY2F1Z2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KGNhdWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gQXN5bmNJdGVyYWJsZVRyYW5zZm9ybSB0aGF0IGFwcGVuZHMgYSB2YWx1ZS5cbiAqXG4gKiBUaGUgZWxlbWVudCB0byBhcHBlbmQgaXMgcHJvdmlkZWQgYnkgYSBmdW5jdGlvbi4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnNcbiAqIHVuZGVmaW5lZCwgbm8gZWxlbWVudCBpcyBhcHBlbmRlZC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUFwcGVuZChwcm92aWRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgICAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIGVfMiwgX2IsIF9jO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IHRydWUsIGl0ZXJhYmxlXzIgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMl8xOyBpdGVyYWJsZV8yXzEgPSB5aWVsZCBfX2F3YWl0KGl0ZXJhYmxlXzIubmV4dCgpKSwgX2EgPSBpdGVyYWJsZV8yXzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX2MgPSBpdGVyYWJsZV8yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIF9kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2M7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoY2h1bmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8yLnJldHVybikpIHlpZWxkIF9fYXdhaXQoX2IuY2FsbChpdGVyYWJsZV8yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcGVuZCA9IHlpZWxkIF9fYXdhaXQocHJvdmlkZSgpKTtcbiAgICAgICAgICAgIGlmIChhcHBlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoYXBwZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBBc3luY0l0ZXJhYmxlVHJhbnNmb3JtIHRoYXQgcHJlcGVuZHMgYW4gZWxlbWVudC5cbiAqXG4gKiBUaGUgZWxlbWVudCB0byBwcmVwZW5kIGlzIHByb3ZpZGVkIGJ5IGEgZnVuY3Rpb24uIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zXG4gKiB1bmRlZmluZWQsIG5vIGVsZW1lbnQgaXMgYXBwZW5kZWQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1QcmVwZW5kKHByb3ZpZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgZV8zLCBfYiwgX2M7XG4gICAgICAgICAgICBjb25zdCBwcmVwZW5kID0geWllbGQgX19hd2FpdChwcm92aWRlKCkpO1xuICAgICAgICAgICAgaWYgKHByZXBlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQocHJlcGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfMyA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8zXzE7IGl0ZXJhYmxlXzNfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfMy5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzNfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzNfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChjaHVuayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2QgJiYgIV9hICYmIChfYiA9IGl0ZXJhYmxlXzMucmV0dXJuKSkgeWllbGQgX19hd2FpdChfYi5jYWxsKGl0ZXJhYmxlXzMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEFzeW5jSXRlcmFibGVUcmFuc2Zvcm0gdGhhdCByZWFkcyBhbGwgYnl0ZXMgZnJvbSB0aGUgaW5wdXQsIGFuZFxuICogY29uY2F0ZW5hdGVzIHRoZW0gdG8gYSBzaW5nbGUgVWludDhBcnJheS5cbiAqXG4gKiBUaGUgaXRlcmFibGUgcmFpc2VzIGFuIGVycm9yIGlmIHRoZSBtb3JlIHRoYW4gcmVhZE1heEJ5dGVzIGFyZSByZWFkLlxuICpcbiAqIEFuIG9wdGlvbmFsIGxlbmd0aCBoaW50IGNhbiBiZSBwcm92aWRlZCB0byBvcHRpbWl6ZSBhbGxvY2F0aW9uIGFuZCB2YWxpZGF0aW9uLlxuICogSWYgbW9yZSBvciBsZXNzIGJ5dGVzIGFyZSBwcmVzZW50IGluIHRoZSBzb3VyY2UgdGhhdCB0aGUgbGVuZ3RoIGhpbnQgaW5kaWNhdGVzLFxuICogYW5kIGVycm9yIGlzIHJhaXNlZC5cbiAqIElmIHRoZSBsZW5ndGggaGludCBpcyBsYXJnZXIgdGhhbiByZWFkTWF4Qnl0ZXMsIGFuIGVycm9yIGlzIHJhaXNlZC5cbiAqIElmIHRoZSBsZW5ndGggaGludCBpcyBub3QgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBpdCBpcyBpZ25vcmVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUmVhZEFsbEJ5dGVzKHJlYWRNYXhCeXRlcywgbGVuZ3RoSGludCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdCh5aWVsZCBfX2F3YWl0KHJlYWRBbGxCeXRlcyhpdGVyYWJsZSwgcmVhZE1heEJ5dGVzLCBsZW5ndGhIaW50KSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVNlcmlhbGl6ZUVudmVsb3BlKHNlcmlhbGl6YXRpb24sIGVuZFN0cmVhbUZsYWcsIGVuZFNlcmlhbGl6YXRpb24pIHtcbiAgICBpZiAoZW5kU3RyZWFtRmxhZyA9PT0gdW5kZWZpbmVkIHx8IGVuZFNlcmlhbGl6YXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBlXzQsIF9iLCBfYztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IHRydWUsIGl0ZXJhYmxlXzQgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfNF8xOyBpdGVyYWJsZV80XzEgPSB5aWVsZCBfX2F3YWl0KGl0ZXJhYmxlXzQubmV4dCgpKSwgX2EgPSBpdGVyYWJsZV80XzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gaXRlcmFibGVfNF8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gc2VyaWFsaXphdGlvbi5zZXJpYWxpemUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdCh7IGZsYWdzOiAwLCBkYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV80LnJldHVybikpIHlpZWxkIF9fYXdhaXQoX2IuY2FsbChpdGVyYWJsZV80KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgZV81LCBfYiwgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfNSA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV81XzE7IGl0ZXJhYmxlXzVfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfNS5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzVfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzVfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmbGFncyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzID0gZmxhZ3MgfCBlbmRTdHJlYW1GbGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGVuZFNlcmlhbGl6YXRpb24uc2VyaWFsaXplKGNodW5rLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBzZXJpYWxpemF0aW9uLnNlcmlhbGl6ZShjaHVuay52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdCh7IGZsYWdzLCBkYXRhIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV81LnJldHVybikpIHlpZWxkIF9fYXdhaXQoX2IuY2FsbChpdGVyYWJsZV81KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1QYXJzZUVudmVsb3BlKHNlcmlhbGl6YXRpb24sIGVuZFN0cmVhbUZsYWcsIGVuZFNlcmlhbGl6YXRpb24pIHtcbiAgICAvLyBjb2RlIHBhdGggYWx3YXlzIHlpZWxkcyBQYXJzZWRFbnZlbG9wZWRNZXNzYWdlPFQsIEU+XG4gICAgaWYgKGVuZFNlcmlhbGl6YXRpb24gJiYgZW5kU3RyZWFtRmxhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIGVfNiwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfNiA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV82XzE7IGl0ZXJhYmxlXzZfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfNi5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzZfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSBpdGVyYWJsZV82XzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmbGFncywgZGF0YSB9ID0gX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZsYWdzICYgZW5kU3RyZWFtRmxhZykgPT09IGVuZFN0cmVhbUZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB5aWVsZCBfX2F3YWl0KHsgdmFsdWU6IGVuZFNlcmlhbGl6YXRpb24ucGFyc2UoZGF0YSksIGVuZDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoeyB2YWx1ZTogc2VyaWFsaXphdGlvbi5wYXJzZShkYXRhKSwgZW5kOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV82XzEpIHsgZV82ID0geyBlcnJvcjogZV82XzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfZCAmJiAhX2EgJiYgKF9iID0gaXRlcmFibGVfNi5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRlcmFibGVfNikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gY29kZSBwYXRoIGFsd2F5cyB5aWVsZHMgVFxuICAgIHJldHVybiBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBlXzcsIF9iLCBfYztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2QgPSB0cnVlLCBpdGVyYWJsZV83ID0gX19hc3luY1ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzdfMTsgaXRlcmFibGVfN18xID0geWllbGQgX19hd2FpdChpdGVyYWJsZV83Lm5leHQoKSksIF9hID0gaXRlcmFibGVfN18xLmRvbmUsICFfYTsgX2QgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jID0gaXRlcmFibGVfN18xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBfZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGZsYWdzLCBkYXRhIH0gPSBfYztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZFN0cmVhbUZsYWcgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZsYWdzICYgZW5kU3RyZWFtRmxhZykgPT09IGVuZFN0cmVhbUZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRTZXJpYWxpemF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInVuZXhwZWN0ZWQgZW5kIGZsYWdcIiwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2tpcHMgZW5kLW9mLXN0cmVhbSBlbnZlbG9wZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChzZXJpYWxpemF0aW9uLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV83XzEpIHsgZV83ID0geyBlcnJvcjogZV83XzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfZCAmJiAhX2EgJiYgKF9iID0gaXRlcmFibGVfNy5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRlcmFibGVfNykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNykgdGhyb3cgZV83LmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gQXN5bmNJdGVyYWJsZVRyYW5zZm9ybSB0aGF0IHRha2VzIGVudmVsb3BlZCBtZXNzYWdlcyBhcyBhIHNvdXJjZSxcbiAqIGFuZCBjb21wcmVzc2VzIHRoZW0gaWYgdGhleSBhcmUgbGFyZ2VyIHRoYW4gY29tcHJlc3NNaW5CeXRlcy5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUNvbXByZXNzRW52ZWxvcGUoY29tcHJlc3Npb24sIGNvbXByZXNzTWluQnl0ZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgZV84LCBfYiwgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfOCA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV84XzE7IGl0ZXJhYmxlXzhfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfOC5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzhfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzhfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW52ID0gX2M7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoeWllbGQgX19hd2FpdChlbnZlbG9wZUNvbXByZXNzKGVudiwgY29tcHJlc3Npb24sIGNvbXByZXNzTWluQnl0ZXMpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfOF8xKSB7IGVfOCA9IHsgZXJyb3I6IGVfOF8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2QgJiYgIV9hICYmIChfYiA9IGl0ZXJhYmxlXzgucmV0dXJuKSkgeWllbGQgX19hd2FpdChfYi5jYWxsKGl0ZXJhYmxlXzgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEFzeW5jSXRlcmFibGVUcmFuc2Zvcm0gdGhhdCB0YWtlcyBlbnZlbG9wZWQgbWVzc2FnZXMgYXMgYSBzb3VyY2UsXG4gKiBhbmQgZGVjb21wcmVzc2VzIHRoZW0gdXNpbmcgdGhlIGdpdmVuIGNvbXByZXNzaW9uLlxuICpcbiAqIFRoZSBpdGVyYWJsZSByYWlzZXMgYW4gZXJyb3IgaWYgdGhlIGRlY29tcHJlc3NlZCBwYXlsb2FkIG9mIGFuIGVudmVsb3BlZFxuICogbWVzc2FnZSBpcyBsYXJnZXIgdGhhbiByZWFkTWF4Qnl0ZXMsIG9yIGlmIG5vIGNvbXByZXNzaW9uIGlzIHByb3ZpZGVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtRGVjb21wcmVzc0VudmVsb3BlKGNvbXByZXNzaW9uLCByZWFkTWF4Qnl0ZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgZV85LCBfYiwgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfOSA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV85XzE7IGl0ZXJhYmxlXzlfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfOS5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzlfMS5kb25lLCAhX2E7IF9kID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfYyA9IGl0ZXJhYmxlXzlfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW52ID0gX2M7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoeWllbGQgX19hd2FpdChlbnZlbG9wZURlY29tcHJlc3MoZW52LCBjb21wcmVzc2lvbiwgcmVhZE1heEJ5dGVzKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzlfMSkgeyBlXzkgPSB7IGVycm9yOiBlXzlfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV85LnJldHVybikpIHlpZWxkIF9fYXdhaXQoX2IuY2FsbChpdGVyYWJsZV85KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIEFzeW5jSXRlcmFibGVUcmFuc2Zvcm0gdGhhdCB0YWtlcyBlbnZlbG9wZWQgbWVzc2FnZXMgYXMgYSBzb3VyY2UsXG4gKiBhbmQgam9pbnMgdGhlbSBpbnRvIGEgc3RyZWFtIG9mIHJhdyBieXRlcy5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUpvaW5FbnZlbG9wZXMoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgICAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIGVfMTAsIF9iLCBfYztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2QgPSB0cnVlLCBpdGVyYWJsZV8xMCA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xMF8xOyBpdGVyYWJsZV8xMF8xID0geWllbGQgX19hd2FpdChpdGVyYWJsZV8xMC5uZXh0KCkpLCBfYSA9IGl0ZXJhYmxlXzEwXzEuZG9uZSwgIV9hOyBfZCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX2MgPSBpdGVyYWJsZV8xMF8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBfZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGZsYWdzLCBkYXRhIH0gPSBfYztcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChlbmNvZGVFbnZlbG9wZShmbGFncywgZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzEwXzEpIHsgZV8xMCA9IHsgZXJyb3I6IGVfMTBfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8xMC5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRlcmFibGVfMTApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEwKSB0aHJvdyBlXzEwLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhbiBBc3luY0l0ZXJhYmxlVHJhbnNmb3JtIHRoYXQgdGFrZXMgcmF3IGJ5dGVzIGFzIGEgc291cmNlLCBhbmQgc3BsaXRzXG4gKiB0aGVtIGludG8gZW52ZWxvcGVkIG1lc3NhZ2VzLlxuICpcbiAqIFRoZSBpdGVyYWJsZSByYWlzZXMgYW4gZXJyb3JcbiAqIC0gaWYgdGhlIHBheWxvYWQgb2YgYW4gZW52ZWxvcGVkIG1lc3NhZ2UgaXMgbGFyZ2VyIHRoYW4gcmVhZE1heEJ5dGVzLFxuICogLSBpZiB0aGUgc3RyZWFtIGVuZGVkIGJlZm9yZSBhbiBlbnZlbG9wZWQgbWVzc2FnZSBmdWxseSBhcnJpdmVkLFxuICogLSBvciBpZiB0aGUgc3RyZWFtIGVuZGVkIHdpdGggZXh0cmFuZW91cyBkYXRhLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtU3BsaXRFbnZlbG9wZShyZWFkTWF4Qnl0ZXMpIHtcbiAgICAvLyBhcHBlbmQgY2h1bmsgdG8gYnVmZmVyLCByZXR1cm5pbmcgdXBkYXRlZCBidWZmZXJcbiAgICBmdW5jdGlvbiBhcHBlbmQoYnVmZmVyLCBjaHVuaykge1xuICAgICAgICBjb25zdCBuID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmJ5dGVMZW5ndGggKyBjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgbi5zZXQoYnVmZmVyKTtcbiAgICAgICAgbi5zZXQoY2h1bmssIGJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgLy8gdHVwbGUgMDogZW52ZWxvcGUsIG9yIHVuZGVmaW5lZCBpZiBpbmNvbXBsZXRlXG4gICAgLy8gdHVwbGUgMTogcmVtYWluZGVyIG9mIHRoZSBidWZmZXJcbiAgICBmdW5jdGlvbiBzaGlmdEVudmVsb3BlKGJ1ZmZlciwgaGVhZGVyKSB7XG4gICAgICAgIGlmIChidWZmZXIuYnl0ZUxlbmd0aCA8IDUgKyBoZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgYnVmZmVyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBmbGFnczogaGVhZGVyLmZsYWdzLCBkYXRhOiBidWZmZXIuc3ViYXJyYXkoNSwgNSArIGhlYWRlci5sZW5ndGgpIH0sXG4gICAgICAgICAgICBidWZmZXIuc3ViYXJyYXkoNSArIGhlYWRlci5sZW5ndGgpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvLyB1bmRlZmluZWQ6IGhlYWRlciBpcyBpbmNvbXBsZXRlXG4gICAgZnVuY3Rpb24gcGVla0hlYWRlcihidWZmZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoIDwgNSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIsIGJ1ZmZlci5ieXRlT2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZpZXcuZ2V0VWludDMyKDEpOyAvLyA0IGJ5dGVzIG1lc3NhZ2UgbGVuZ3RoXG4gICAgICAgIGNvbnN0IGZsYWdzID0gdmlldy5nZXRVaW50OCgwKTsgLy8gZmlyc3QgYnl0ZSBpcyBmbGFnc1xuICAgICAgICByZXR1cm4geyBsZW5ndGgsIGZsYWdzIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBlXzExLCBfYiwgX2M7XG4gICAgICAgICAgICBsZXQgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gdHJ1ZSwgaXRlcmFibGVfMTEgPSBfX2FzeW5jVmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMTFfMTsgaXRlcmFibGVfMTFfMSA9IHlpZWxkIF9fYXdhaXQoaXRlcmFibGVfMTEubmV4dCgpKSwgX2EgPSBpdGVyYWJsZV8xMV8xLmRvbmUsICFfYTsgX2QgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jID0gaXRlcmFibGVfMTFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfYztcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gYXBwZW5kKGJ1ZmZlciwgY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBwZWVrSGVhZGVyKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0UmVhZE1heEJ5dGVzKHJlYWRNYXhCeXRlcywgaGVhZGVyLmxlbmd0aCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW52O1xuICAgICAgICAgICAgICAgICAgICAgICAgW2VudiwgYnVmZmVyXSA9IHNoaWZ0RW52ZWxvcGUoYnVmZmVyLCBoZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHlpZWxkIF9fYXdhaXQoZW52KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzExXzEpIHsgZV8xMSA9IHsgZXJyb3I6IGVfMTFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8xMS5yZXR1cm4pKSB5aWVsZCBfX2F3YWl0KF9iLmNhbGwoaXRlcmFibGVfMTEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzExKSB0aHJvdyBlXzExLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gcGVla0hlYWRlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gXCJwcm90b2NvbCBlcnJvcjogaW5jb21wbGV0ZSBlbnZlbG9wZVwiO1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBwcm90b2NvbCBlcnJvcjogcHJvbWlzZWQgJHtoZWFkZXIubGVuZ3RofSBieXRlcyBpbiBlbnZlbG9wZWQgbWVzc2FnZSwgZ290ICR7YnVmZmVyLmJ5dGVMZW5ndGggLSA1fSBieXRlc2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IobWVzc2FnZSwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuLyoqXG4gKiBSZWFkcyBhbGwgYnl0ZXMgZnJvbSB0aGUgc291cmNlLCBhbmQgY29uY2F0ZW5hdGVzIHRoZW0gdG8gYSBzaW5nbGUgVWludDhBcnJheS5cbiAqXG4gKiBSYWlzZXMgYW4gZXJyb3IgaWY6XG4gKiAtIG1vcmUgdGhhbiByZWFkTWF4Qnl0ZXMgYXJlIHJlYWRcbiAqIC0gbGVuZ3RoSGludCBpcyBhIHBvc2l0aXZlIGludGVnZXIsIGJ1dCBsYXJnZXIgdGhhbiByZWFkTWF4Qnl0ZXNcbiAqIC0gbGVuZ3RoSGludCBpcyBhIHBvc2l0aXZlIGludGVnZXIsIGFuZCB0aGUgc291cmNlIGNvbnRhaW5zIG1vcmUgb3IgbGVzcyBieXRlc1xuICogICB0aGFuIHByb21pc2VkXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkQWxsQnl0ZXMoaXRlcmFibGUsIHJlYWRNYXhCeXRlcywgbGVuZ3RoSGludCkge1xuICAgIHZhciBfYSwgZV8xMiwgX2IsIF9jLCBfZCwgZV8xMywgX2UsIF9mO1xuICAgIGNvbnN0IFtvaywgaGludF0gPSBwYXJzZUxlbmd0aEhpbnQobGVuZ3RoSGludCk7XG4gICAgaWYgKG9rKSB7XG4gICAgICAgIGlmIChoaW50ID4gcmVhZE1heEJ5dGVzKSB7XG4gICAgICAgICAgICBhc3NlcnRSZWFkTWF4Qnl0ZXMocmVhZE1heEJ5dGVzLCBoaW50LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShoaW50KTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZyA9IHRydWUsIGl0ZXJhYmxlXzEyID0gX19hc3luY1ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzEyXzE7IGl0ZXJhYmxlXzEyXzEgPSBhd2FpdCBpdGVyYWJsZV8xMi5uZXh0KCksIF9hID0gaXRlcmFibGVfMTJfMS5kb25lLCAhX2E7IF9nID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF9jID0gaXRlcmFibGVfMTJfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBfZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2M7XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldCArIGNodW5rLmJ5dGVMZW5ndGggPiBoaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYHByb3RvY29sIGVycm9yOiBwcm9taXNlZCAke2hpbnR9IGJ5dGVzLCByZWNlaXZlZCAke29mZnNldCArIGNodW5rLmJ5dGVMZW5ndGh9YCwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmZXIuc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzEyXzEpIHsgZV8xMiA9IHsgZXJyb3I6IGVfMTJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9nICYmICFfYSAmJiAoX2IgPSBpdGVyYWJsZV8xMi5yZXR1cm4pKSBhd2FpdCBfYi5jYWxsKGl0ZXJhYmxlXzEyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xMikgdGhyb3cgZV8xMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgPCBoaW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBwcm90b2NvbCBlcnJvcjogcHJvbWlzZWQgJHtoaW50fSBieXRlcywgcmVjZWl2ZWQgJHtvZmZzZXR9YCwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2ggPSB0cnVlLCBpdGVyYWJsZV8xMyA9IF9fYXN5bmNWYWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xM18xOyBpdGVyYWJsZV8xM18xID0gYXdhaXQgaXRlcmFibGVfMTMubmV4dCgpLCBfZCA9IGl0ZXJhYmxlXzEzXzEuZG9uZSwgIV9kOyBfaCA9IHRydWUpIHtcbiAgICAgICAgICAgIF9mID0gaXRlcmFibGVfMTNfMS52YWx1ZTtcbiAgICAgICAgICAgIF9oID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjaHVuayA9IF9mO1xuICAgICAgICAgICAgY291bnQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIGFzc2VydFJlYWRNYXhCeXRlcyhyZWFkTWF4Qnl0ZXMsIGNvdW50KTtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8xM18xKSB7IGVfMTMgPSB7IGVycm9yOiBlXzEzXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaCAmJiAhX2QgJiYgKF9lID0gaXRlcmFibGVfMTMucmV0dXJuKSkgYXdhaXQgX2UuY2FsbChpdGVyYWJsZV8xMyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEzKSB0aHJvdyBlXzEzLmVycm9yOyB9XG4gICAgfVxuICAgIGNvbnN0IGFsbCA9IG5ldyBVaW50OEFycmF5KGNvdW50KTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBjaHVuayA9IGNodW5rcy5zaGlmdCgpOyBjaHVuazsgY2h1bmsgPSBjaHVua3Muc2hpZnQoKSkge1xuICAgICAgICBhbGwuc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIGFsbDtcbn1cbi8vIHBhcnNlIHRoZSBsZW5ndGhIaW50IGFyZ3VtZW50IG9mIHJlYWRBbGxCeXRlcygpXG5mdW5jdGlvbiBwYXJzZUxlbmd0aEhpbnQobGVuZ3RoSGludCkge1xuICAgIGlmIChsZW5ndGhIaW50ID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoSGludCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW2ZhbHNlLCAwXTtcbiAgICB9XG4gICAgY29uc3QgbiA9IHR5cGVvZiBsZW5ndGhIaW50ID09IFwic3RyaW5nXCIgPyBwYXJzZUludChsZW5ndGhIaW50LCAxMCkgOiBsZW5ndGhIaW50O1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIobikgfHwgbiA8IDApIHtcbiAgICAgICAgcmV0dXJuIFtmYWxzZSwgbl07XG4gICAgfVxuICAgIHJldHVybiBbdHJ1ZSwgbl07XG59XG4vKipcbiAqIFdhaXQgZm9yIHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGl0ZXJhYmxlIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBpdGVyYWJsZS5cbiAqIFRoaXMgY29uc3VtZXMgdGhlIGZpcnN0IGVsZW1lbnQsIGJ1dCBwdXNoZXMgaXQgYmFjayBvbiB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bnRpbEZpcnN0KGl0ZXJhYmxlKSB7XG4gICAgY29uc3QgaXQgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICBsZXQgZmlyc3QgPSBhd2FpdCBpdC5uZXh0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSB7XG4gICAgICAgICAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gZmlyc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgaXQubmV4dCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGl0LnRocm93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBjYW4ndCBoYW5kbGUgbXV0YXRlZCBvYmplY3Qgc2Vuc2libHlcbiAgICAgICAgICAgICAgICB3LnRocm93ID0gKGUpID0+IGl0LnRocm93KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0LnJldHVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24sQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAtLSBjYW4ndCBoYW5kbGUgbXV0YXRlZCBvYmplY3Qgc2Vuc2libHlcbiAgICAgICAgICAgICAgICB3LnJldHVybiA9ICh2YWx1ZSkgPT4gaXQucmV0dXJuKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFdyYXAgdGhlIGdpdmVuIGl0ZXJhYmxlIGFuZCByZXR1cm4gYW4gaXRlcmFibGUgd2l0aCBhbiBhYm9ydCgpIG1ldGhvZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGV4aXN0cyBwdXJlbHkgZm9yIGNvbnZlbmllbmNlLiBXaGVyZSBvbmUgd291bGQgdHlwaWNhbGx5IGhhdmVcbiAqIHRvIGFjY2VzcyB0aGUgaXRlcmF0b3IgZGlyZWN0bHksIGFkdmFuY2UgdGhyb3VnaCBhbGwgZWxlbWVudHMsIGFuZCBjYWxsXG4gKiBBc3luY0l0ZXJhdG9yLnRocm93KCkgdG8gbm90aWZ5IHRoZSB1cHN0cmVhbSBpdGVyYWJsZSwgdGhpcyBmdW5jdGlvbiBhbGxvd3NcbiAqIHRvIHVzZSBjb252ZW5pZW50IGZvci1hd2FpdCBsb29wcyBhbmQgc3RpbGwgbm90aWZ5IHRoZSB1cHN0cmVhbSBpdGVyYWJsZTpcbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYWJvcnRhYmxlID0gbWFrZUl0ZXJhYmxlQWJvcnRhYmxlKGl0ZXJhYmxlKTtcbiAqIGZvciBhd2FpdCAoY29uc3QgZWxlIG9mIGFib3J0YWJsZSkge1xuICogICBhd2FpdCBhYm9ydGFibGUuYWJvcnQoXCJFUlJcIik7XG4gKiB9XG4gKiBgYGBcbiAqIFRoZXJlIGFyZSBhIGNvdXBsZSBvZiBsaW1pdGF0aW9ucyBvZiB0aGlzIGZ1bmN0aW9uOlxuICogLSB0aGUgZ2l2ZW4gYXN5bmMgaXRlcmFibGUgbXVzdCBpbXBsZW1lbnQgdGhyb3dcbiAqIC0gdGhlIGFzeW5jIGl0ZXJhYmxlIGNhbm5vdCBiZSByZS11c2VcbiAqIC0gaWYgc291cmNlIGNhdGNoZXMgZXJyb3JzIGFuZCB5aWVsZHMgdmFsdWVzIGZvciB0aGVtLCB0aGV5IGFyZSBpZ25vcmVkLCBhbmRcbiAqICAgdGhlIHNvdXJjZSBtYXkgc3RpbGwgZGFuZ2xlXG4gKlxuICogVGhlcmUgYXJlIGZvdXIgcG9zc2libGUgd2F5cyBhbiBhc3luYyBmdW5jdGlvbiogY2FuIGhhbmRsZSB5aWVsZCBlcnJvcnM6XG4gKiAxLiBkb24ndCBjYXRjaCBlcnJvcnMgYXQgYWxsIC0gQWJvcnRhYmxlLmFib3J0KCkgd2lsbCByZXNvbHZlIFwicmV0aHJvd25cIlxuICogMi4gY2F0Y2ggZXJyb3JzIGFuZCByZXRocm93IC0gQWJvcnRhYmxlLmFib3J0KCkgd2lsbCByZXNvbHZlIFwicmV0aHJvd25cIlxuICogMy4gY2F0Y2ggZXJyb3JzIGFuZCByZXR1cm4gLSBBYm9ydGFibGUuYWJvcnQoKSB3aWxsIHJlc29sdmUgXCJjb21wbGV0ZWRcIlxuICogNC4gY2F0Y2ggZXJyb3JzIGFuZCB5aWVsZCBhIHZhbHVlIC0gQWJvcnRhYmxlLmFib3J0KCkgd2lsbCByZXNvbHZlIFwiY2F1Z2h0XCJcbiAqXG4gKiBOb3RlIHRoYXQgY2F0Y2hpbmcgZXJyb3JzIGFuZCB5aWVsZGluZyBhIHZhbHVlIGlzIHByb2JsZW1hdGljLCBhbmQgaXQgc2hvdWxkXG4gKiBiZSBkb2N1bWVudGVkIHRoYXQgdGhpcyBtYXkgbGVhdmUgdGhlIHNvdXJjZSBpbiBhIGRhbmdsaW5nIHN0YXRlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUl0ZXJhYmxlQWJvcnRhYmxlKGl0ZXJhYmxlKSB7XG4gICAgY29uc3QgaW5uZXJDYW5kaWRhdGUgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICBpZiAoaW5uZXJDYW5kaWRhdGUudGhyb3cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luY0l0ZXJhYmxlIGRvZXMgbm90IGltcGxlbWVudCB0aHJvd1wiKTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXIgPSBpbm5lckNhbmRpZGF0ZTtcbiAgICBsZXQgYWJvcnRlZDtcbiAgICBsZXQgcmVzdWx0UHJvbWlzZTtcbiAgICBsZXQgaXQgPSB7XG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICByZXN1bHRQcm9taXNlID0gaW5uZXIubmV4dCgpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdFByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRQcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgICB0aHJvdyhlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5uZXIudGhyb3coZSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBpZiAoaW5uZXJDYW5kaWRhdGUucmV0dXJuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGl0KSwgeyByZXR1cm4odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXIucmV0dXJuKHZhbHVlKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIGxldCB1c2VkID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWJvcnQocmVhc29uKSB7XG4gICAgICAgICAgICBpZiAoYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYm9ydGVkLnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXIudGhyb3cocmVhc29uKS50aGVuKChyKSA9PiAoci5kb25lID09PSB0cnVlID8gXCJjb21wbGV0ZWRcIiA6IFwiY2F1Z2h0XCIpLCAoKSA9PiBcInJldGhyb3duXCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyZXN1bHRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgYWJvcnRlZCA9IHsgcmVhc29uLCBzdGF0ZTogcmVzdWx0UHJvbWlzZS50aGVuKGYsIGYpIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFib3J0ZWQuc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhYm9ydGVkID0geyByZWFzb24sIHN0YXRlOiBmKCkgfTtcbiAgICAgICAgICAgIHJldHVybiBhYm9ydGVkLnN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgaWYgKHVzZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luY0l0ZXJhYmxlIGNhbm5vdCBiZSByZS11c2VkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXNlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IFdyaXRhYmxlSXRlcmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXcml0YWJsZUl0ZXJhYmxlKCkge1xuICAgIC8vIFdlIHN0YXJ0IHdpdGggdHdvIHF1ZXVlcyB0byBjYXB0dXJlIHRoZSByZWFkIGFuZCB3cml0ZSBhdHRlbXB0cy5cbiAgICAvL1xuICAgIC8vIFRoZSB3cml0ZXMgYW5kIHJlYWRzIGVhY2ggY2hlY2sgb2YgdGhlaXIgY291bnRlcnBhcnQgaXNcbiAgICAvLyBhbHJlYWR5IGF2YWlsYWJsZSBhbmQgZWl0aGVyIGludGVyYWN0L2FkZCB0aGVtc2VsdmVzIHRvIHRoZSBxdWV1ZS5cbiAgICBjb25zdCByZWFkUXVldWUgPSBbXTtcbiAgICBjb25zdCB3cml0ZVF1ZXVlID0gW107XG4gICAgbGV0IGVyciA9IHVuZGVmaW5lZDtcbiAgICBsZXQgbmV4dFJlc29sdmU7XG4gICAgbGV0IG5leHRSZWplY3Q7XG4gICAgbGV0IG5leHRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBuZXh0UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIG5leHRSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgbGV0IGNsb3NlZCA9IGZhbHNlO1xuICAgIC8vIGRyYWluIHRoZSByZWFkUXVldWUgaW4gY2FzZSBvZiBlcnJvci93cml0ZXIgaXMgY2xvc2VkIGJ5IHNlbmRpbmcgYVxuICAgIC8vIGRvbmUgcmVzdWx0LlxuICAgIGZ1bmN0aW9uIGRyYWluKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5leHQgb2YgcmVhZFF1ZXVlLnNwbGljZSgwLCByZWFkUXVldWUubGVuZ3RoKSkge1xuICAgICAgICAgICAgbmV4dCh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgZHJhaW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgd3JpdGUocGF5bG9hZCkge1xuICAgICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVyciAhPT0gbnVsbCAmJiBlcnIgIT09IHZvaWQgMCA/IGVyciA6IG5ldyBFcnJvcihcImNhbm5vdCB3cml0ZSwgV3JpdGFibGVJdGVyYWJsZSBhbHJlYWR5IGNsb3NlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlYWQgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkaWRuJ3QgZmluZCBhIHBlbmRpbmcgcmVhZCBzbyB3ZSBhZGQgdGhlIHBheWxvYWQgdG8gdGhlIHdyaXRlIHF1ZXVlLlxuICAgICAgICAgICAgICAgIHdyaXRlUXVldWUucHVzaChwYXlsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgcGVuZGluZyByZWFkIHNvIHdlIHJlc3BvbmQgd2l0aCB0aGUgcGF5bG9hZC5cbiAgICAgICAgICAgICAgICByZWFkKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbW9yZSBpbiB0aGUgcmVhZCBxdWV1ZSB3ZSBjYW4gbWFyayB0aGUgd3JpdGUgYXMgY29tcGxldGUuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBlcnJvciByZXBvcnRpbmcgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgc2VxdWVudGlhbCBhbmQgdGhlcmVmb3JlIGNhbm5vdFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBsaW5rZWQgdG8gYSBzcGVjaWZpYyB3cml0ZS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGF3YWl0IHRoZSBuZXh0IGNhbGwgZm9yIGFzIG1hbnkgdGltZXMgYXMgdGhlcmUgYXJlIGl0ZW1zIGluIHRoZSBxdWV1ZSArIDFcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaXRlbXMgaW4gdGhlIHdyaXRlIHF1ZXVlIHRoYXQgbWVhbnMgd3JpdGUgaGFwcGVuZWQgYW5kIHdlIGp1c3QgaGF2ZVxuICAgICAgICAgICAgLy8gdG8gd2FpdCBmb3Igb25lIG1vcmUgY2FsbCBsaWtld2lzZSBpZiB3ZSBhcmUgdGhlIG50aCB3cml0ZSBpbiB0aGUgcXVldWUgd2VcbiAgICAgICAgICAgIC8vIGhhdmUgdG8gd2FpdCBmb3IgbiB3cml0ZXMgdG8gY29tcGxldGUgYW5kIG9uZSBtb3JlLlxuICAgICAgICAgICAgY29uc3QgbGltaXQgPSB3cml0ZVF1ZXVlLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXh0UHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgbmV4dFByb21pc2UgdG8gaW5kaWNhdGVcbiAgICAgICAgICAgICAgICAgICAgLy8gcGVuZGluZyB3cml0ZXMgdGhhdCBhIHJlYWQgYXR0ZW1wdCBoYXMgYmVlbiBtYWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIHRoZWlyIHdyaXRlLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIG5lZWQgdG8gcmVzZXQgdGhlIHByb21pc2UgZm9yIGZ1dHVyZSB3cml0ZXMuXG4gICAgICAgICAgICAgICAgICAgIG5leHRSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlID0gd3JpdGVRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod3JpdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBwZW5kaW5nIHdyaXRlIHNvIHJlc3BvbnNlIHdpdGggdGhlIHBheWxvYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogZmFsc2UsIHZhbHVlOiB3cml0ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSByZXR1cm4gYSBwcm9taXNlIGltbWVkaWF0ZWx5IHRoYXQgaXMgZWl0aGVyIHJlc29sdmVkL3JlamVjdGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHdyaXRlcyBoYXBwZW4uXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWFkUmVzb2x2ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKHJlYWRSZXNvbHZlID0gcmVzb2x2ZSkpO1xuICAgICAgICAgICAgICAgICAgICByZWFkUXVldWUucHVzaChyZWFkUmVzb2x2ZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFByb21pc2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aHJvdyh0aHJvd0Vycikge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0aHJvd0VycjtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVRdWV1ZS5zcGxpY2UoMCwgd3JpdGVRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgbmV4dFByb21pc2UgaXMgYWx3YXlzIHJlc29sdmVkLlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIHJlamVjdCBhbGwgcGVuZGluZyB3cml0ZXMuXG4gICAgICAgICAgICAgICAgICAgIG5leHRSZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgZHJhaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXR1cm4oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlUXVldWUuc3BsaWNlKDAsIHdyaXRlUXVldWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSBvbmNlIGZvciB0aGUgd3JpdGUgYXdhaXRpbmcgY29uZmlybWF0aW9uLlxuICAgICAgICAgICAgICAgICAgICBuZXh0UmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWplY3QgYWxsIGZ1dHVyZSB3cml0ZXMuXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiY2Fubm90IHdyaXRlLCBjb25zdW1lciBjYWxsZWQgcmV0dXJuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb21pc2UuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgdGhlIG5leHRQcm9taXNlIGlzIGFsd2F5cyByZXNvbHZlZC5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRyYWluKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhbiBhc3luY2hyb25vdXMgaXRlcmFibGUgZnJvbSBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXF1aXJlLWF3YWl0XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNJdGVyYWJsZShpdGVtcykge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIGNyZWF0ZUFzeW5jSXRlcmFibGVfMSgpIHtcbiAgICAgICAgeWllbGQgX19hd2FpdCh5aWVsZCogX19hc3luY0RlbGVnYXRvcihfX2FzeW5jVmFsdWVzKGl0ZW1zKSkpO1xuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/async-iterable.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compressedFlag: () => (/* binding */ compressedFlag),\n/* harmony export */   compressionNegotiate: () => (/* binding */ compressionNegotiate)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * compressedFlag indicates that the data in a EnvelopedMessage is\n * compressed. It has the same meaning in the gRPC-Web, gRPC-HTTP2,\n * and Connect protocols.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst compressedFlag = 0b00000001;\n/**\n * Validates the request encoding and determines the accepted response encoding.\n *\n * Returns the request and response compression to use. If the client requested\n * an encoding that is not available, the returned object contains an error that\n * must be used for the response.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction compressionNegotiate(available, requested, // e.g. the value of the Grpc-Encoding header\naccepted, // e.g. the value of the Grpc-Accept-Encoding header\nheaderNameAcceptEncoding) {\n    let request = null;\n    let response = null;\n    let error = undefined;\n    if (requested !== null && requested !== \"identity\") {\n        const found = available.find((c) => c.name === requested);\n        if (found) {\n            request = found;\n        }\n        else {\n            // To comply with https://github.com/grpc/grpc/blob/master/doc/compression.md\n            // and the Connect protocol, we return code \"unimplemented\" and specify\n            // acceptable compression(s).\n            const acceptable = available.map((c) => c.name).join(\",\");\n            error = new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`unknown compression \"${requested}\": supported encodings are ${acceptable}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Unimplemented, {\n                [headerNameAcceptEncoding]: acceptable,\n            });\n        }\n    }\n    if (accepted === null || accepted === \"\") {\n        // Support asymmetric compression. This logic follows\n        // https://github.com/grpc/grpc/blob/master/doc/compression.md and common\n        // sense.\n        response = request;\n    }\n    else {\n        const acceptNames = accepted.split(\",\").map((n) => n.trim());\n        for (const name of acceptNames) {\n            const found = available.find((c) => c.name === name);\n            if (found) {\n                response = found;\n                break;\n            }\n        }\n    }\n    return { request, response, error };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvY29tcHJlc3Npb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ21EO0FBQ2pCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyREFBWSx5QkFBeUIsVUFBVSw2QkFBNkIsV0FBVyxHQUFHLDBDQUFJO0FBQ3RIO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sXFxjb21wcmVzc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuLyoqXG4gKiBjb21wcmVzc2VkRmxhZyBpbmRpY2F0ZXMgdGhhdCB0aGUgZGF0YSBpbiBhIEVudmVsb3BlZE1lc3NhZ2UgaXNcbiAqIGNvbXByZXNzZWQuIEl0IGhhcyB0aGUgc2FtZSBtZWFuaW5nIGluIHRoZSBnUlBDLVdlYiwgZ1JQQy1IVFRQMixcbiAqIGFuZCBDb25uZWN0IHByb3RvY29scy5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXByZXNzZWRGbGFnID0gMGIwMDAwMDAwMTtcbi8qKlxuICogVmFsaWRhdGVzIHRoZSByZXF1ZXN0IGVuY29kaW5nIGFuZCBkZXRlcm1pbmVzIHRoZSBhY2NlcHRlZCByZXNwb25zZSBlbmNvZGluZy5cbiAqXG4gKiBSZXR1cm5zIHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZSBjb21wcmVzc2lvbiB0byB1c2UuIElmIHRoZSBjbGllbnQgcmVxdWVzdGVkXG4gKiBhbiBlbmNvZGluZyB0aGF0IGlzIG5vdCBhdmFpbGFibGUsIHRoZSByZXR1cm5lZCBvYmplY3QgY29udGFpbnMgYW4gZXJyb3IgdGhhdFxuICogbXVzdCBiZSB1c2VkIGZvciB0aGUgcmVzcG9uc2UuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wcmVzc2lvbk5lZ290aWF0ZShhdmFpbGFibGUsIHJlcXVlc3RlZCwgLy8gZS5nLiB0aGUgdmFsdWUgb2YgdGhlIEdycGMtRW5jb2RpbmcgaGVhZGVyXG5hY2NlcHRlZCwgLy8gZS5nLiB0aGUgdmFsdWUgb2YgdGhlIEdycGMtQWNjZXB0LUVuY29kaW5nIGhlYWRlclxuaGVhZGVyTmFtZUFjY2VwdEVuY29kaW5nKSB7XG4gICAgbGV0IHJlcXVlc3QgPSBudWxsO1xuICAgIGxldCByZXNwb25zZSA9IG51bGw7XG4gICAgbGV0IGVycm9yID0gdW5kZWZpbmVkO1xuICAgIGlmIChyZXF1ZXN0ZWQgIT09IG51bGwgJiYgcmVxdWVzdGVkICE9PSBcImlkZW50aXR5XCIpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBhdmFpbGFibGUuZmluZCgoYykgPT4gYy5uYW1lID09PSByZXF1ZXN0ZWQpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJlcXVlc3QgPSBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRvIGNvbXBseSB3aXRoIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL2NvbXByZXNzaW9uLm1kXG4gICAgICAgICAgICAvLyBhbmQgdGhlIENvbm5lY3QgcHJvdG9jb2wsIHdlIHJldHVybiBjb2RlIFwidW5pbXBsZW1lbnRlZFwiIGFuZCBzcGVjaWZ5XG4gICAgICAgICAgICAvLyBhY2NlcHRhYmxlIGNvbXByZXNzaW9uKHMpLlxuICAgICAgICAgICAgY29uc3QgYWNjZXB0YWJsZSA9IGF2YWlsYWJsZS5tYXAoKGMpID0+IGMubmFtZSkuam9pbihcIixcIik7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBDb25uZWN0RXJyb3IoYHVua25vd24gY29tcHJlc3Npb24gXCIke3JlcXVlc3RlZH1cIjogc3VwcG9ydGVkIGVuY29kaW5ncyBhcmUgJHthY2NlcHRhYmxlfWAsIENvZGUuVW5pbXBsZW1lbnRlZCwge1xuICAgICAgICAgICAgICAgIFtoZWFkZXJOYW1lQWNjZXB0RW5jb2RpbmddOiBhY2NlcHRhYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFjY2VwdGVkID09PSBudWxsIHx8IGFjY2VwdGVkID09PSBcIlwiKSB7XG4gICAgICAgIC8vIFN1cHBvcnQgYXN5bW1ldHJpYyBjb21wcmVzc2lvbi4gVGhpcyBsb2dpYyBmb2xsb3dzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL2NvbXByZXNzaW9uLm1kIGFuZCBjb21tb25cbiAgICAgICAgLy8gc2Vuc2UuXG4gICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGFjY2VwdE5hbWVzID0gYWNjZXB0ZWQuc3BsaXQoXCIsXCIpLm1hcCgobikgPT4gbi50cmltKCkpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgYWNjZXB0TmFtZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYXZhaWxhYmxlLmZpbmQoKGMpID0+IGMubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGZvdW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHJlcXVlc3QsIHJlc3BvbnNlLCBlcnJvciB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentTypeMatcher: () => (/* binding */ contentTypeMatcher)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nconst contentTypeMatcherCacheSize = 1024;\n/**\n * Create a function that returns true if the given mime type is supported.\n * A mime type is supported when one of the regular expressions match.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction contentTypeMatcher(...supported) {\n    const cache = new Map();\n    const source = supported.reduce((previousValue, currentValue) => previousValue.concat(\"supported\" in currentValue ? currentValue.supported : currentValue), []);\n    function match(contentType) {\n        if (contentType === null || contentType.length == 0) {\n            return false;\n        }\n        const cached = cache.get(contentType);\n        if (cached !== undefined) {\n            return cached;\n        }\n        const ok = source.some((re) => re.test(contentType));\n        if (cache.size < contentTypeMatcherCacheSize) {\n            cache.set(contentType, ok);\n        }\n        return ok;\n    }\n    match.supported = source;\n    return match;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvY29udGVudC10eXBlLW1hdGNoZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXGNvbnRlbnQtdHlwZS1tYXRjaGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5jb25zdCBjb250ZW50VHlwZU1hdGNoZXJDYWNoZVNpemUgPSAxMDI0O1xuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbWltZSB0eXBlIGlzIHN1cHBvcnRlZC5cbiAqIEEgbWltZSB0eXBlIGlzIHN1cHBvcnRlZCB3aGVuIG9uZSBvZiB0aGUgcmVndWxhciBleHByZXNzaW9ucyBtYXRjaC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUeXBlTWF0Y2hlciguLi5zdXBwb3J0ZWQpIHtcbiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBzb3VyY2UgPSBzdXBwb3J0ZWQucmVkdWNlKChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUpID0+IHByZXZpb3VzVmFsdWUuY29uY2F0KFwic3VwcG9ydGVkXCIgaW4gY3VycmVudFZhbHVlID8gY3VycmVudFZhbHVlLnN1cHBvcnRlZCA6IGN1cnJlbnRWYWx1ZSksIFtdKTtcbiAgICBmdW5jdGlvbiBtYXRjaChjb250ZW50VHlwZSkge1xuICAgICAgICBpZiAoY29udGVudFR5cGUgPT09IG51bGwgfHwgY29udGVudFR5cGUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29udGVudFR5cGUpO1xuICAgICAgICBpZiAoY2FjaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2sgPSBzb3VyY2Uuc29tZSgocmUpID0+IHJlLnRlc3QoY29udGVudFR5cGUpKTtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPCBjb250ZW50VHlwZU1hdGNoZXJDYWNoZVNpemUpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChjb250ZW50VHlwZSwgb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvaztcbiAgICB9XG4gICAgbWF0Y2guc3VwcG9ydGVkID0gc291cmNlO1xuICAgIHJldHVybiBtYXRjaDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMethodUrl: () => (/* binding */ createMethodUrl)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Create a URL for the given RPC. This simply adds the qualified\n * service name, a slash, and the method name to the path of the given\n * baseUrl.\n *\n * For example, the baseUri https://example.com and method \"Say\" from\n * the service example.ElizaService results in:\n * https://example.com/example.ElizaService/Say\n *\n * This format is used by the protocols Connect, gRPC and Twirp.\n *\n * Note that this function also accepts a protocol-relative baseUrl.\n * If given an empty string or \"/\" as a baseUrl, it returns just the\n * path.\n */\nfunction createMethodUrl(baseUrl, service, method) {\n    const s = typeof service == \"string\" ? service : service.typeName;\n    const m = typeof method == \"string\" ? method : method.name;\n    return baseUrl.toString().replace(/\\/?$/, `/${s}/${m}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvY3JlYXRlLW1ldGhvZC11cmwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0RBQWtELEVBQUUsR0FBRyxFQUFFO0FBQ3pEIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXGNyZWF0ZS1tZXRob2QtdXJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIENyZWF0ZSBhIFVSTCBmb3IgdGhlIGdpdmVuIFJQQy4gVGhpcyBzaW1wbHkgYWRkcyB0aGUgcXVhbGlmaWVkXG4gKiBzZXJ2aWNlIG5hbWUsIGEgc2xhc2gsIGFuZCB0aGUgbWV0aG9kIG5hbWUgdG8gdGhlIHBhdGggb2YgdGhlIGdpdmVuXG4gKiBiYXNlVXJsLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGUgYmFzZVVyaSBodHRwczovL2V4YW1wbGUuY29tIGFuZCBtZXRob2QgXCJTYXlcIiBmcm9tXG4gKiB0aGUgc2VydmljZSBleGFtcGxlLkVsaXphU2VydmljZSByZXN1bHRzIGluOlxuICogaHR0cHM6Ly9leGFtcGxlLmNvbS9leGFtcGxlLkVsaXphU2VydmljZS9TYXlcbiAqXG4gKiBUaGlzIGZvcm1hdCBpcyB1c2VkIGJ5IHRoZSBwcm90b2NvbHMgQ29ubmVjdCwgZ1JQQyBhbmQgVHdpcnAuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIGEgcHJvdG9jb2wtcmVsYXRpdmUgYmFzZVVybC5cbiAqIElmIGdpdmVuIGFuIGVtcHR5IHN0cmluZyBvciBcIi9cIiBhcyBhIGJhc2VVcmwsIGl0IHJldHVybnMganVzdCB0aGVcbiAqIHBhdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZXRob2RVcmwoYmFzZVVybCwgc2VydmljZSwgbWV0aG9kKSB7XG4gICAgY29uc3QgcyA9IHR5cGVvZiBzZXJ2aWNlID09IFwic3RyaW5nXCIgPyBzZXJ2aWNlIDogc2VydmljZS50eXBlTmFtZTtcbiAgICBjb25zdCBtID0gdHlwZW9mIG1ldGhvZCA9PSBcInN0cmluZ1wiID8gbWV0aG9kIDogbWV0aG9kLm5hbWU7XG4gICAgcmV0dXJuIGJhc2VVcmwudG9TdHJpbmcoKS5yZXBsYWNlKC9cXC8/JC8sIGAvJHtzfS8ke219YCk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/create-method-url.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/envelope.js":
/*!************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/envelope.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEnvelopeReadableStream: () => (/* binding */ createEnvelopeReadableStream),\n/* harmony export */   encodeEnvelope: () => (/* binding */ encodeEnvelope),\n/* harmony export */   encodeEnvelopes: () => (/* binding */ encodeEnvelopes),\n/* harmony export */   envelopeCompress: () => (/* binding */ envelopeCompress),\n/* harmony export */   envelopeDecompress: () => (/* binding */ envelopeDecompress)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _compression_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compression.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/compression.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Create a WHATWG ReadableStream of enveloped messages from a ReadableStream\n * of bytes.\n *\n * Ideally, this would simply be a TransformStream, but ReadableStream.pipeThrough\n * does not have the necessary availability at this time.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createEnvelopeReadableStream(stream) {\n    let reader;\n    let buffer = new Uint8Array(0);\n    function append(chunk) {\n        const n = new Uint8Array(buffer.length + chunk.length);\n        n.set(buffer);\n        n.set(chunk, buffer.length);\n        buffer = n;\n    }\n    return new ReadableStream({\n        start() {\n            reader = stream.getReader();\n        },\n        async pull(controller) {\n            let header = undefined;\n            for (;;) {\n                if (header === undefined && buffer.byteLength >= 5) {\n                    let length = 0;\n                    for (let i = 1; i < 5; i++) {\n                        length = (length << 8) + buffer[i];\n                    }\n                    header = { flags: buffer[0], length };\n                }\n                if (header !== undefined && buffer.byteLength >= header.length + 5) {\n                    break;\n                }\n                const result = await reader.read();\n                if (result.done) {\n                    break;\n                }\n                append(result.value);\n            }\n            if (header === undefined) {\n                if (buffer.byteLength == 0) {\n                    controller.close();\n                    return;\n                }\n                controller.error(new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"premature end of stream\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.DataLoss));\n                return;\n            }\n            const data = buffer.subarray(5, 5 + header.length);\n            buffer = buffer.subarray(5 + header.length);\n            controller.enqueue({\n                flags: header.flags,\n                data,\n            });\n        },\n    });\n}\n/**\n * Compress an EnvelopedMessage.\n *\n * Raises Internal if an enveloped message is already compressed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nasync function envelopeCompress(envelope, compression, compressMinBytes) {\n    let { flags, data } = envelope;\n    if ((flags & _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag) === _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"invalid envelope, already compressed\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Internal);\n    }\n    if (compression && data.byteLength >= compressMinBytes) {\n        data = await compression.compress(data);\n        flags = flags | _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag;\n    }\n    return { data, flags };\n}\n/**\n * Decompress an EnvelopedMessage.\n *\n * Raises InvalidArgument if an envelope is compressed, but compression is null.\n *\n * Relies on the provided Compression to raise ResourceExhausted if the\n * *decompressed* message size is larger than readMaxBytes. If the envelope is\n * not compressed, readMaxBytes is not honored.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nasync function envelopeDecompress(envelope, compression, readMaxBytes) {\n    let { flags, data } = envelope;\n    if ((flags & _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag) === _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag) {\n        if (!compression) {\n            throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"received compressed envelope, but do not know how to decompress\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Internal);\n        }\n        data = await compression.decompress(data, readMaxBytes);\n        flags = flags ^ _compression_js__WEBPACK_IMPORTED_MODULE_2__.compressedFlag;\n    }\n    return { data, flags };\n}\n/**\n * Encode a single enveloped message.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction encodeEnvelope(flags, data) {\n    const bytes = new Uint8Array(data.length + 5);\n    bytes.set(data, 5);\n    const v = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n    v.setUint8(0, flags); // first byte is flags\n    v.setUint32(1, data.length); // 4 bytes message length\n    return bytes;\n}\n/**\n * Encode a set of enveloped messages.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction encodeEnvelopes(...envelopes) {\n    const len = envelopes.reduce((previousValue, currentValue) => previousValue + currentValue.data.length + 5, 0);\n    const bytes = new Uint8Array(len);\n    const v = new DataView(bytes.buffer);\n    let offset = 0;\n    for (const e of envelopes) {\n        v.setUint8(offset, e.flags); // first byte is flags\n        v.setUint32(offset + 1, e.data.length); // 4 bytes message length\n        bytes.set(e.data, offset + 5);\n        offset += e.data.length + 5;\n    }\n    return bytes;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvZW52ZWxvcGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNtRDtBQUNqQjtBQUNnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMkRBQVksNEJBQTRCLDBDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsVUFBVSxjQUFjO0FBQ3hCLGlCQUFpQiwyREFBYyxNQUFNLDJEQUFjO0FBQ25ELGtCQUFrQiwyREFBWSx5Q0FBeUMsMENBQUk7QUFDM0U7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJEQUFjO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsVUFBVSxjQUFjO0FBQ3hCLGlCQUFpQiwyREFBYyxNQUFNLDJEQUFjO0FBQ25EO0FBQ0Esc0JBQXNCLDJEQUFZLG9FQUFvRSwwQ0FBSTtBQUMxRztBQUNBO0FBQ0Esd0JBQXdCLDJEQUFjO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sXFxlbnZlbG9wZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgY29tcHJlc3NlZEZsYWcgfSBmcm9tIFwiLi9jb21wcmVzc2lvbi5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYSBXSEFUV0cgUmVhZGFibGVTdHJlYW0gb2YgZW52ZWxvcGVkIG1lc3NhZ2VzIGZyb20gYSBSZWFkYWJsZVN0cmVhbVxuICogb2YgYnl0ZXMuXG4gKlxuICogSWRlYWxseSwgdGhpcyB3b3VsZCBzaW1wbHkgYmUgYSBUcmFuc2Zvcm1TdHJlYW0sIGJ1dCBSZWFkYWJsZVN0cmVhbS5waXBlVGhyb3VnaFxuICogZG9lcyBub3QgaGF2ZSB0aGUgbmVjZXNzYXJ5IGF2YWlsYWJpbGl0eSBhdCB0aGlzIHRpbWUuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbnZlbG9wZVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgIGxldCByZWFkZXI7XG4gICAgbGV0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgIGZ1bmN0aW9uIGFwcGVuZChjaHVuaykge1xuICAgICAgICBjb25zdCBuID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG4gICAgICAgIG4uc2V0KGJ1ZmZlcik7XG4gICAgICAgIG4uc2V0KGNodW5rLCBidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgYnVmZmVyID0gbjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlciA9PT0gdW5kZWZpbmVkICYmIGJ1ZmZlci5ieXRlTGVuZ3RoID49IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSAobGVuZ3RoIDw8IDgpICsgYnVmZmVyW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IHsgZmxhZ3M6IGJ1ZmZlclswXSwgbGVuZ3RoIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIgIT09IHVuZGVmaW5lZCAmJiBidWZmZXIuYnl0ZUxlbmd0aCA+PSBoZWFkZXIubGVuZ3RoICsgNSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGVuZChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IobmV3IENvbm5lY3RFcnJvcihcInByZW1hdHVyZSBlbmQgb2Ygc3RyZWFtXCIsIENvZGUuRGF0YUxvc3MpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYnVmZmVyLnN1YmFycmF5KDUsIDUgKyBoZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheSg1ICsgaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIGZsYWdzOiBoZWFkZXIuZmxhZ3MsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBDb21wcmVzcyBhbiBFbnZlbG9wZWRNZXNzYWdlLlxuICpcbiAqIFJhaXNlcyBJbnRlcm5hbCBpZiBhbiBlbnZlbG9wZWQgbWVzc2FnZSBpcyBhbHJlYWR5IGNvbXByZXNzZWQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnZlbG9wZUNvbXByZXNzKGVudmVsb3BlLCBjb21wcmVzc2lvbiwgY29tcHJlc3NNaW5CeXRlcykge1xuICAgIGxldCB7IGZsYWdzLCBkYXRhIH0gPSBlbnZlbG9wZTtcbiAgICBpZiAoKGZsYWdzICYgY29tcHJlc3NlZEZsYWcpID09PSBjb21wcmVzc2VkRmxhZykge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKFwiaW52YWxpZCBlbnZlbG9wZSwgYWxyZWFkeSBjb21wcmVzc2VkXCIsIENvZGUuSW50ZXJuYWwpO1xuICAgIH1cbiAgICBpZiAoY29tcHJlc3Npb24gJiYgZGF0YS5ieXRlTGVuZ3RoID49IGNvbXByZXNzTWluQnl0ZXMpIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IGNvbXByZXNzaW9uLmNvbXByZXNzKGRhdGEpO1xuICAgICAgICBmbGFncyA9IGZsYWdzIHwgY29tcHJlc3NlZEZsYWc7XG4gICAgfVxuICAgIHJldHVybiB7IGRhdGEsIGZsYWdzIH07XG59XG4vKipcbiAqIERlY29tcHJlc3MgYW4gRW52ZWxvcGVkTWVzc2FnZS5cbiAqXG4gKiBSYWlzZXMgSW52YWxpZEFyZ3VtZW50IGlmIGFuIGVudmVsb3BlIGlzIGNvbXByZXNzZWQsIGJ1dCBjb21wcmVzc2lvbiBpcyBudWxsLlxuICpcbiAqIFJlbGllcyBvbiB0aGUgcHJvdmlkZWQgQ29tcHJlc3Npb24gdG8gcmFpc2UgUmVzb3VyY2VFeGhhdXN0ZWQgaWYgdGhlXG4gKiAqZGVjb21wcmVzc2VkKiBtZXNzYWdlIHNpemUgaXMgbGFyZ2VyIHRoYW4gcmVhZE1heEJ5dGVzLiBJZiB0aGUgZW52ZWxvcGUgaXNcbiAqIG5vdCBjb21wcmVzc2VkLCByZWFkTWF4Qnl0ZXMgaXMgbm90IGhvbm9yZWQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnZlbG9wZURlY29tcHJlc3MoZW52ZWxvcGUsIGNvbXByZXNzaW9uLCByZWFkTWF4Qnl0ZXMpIHtcbiAgICBsZXQgeyBmbGFncywgZGF0YSB9ID0gZW52ZWxvcGU7XG4gICAgaWYgKChmbGFncyAmIGNvbXByZXNzZWRGbGFnKSA9PT0gY29tcHJlc3NlZEZsYWcpIHtcbiAgICAgICAgaWYgKCFjb21wcmVzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInJlY2VpdmVkIGNvbXByZXNzZWQgZW52ZWxvcGUsIGJ1dCBkbyBub3Qga25vdyBob3cgdG8gZGVjb21wcmVzc1wiLCBDb2RlLkludGVybmFsKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gYXdhaXQgY29tcHJlc3Npb24uZGVjb21wcmVzcyhkYXRhLCByZWFkTWF4Qnl0ZXMpO1xuICAgICAgICBmbGFncyA9IGZsYWdzIF4gY29tcHJlc3NlZEZsYWc7XG4gICAgfVxuICAgIHJldHVybiB7IGRhdGEsIGZsYWdzIH07XG59XG4vKipcbiAqIEVuY29kZSBhIHNpbmdsZSBlbnZlbG9wZWQgbWVzc2FnZS5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUVudmVsb3BlKGZsYWdzLCBkYXRhKSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIDUpO1xuICAgIGJ5dGVzLnNldChkYXRhLCA1KTtcbiAgICBjb25zdCB2ID0gbmV3IERhdGFWaWV3KGJ5dGVzLmJ1ZmZlciwgYnl0ZXMuYnl0ZU9mZnNldCwgYnl0ZXMuYnl0ZUxlbmd0aCk7XG4gICAgdi5zZXRVaW50OCgwLCBmbGFncyk7IC8vIGZpcnN0IGJ5dGUgaXMgZmxhZ3NcbiAgICB2LnNldFVpbnQzMigxLCBkYXRhLmxlbmd0aCk7IC8vIDQgYnl0ZXMgbWVzc2FnZSBsZW5ndGhcbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vKipcbiAqIEVuY29kZSBhIHNldCBvZiBlbnZlbG9wZWQgbWVzc2FnZXMuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVFbnZlbG9wZXMoLi4uZW52ZWxvcGVzKSB7XG4gICAgY29uc3QgbGVuID0gZW52ZWxvcGVzLnJlZHVjZSgocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKSA9PiBwcmV2aW91c1ZhbHVlICsgY3VycmVudFZhbHVlLmRhdGEubGVuZ3RoICsgNSwgMCk7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIGNvbnN0IHYgPSBuZXcgRGF0YVZpZXcoYnl0ZXMuYnVmZmVyKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGNvbnN0IGUgb2YgZW52ZWxvcGVzKSB7XG4gICAgICAgIHYuc2V0VWludDgob2Zmc2V0LCBlLmZsYWdzKTsgLy8gZmlyc3QgYnl0ZSBpcyBmbGFnc1xuICAgICAgICB2LnNldFVpbnQzMihvZmZzZXQgKyAxLCBlLmRhdGEubGVuZ3RoKTsgLy8gNCBieXRlcyBtZXNzYWdlIGxlbmd0aFxuICAgICAgICBieXRlcy5zZXQoZS5kYXRhLCBvZmZzZXQgKyA1KTtcbiAgICAgICAgb2Zmc2V0ICs9IGUuZGF0YS5sZW5ndGggKyA1O1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/envelope.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invokeUnaryImplementation: () => (/* binding */ invokeUnaryImplementation),\n/* harmony export */   transformInvokeImplementation: () => (/* binding */ transformInvokeImplementation)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _normalize_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./normalize.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/normalize.js\");\n/* harmony import */ var _interceptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interceptor.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/interceptor.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __await = (undefined && undefined.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (undefined && undefined.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nvar __asyncValues = (undefined && undefined.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __asyncDelegator = (undefined && undefined.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\n\n\n\n\n\n/**\n * Invoke a user-provided implementation of a unary RPC. Returns a normalized\n * output message.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nasync function invokeUnaryImplementation(spec, context, input, interceptors) {\n    const anyFn = async (req) => {\n        return {\n            message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(spec.method.O, await spec.impl(req.message, Object.assign(Object.assign({}, context), { service: req.service, method: req.method, requestHeader: req.header, values: req.contextValues, signal: req.signal }))),\n            stream: false,\n            service: req.service,\n            method: req.method,\n            header: context.responseHeader,\n            trailer: context.responseTrailer,\n        };\n    };\n    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.applyInterceptors)(anyFn, interceptors);\n    const { message } = await next({\n        init: {\n            method: context.requestMethod,\n        },\n        message: input,\n        url: context.url,\n        signal: context.signal,\n        service: spec.service,\n        method: spec.method,\n        header: context.requestHeader,\n        contextValues: context.values,\n        stream: false,\n    });\n    return message;\n}\n/**\n * Return an AsyncIterableTransform that invokes a user-provided implementation,\n * giving it input from an asynchronous iterable, and returning its output as an\n * asynchronous iterable.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction transformInvokeImplementation(spec, context, interceptors) {\n    switch (spec.kind) {\n        case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.MethodKind.Unary:\n            return function unary(input) {\n                return __asyncGenerator(this, arguments, function* unary_1() {\n                    const inputIt = input[Symbol.asyncIterator]();\n                    const input1 = yield __await(inputIt.next());\n                    if (input1.done === true) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: missing input message for unary method\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n                    }\n                    const anyFn = async (req) => {\n                        return {\n                            message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(spec.method.O, await spec.impl(req.message, Object.assign(Object.assign({}, context), { service: req.service, method: req.method, requestHeader: req.header, values: req.contextValues, signal: req.signal }))),\n                            stream: false,\n                            service: req.service,\n                            method: req.method,\n                            header: context.responseHeader,\n                            trailer: context.responseTrailer,\n                        };\n                    };\n                    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.applyInterceptors)(anyFn, interceptors);\n                    const { message, header, trailer } = yield __await(next({\n                        init: {\n                            method: context.requestMethod,\n                        },\n                        message: input1.value,\n                        url: context.url,\n                        signal: context.signal,\n                        service: spec.service,\n                        method: spec.method,\n                        header: context.requestHeader,\n                        contextValues: context.values,\n                        stream: false,\n                    }));\n                    copyHeaders(header, context.responseHeader);\n                    copyHeaders(trailer, context.responseTrailer);\n                    yield yield __await(message);\n                    const input2 = yield __await(inputIt.next());\n                    if (input2.done !== true) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: received extra input message for unary method\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n                    }\n                });\n            };\n        case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.MethodKind.ServerStreaming: {\n            return function serverStreaming(input) {\n                return __asyncGenerator(this, arguments, function* serverStreaming_1() {\n                    const inputIt = input[Symbol.asyncIterator]();\n                    const input1 = yield __await(inputIt.next());\n                    if (input1.done === true) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: missing input message for server-streaming method\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n                    }\n                    const anyFn = async (req) => {\n                        return {\n                            message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_0__.normalizeIterable)(spec.method.O, spec.impl(req.message, Object.assign(Object.assign({}, context), { service: req.service, method: req.method, requestHeader: req.header, values: req.contextValues, signal: req.signal }))),\n                            stream: true,\n                            service: req.service,\n                            method: req.method,\n                            header: context.responseHeader,\n                            trailer: context.responseTrailer,\n                        };\n                    };\n                    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.applyInterceptors)(anyFn, interceptors);\n                    const { message, header, trailer } = yield __await(next({\n                        init: {\n                            method: context.requestMethod,\n                        },\n                        message: input1.value,\n                        url: context.url,\n                        signal: context.signal,\n                        service: spec.service,\n                        method: spec.method,\n                        header: context.requestHeader,\n                        contextValues: context.values,\n                        stream: false,\n                    }));\n                    copyHeaders(header, context.responseHeader);\n                    copyHeaders(trailer, context.responseTrailer);\n                    yield __await(yield* __asyncDelegator(__asyncValues(message)));\n                    const input2 = yield __await(inputIt.next());\n                    if (input2.done !== true) {\n                        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError(\"protocol error: received extra input message for server-streaming method\", _code_js__WEBPACK_IMPORTED_MODULE_4__.Code.Unimplemented);\n                    }\n                });\n            };\n        }\n        case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.MethodKind.ClientStreaming: {\n            return function clientStreaming(input) {\n                return __asyncGenerator(this, arguments, function* clientStreaming_1() {\n                    const anyFn = async (req) => {\n                        return {\n                            message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(spec.method.O, await spec.impl(req.message, Object.assign(Object.assign({}, context), { service: req.service, method: req.method, requestHeader: req.header, values: req.contextValues, signal: req.signal }))),\n                            stream: false,\n                            service: req.service,\n                            method: req.method,\n                            header: context.responseHeader,\n                            trailer: context.responseTrailer,\n                        };\n                    };\n                    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.applyInterceptors)(anyFn, interceptors);\n                    const { message, header, trailer } = yield __await(next({\n                        init: {\n                            method: context.requestMethod,\n                        },\n                        message: input,\n                        url: context.url,\n                        signal: context.signal,\n                        service: spec.service,\n                        method: spec.method,\n                        header: context.requestHeader,\n                        contextValues: context.values,\n                        stream: true,\n                    }));\n                    copyHeaders(header, context.responseHeader);\n                    copyHeaders(trailer, context.responseTrailer);\n                    yield yield __await(message);\n                });\n            };\n        }\n        case _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_2__.MethodKind.BiDiStreaming:\n            return function biDiStreaming(input) {\n                return __asyncGenerator(this, arguments, function* biDiStreaming_1() {\n                    const anyFn = async (req) => {\n                        return {\n                            message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_0__.normalizeIterable)(spec.method.O, spec.impl(req.message, Object.assign(Object.assign({}, context), { service: req.service, method: req.method, requestHeader: req.header, values: req.contextValues, signal: req.signal }))),\n                            stream: true,\n                            service: req.service,\n                            method: req.method,\n                            header: context.responseHeader,\n                            trailer: context.responseTrailer,\n                        };\n                    };\n                    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_1__.applyInterceptors)(anyFn, interceptors);\n                    const { message, header, trailer } = yield __await(next({\n                        init: {\n                            method: context.requestMethod,\n                        },\n                        message: input,\n                        url: context.url,\n                        signal: context.signal,\n                        service: spec.service,\n                        method: spec.method,\n                        header: context.requestHeader,\n                        contextValues: context.values,\n                        stream: true,\n                    }));\n                    copyHeaders(header, context.responseHeader);\n                    copyHeaders(trailer, context.responseTrailer);\n                    yield __await(yield* __asyncDelegator(__asyncValues(message)));\n                });\n            };\n    }\n}\nfunction copyHeaders(from, to) {\n    if (from === to) {\n        return;\n    }\n    to.forEach((_, key) => {\n        to.delete(key);\n    });\n    from.forEach((value, key) => {\n        to.set(key, value);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvaW52b2tlLWltcGxlbWVudGF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBSSxJQUFJLFNBQUksNEJBQTRCO0FBQ3ZELHdCQUF3QixTQUFJLElBQUksU0FBSTtBQUNwQztBQUNBO0FBQ0EsaUJBQWlCLG9HQUFvRyxjQUFjO0FBQ25JLDhCQUE4QixzQkFBc0I7QUFDcEQsMEJBQTBCLFlBQVksc0JBQXNCLHFDQUFxQywyQ0FBMkMsTUFBTTtBQUNsSiw0QkFBNEIsTUFBTSxpQkFBaUIsWUFBWTtBQUMvRCx1QkFBdUI7QUFDdkIsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUI7QUFDQSxxQkFBcUIsU0FBSSxJQUFJLFNBQUk7QUFDakM7QUFDQTtBQUNBLDJHQUEyRyx1RkFBdUYsY0FBYztBQUNoTix1QkFBdUIsOEJBQThCLGdEQUFnRCx3REFBd0Q7QUFDN0osNkNBQTZDLHNDQUFzQyxVQUFVLG1CQUFtQixJQUFJO0FBQ3BIO0FBQ0Esd0JBQXdCLFNBQUksSUFBSSxTQUFJO0FBQ3BDO0FBQ0EsaUJBQWlCLDZDQUE2QyxVQUFVLHNEQUFzRCxjQUFjO0FBQzVJLDBCQUEwQiw2QkFBNkIsb0JBQW9CLHVDQUF1QyxrQkFBa0I7QUFDcEk7QUFDeUQ7QUFDTjtBQUNqQjtBQUM0QjtBQUNSO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQix3REFBUywyRUFBMkUsY0FBYyxvSEFBb0g7QUFDM087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0VBQWlCO0FBQ2xDLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGFBQWEsMERBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyREFBWSwyREFBMkQsMENBQUk7QUFDN0c7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHdEQUFTLDJFQUEyRSxjQUFjLG9IQUFvSDtBQUMzUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrRUFBaUI7QUFDbEQsNEJBQTRCLDJCQUEyQjtBQUN2RDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyREFBWSxrRUFBa0UsMENBQUk7QUFDcEg7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhLDBEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQVksc0VBQXNFLDBDQUFJO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnRUFBaUIscUVBQXFFLGNBQWMsb0hBQW9IO0FBQzdQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtFQUFpQjtBQUNsRCw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJEQUFZLDZFQUE2RSwwQ0FBSTtBQUMvSDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYSwwREFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3REFBUywyRUFBMkUsY0FBYyxvSEFBb0g7QUFDM1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0VBQWlCO0FBQ2xELDRCQUE0QiwyQkFBMkI7QUFDdkQ7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYSwwREFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnRUFBaUIscUVBQXFFLGNBQWMsb0hBQW9IO0FBQzdQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtFQUFpQjtBQUNsRCw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbFxcaW52b2tlLWltcGxlbWVudGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG52YXIgX19hd2FpdCA9ICh0aGlzICYmIHRoaXMuX19hd2FpdCkgfHwgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7IH1cbnZhciBfX2FzeW5jR2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jR2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX2FzeW5jRGVsZWdhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jRGVsZWdhdG9yKSB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBpLCBwO1xuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn07XG5pbXBvcnQgeyBNZXNzYWdlLCBNZXRob2RLaW5kIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1ZlwiO1xuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplLCBub3JtYWxpemVJdGVyYWJsZSB9IGZyb20gXCIuL25vcm1hbGl6ZS5qc1wiO1xuaW1wb3J0IHsgYXBwbHlJbnRlcmNlcHRvcnMgfSBmcm9tIFwiLi4vaW50ZXJjZXB0b3IuanNcIjtcbi8qKlxuICogSW52b2tlIGEgdXNlci1wcm92aWRlZCBpbXBsZW1lbnRhdGlvbiBvZiBhIHVuYXJ5IFJQQy4gUmV0dXJucyBhIG5vcm1hbGl6ZWRcbiAqIG91dHB1dCBtZXNzYWdlLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW52b2tlVW5hcnlJbXBsZW1lbnRhdGlvbihzcGVjLCBjb250ZXh0LCBpbnB1dCwgaW50ZXJjZXB0b3JzKSB7XG4gICAgY29uc3QgYW55Rm4gPSBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBub3JtYWxpemUoc3BlYy5tZXRob2QuTywgYXdhaXQgc3BlYy5pbXBsKHJlcS5tZXNzYWdlLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQpLCB7IHNlcnZpY2U6IHJlcS5zZXJ2aWNlLCBtZXRob2Q6IHJlcS5tZXRob2QsIHJlcXVlc3RIZWFkZXI6IHJlcS5oZWFkZXIsIHZhbHVlczogcmVxLmNvbnRleHRWYWx1ZXMsIHNpZ25hbDogcmVxLnNpZ25hbCB9KSkpLFxuICAgICAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHJlcS5zZXJ2aWNlLFxuICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyOiBjb250ZXh0LnJlc3BvbnNlSGVhZGVyLFxuICAgICAgICAgICAgdHJhaWxlcjogY29udGV4dC5yZXNwb25zZVRyYWlsZXIsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBuZXh0ID0gYXBwbHlJbnRlcmNlcHRvcnMoYW55Rm4sIGludGVyY2VwdG9ycyk7XG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSBhd2FpdCBuZXh0KHtcbiAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgbWV0aG9kOiBjb250ZXh0LnJlcXVlc3RNZXRob2QsXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IGlucHV0LFxuICAgICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgICBzaWduYWw6IGNvbnRleHQuc2lnbmFsLFxuICAgICAgICBzZXJ2aWNlOiBzcGVjLnNlcnZpY2UsXG4gICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgIGhlYWRlcjogY29udGV4dC5yZXF1ZXN0SGVhZGVyLFxuICAgICAgICBjb250ZXh0VmFsdWVzOiBjb250ZXh0LnZhbHVlcyxcbiAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8qKlxuICogUmV0dXJuIGFuIEFzeW5jSXRlcmFibGVUcmFuc2Zvcm0gdGhhdCBpbnZva2VzIGEgdXNlci1wcm92aWRlZCBpbXBsZW1lbnRhdGlvbixcbiAqIGdpdmluZyBpdCBpbnB1dCBmcm9tIGFuIGFzeW5jaHJvbm91cyBpdGVyYWJsZSwgYW5kIHJldHVybmluZyBpdHMgb3V0cHV0IGFzIGFuXG4gKiBhc3luY2hyb25vdXMgaXRlcmFibGUuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1JbnZva2VJbXBsZW1lbnRhdGlvbihzcGVjLCBjb250ZXh0LCBpbnRlcmNlcHRvcnMpIHtcbiAgICBzd2l0Y2ggKHNwZWMua2luZCkge1xuICAgICAgICBjYXNlIE1ldGhvZEtpbmQuVW5hcnk6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdW5hcnkoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiB1bmFyeV8xKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEl0ID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0MSA9IHlpZWxkIF9fYXdhaXQoaW5wdXRJdC5uZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQxLmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogbWlzc2luZyBpbnB1dCBtZXNzYWdlIGZvciB1bmFyeSBtZXRob2RcIiwgQ29kZS5VbmltcGxlbWVudGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbnlGbiA9IGFzeW5jIChyZXEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbm9ybWFsaXplKHNwZWMubWV0aG9kLk8sIGF3YWl0IHNwZWMuaW1wbChyZXEubWVzc2FnZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0KSwgeyBzZXJ2aWNlOiByZXEuc2VydmljZSwgbWV0aG9kOiByZXEubWV0aG9kLCByZXF1ZXN0SGVhZGVyOiByZXEuaGVhZGVyLCB2YWx1ZXM6IHJlcS5jb250ZXh0VmFsdWVzLCBzaWduYWw6IHJlcS5zaWduYWwgfSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IHJlcS5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGNvbnRleHQucmVzcG9uc2VIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlcjogY29udGV4dC5yZXNwb25zZVRyYWlsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYXBwbHlJbnRlcmNlcHRvcnMoYW55Rm4sIGludGVyY2VwdG9ycyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgaGVhZGVyLCB0cmFpbGVyIH0gPSB5aWVsZCBfX2F3YWl0KG5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogY29udGV4dC5yZXF1ZXN0TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGlucHV0MS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRleHQuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZTogc3BlYy5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBzcGVjLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogY29udGV4dC5yZXF1ZXN0SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFZhbHVlczogY29udGV4dC52YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKGhlYWRlciwgY29udGV4dC5yZXNwb25zZUhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKHRyYWlsZXIsIGNvbnRleHQucmVzcG9uc2VUcmFpbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXQyID0geWllbGQgX19hd2FpdChpbnB1dEl0Lm5leHQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dDIuZG9uZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcInByb3RvY29sIGVycm9yOiByZWNlaXZlZCBleHRyYSBpbnB1dCBtZXNzYWdlIGZvciB1bmFyeSBtZXRob2RcIiwgQ29kZS5VbmltcGxlbWVudGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBNZXRob2RLaW5kLlNlcnZlclN0cmVhbWluZzoge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNlcnZlclN0cmVhbWluZyhpbnB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIHNlcnZlclN0cmVhbWluZ18xKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEl0ID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0MSA9IHlpZWxkIF9fYXdhaXQoaW5wdXRJdC5uZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQxLmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogbWlzc2luZyBpbnB1dCBtZXNzYWdlIGZvciBzZXJ2ZXItc3RyZWFtaW5nIG1ldGhvZFwiLCBDb2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFueUZuID0gYXN5bmMgKHJlcSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBub3JtYWxpemVJdGVyYWJsZShzcGVjLm1ldGhvZC5PLCBzcGVjLmltcGwocmVxLm1lc3NhZ2UsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dCksIHsgc2VydmljZTogcmVxLnNlcnZpY2UsIG1ldGhvZDogcmVxLm1ldGhvZCwgcmVxdWVzdEhlYWRlcjogcmVxLmhlYWRlciwgdmFsdWVzOiByZXEuY29udGV4dFZhbHVlcywgc2lnbmFsOiByZXEuc2lnbmFsIH0pKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IHJlcS5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGNvbnRleHQucmVzcG9uc2VIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxlcjogY29udGV4dC5yZXNwb25zZVRyYWlsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYXBwbHlJbnRlcmNlcHRvcnMoYW55Rm4sIGludGVyY2VwdG9ycyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgaGVhZGVyLCB0cmFpbGVyIH0gPSB5aWVsZCBfX2F3YWl0KG5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogY29udGV4dC5yZXF1ZXN0TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGlucHV0MS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRleHQuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZTogc3BlYy5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBzcGVjLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogY29udGV4dC5yZXF1ZXN0SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFZhbHVlczogY29udGV4dC52YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKGhlYWRlciwgY29udGV4dC5yZXNwb25zZUhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKHRyYWlsZXIsIGNvbnRleHQucmVzcG9uc2VUcmFpbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19hd2FpdCh5aWVsZCogX19hc3luY0RlbGVnYXRvcihfX2FzeW5jVmFsdWVzKG1lc3NhZ2UpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0MiA9IHlpZWxkIF9fYXdhaXQoaW5wdXRJdC5uZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQyLmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJwcm90b2NvbCBlcnJvcjogcmVjZWl2ZWQgZXh0cmEgaW5wdXQgbWVzc2FnZSBmb3Igc2VydmVyLXN0cmVhbWluZyBtZXRob2RcIiwgQ29kZS5VbmltcGxlbWVudGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIE1ldGhvZEtpbmQuQ2xpZW50U3RyZWFtaW5nOiB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2xpZW50U3RyZWFtaW5nKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogY2xpZW50U3RyZWFtaW5nXzEoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFueUZuID0gYXN5bmMgKHJlcSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBub3JtYWxpemUoc3BlYy5tZXRob2QuTywgYXdhaXQgc3BlYy5pbXBsKHJlcS5tZXNzYWdlLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQpLCB7IHNlcnZpY2U6IHJlcS5zZXJ2aWNlLCBtZXRob2Q6IHJlcS5tZXRob2QsIHJlcXVlc3RIZWFkZXI6IHJlcS5oZWFkZXIsIHZhbHVlczogcmVxLmNvbnRleHRWYWx1ZXMsIHNpZ25hbDogcmVxLnNpZ25hbCB9KSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZTogcmVxLnNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogY29udGV4dC5yZXNwb25zZUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbGVyOiBjb250ZXh0LnJlc3BvbnNlVHJhaWxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBhcHBseUludGVyY2VwdG9ycyhhbnlGbiwgaW50ZXJjZXB0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBoZWFkZXIsIHRyYWlsZXIgfSA9IHlpZWxkIF9fYXdhaXQobmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBjb250ZXh0LnJlcXVlc3RNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBjb250ZXh0LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IHNwZWMuc2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGNvbnRleHQucmVxdWVzdEhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRWYWx1ZXM6IGNvbnRleHQudmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKGhlYWRlciwgY29udGV4dC5yZXNwb25zZUhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKHRyYWlsZXIsIGNvbnRleHQucmVzcG9uc2VUcmFpbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgeWllbGQgX19hd2FpdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBNZXRob2RLaW5kLkJpRGlTdHJlYW1pbmc6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYmlEaVN0cmVhbWluZyhpbnB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIGJpRGlTdHJlYW1pbmdfMSgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW55Rm4gPSBhc3luYyAocmVxKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG5vcm1hbGl6ZUl0ZXJhYmxlKHNwZWMubWV0aG9kLk8sIHNwZWMuaW1wbChyZXEubWVzc2FnZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0KSwgeyBzZXJ2aWNlOiByZXEuc2VydmljZSwgbWV0aG9kOiByZXEubWV0aG9kLCByZXF1ZXN0SGVhZGVyOiByZXEuaGVhZGVyLCB2YWx1ZXM6IHJlcS5jb250ZXh0VmFsdWVzLCBzaWduYWw6IHJlcS5zaWduYWwgfSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZTogcmVxLnNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogY29udGV4dC5yZXNwb25zZUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbGVyOiBjb250ZXh0LnJlc3BvbnNlVHJhaWxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBhcHBseUludGVyY2VwdG9ycyhhbnlGbiwgaW50ZXJjZXB0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBoZWFkZXIsIHRyYWlsZXIgfSA9IHlpZWxkIF9fYXdhaXQobmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBjb250ZXh0LnJlcXVlc3RNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBjb250ZXh0LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IHNwZWMuc2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogc3BlYy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGNvbnRleHQucmVxdWVzdEhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRWYWx1ZXM6IGNvbnRleHQudmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKGhlYWRlciwgY29udGV4dC5yZXNwb25zZUhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlIZWFkZXJzKHRyYWlsZXIsIGNvbnRleHQucmVzcG9uc2VUcmFpbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19hd2FpdCh5aWVsZCogX19hc3luY0RlbGVnYXRvcihfX2FzeW5jVmFsdWVzKG1lc3NhZ2UpKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvcHlIZWFkZXJzKGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG8uZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICAgIHRvLmRlbGV0ZShrZXkpO1xuICAgIH0pO1xuICAgIGZyb20uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICB0by5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/invoke-implementation.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js":
/*!************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertReadMaxBytes: () => (/* binding */ assertReadMaxBytes),\n/* harmony export */   assertWriteMaxBytes: () => (/* binding */ assertWriteMaxBytes),\n/* harmony export */   validateReadWriteMaxBytes: () => (/* binding */ validateReadWriteMaxBytes)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * At most, allow ~4GiB to be received or sent per message.\n * zlib used by Node.js caps maxOutputLength at this value. It also happens to\n * be the maximum theoretical message size supported by protobuf-es.\n */\nconst maxReadMaxBytes = 0xffffffff;\nconst maxWriteMaxBytes = maxReadMaxBytes;\n/**\n * The default value for the compressMinBytes option. The CPU cost of compressing\n * very small messages usually isn't worth the small reduction in network I/O, so\n * the default value is 1 kibibyte.\n */\nconst defaultCompressMinBytes = 1024;\n/**\n * Asserts that the options writeMaxBytes, readMaxBytes, and compressMinBytes\n * are within sane limits, and returns default values where no value is\n * provided.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateReadWriteMaxBytes(readMaxBytes, writeMaxBytes, compressMinBytes) {\n    writeMaxBytes !== null && writeMaxBytes !== void 0 ? writeMaxBytes : (writeMaxBytes = maxWriteMaxBytes);\n    readMaxBytes !== null && readMaxBytes !== void 0 ? readMaxBytes : (readMaxBytes = maxReadMaxBytes);\n    compressMinBytes !== null && compressMinBytes !== void 0 ? compressMinBytes : (compressMinBytes = defaultCompressMinBytes);\n    if (writeMaxBytes < 1 || writeMaxBytes > maxWriteMaxBytes) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`writeMaxBytes ${writeMaxBytes} must be >= 1 and <= ${maxWriteMaxBytes}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Internal);\n    }\n    if (readMaxBytes < 1 || readMaxBytes > maxReadMaxBytes) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`readMaxBytes ${readMaxBytes} must be >= 1 and <= ${maxReadMaxBytes}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.Internal);\n    }\n    return {\n        readMaxBytes,\n        writeMaxBytes,\n        compressMinBytes,\n    };\n}\n/**\n * Raise an error ResourceExhausted if more than writeMaxByte are written.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction assertWriteMaxBytes(writeMaxBytes, bytesWritten) {\n    if (bytesWritten > writeMaxBytes) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(`message size ${bytesWritten} is larger than configured writeMaxBytes ${writeMaxBytes}`, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.ResourceExhausted);\n    }\n}\n/**\n * Raise an error ResourceExhausted if more than readMaxBytes are read.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction assertReadMaxBytes(readMaxBytes, bytesRead, totalSizeKnown = false) {\n    if (bytesRead > readMaxBytes) {\n        let message = `message size is larger than configured readMaxBytes ${readMaxBytes}`;\n        if (totalSizeKnown) {\n            message = `message size ${bytesRead} is larger than configured readMaxBytes ${readMaxBytes}`;\n        }\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(message, _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.ResourceExhausted);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvbGltaXQtaW8uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNtRDtBQUNqQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwyREFBWSxrQkFBa0IsZUFBZSxzQkFBc0IsaUJBQWlCLEdBQUcsMENBQUk7QUFDN0c7QUFDQTtBQUNBLGtCQUFrQiwyREFBWSxpQkFBaUIsY0FBYyxzQkFBc0IsZ0JBQWdCLEdBQUcsMENBQUk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQiwyREFBWSxpQkFBaUIsY0FBYywwQ0FBMEMsY0FBYyxHQUFHLDBDQUFJO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDZFQUE2RSxhQUFhO0FBQzFGO0FBQ0Esc0NBQXNDLFdBQVcseUNBQXlDLGFBQWE7QUFDdkc7QUFDQSxrQkFBa0IsMkRBQVksVUFBVSwwQ0FBSTtBQUM1QztBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXGxpbWl0LWlvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgeyBDb25uZWN0RXJyb3IgfSBmcm9tIFwiLi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuLi9jb2RlLmpzXCI7XG4vKipcbiAqIEF0IG1vc3QsIGFsbG93IH40R2lCIHRvIGJlIHJlY2VpdmVkIG9yIHNlbnQgcGVyIG1lc3NhZ2UuXG4gKiB6bGliIHVzZWQgYnkgTm9kZS5qcyBjYXBzIG1heE91dHB1dExlbmd0aCBhdCB0aGlzIHZhbHVlLiBJdCBhbHNvIGhhcHBlbnMgdG9cbiAqIGJlIHRoZSBtYXhpbXVtIHRoZW9yZXRpY2FsIG1lc3NhZ2Ugc2l6ZSBzdXBwb3J0ZWQgYnkgcHJvdG9idWYtZXMuXG4gKi9cbmNvbnN0IG1heFJlYWRNYXhCeXRlcyA9IDB4ZmZmZmZmZmY7XG5jb25zdCBtYXhXcml0ZU1heEJ5dGVzID0gbWF4UmVhZE1heEJ5dGVzO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGNvbXByZXNzTWluQnl0ZXMgb3B0aW9uLiBUaGUgQ1BVIGNvc3Qgb2YgY29tcHJlc3NpbmdcbiAqIHZlcnkgc21hbGwgbWVzc2FnZXMgdXN1YWxseSBpc24ndCB3b3J0aCB0aGUgc21hbGwgcmVkdWN0aW9uIGluIG5ldHdvcmsgSS9PLCBzb1xuICogdGhlIGRlZmF1bHQgdmFsdWUgaXMgMSBraWJpYnl0ZS5cbiAqL1xuY29uc3QgZGVmYXVsdENvbXByZXNzTWluQnl0ZXMgPSAxMDI0O1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIG9wdGlvbnMgd3JpdGVNYXhCeXRlcywgcmVhZE1heEJ5dGVzLCBhbmQgY29tcHJlc3NNaW5CeXRlc1xuICogYXJlIHdpdGhpbiBzYW5lIGxpbWl0cywgYW5kIHJldHVybnMgZGVmYXVsdCB2YWx1ZXMgd2hlcmUgbm8gdmFsdWUgaXNcbiAqIHByb3ZpZGVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZWFkV3JpdGVNYXhCeXRlcyhyZWFkTWF4Qnl0ZXMsIHdyaXRlTWF4Qnl0ZXMsIGNvbXByZXNzTWluQnl0ZXMpIHtcbiAgICB3cml0ZU1heEJ5dGVzICE9PSBudWxsICYmIHdyaXRlTWF4Qnl0ZXMgIT09IHZvaWQgMCA/IHdyaXRlTWF4Qnl0ZXMgOiAod3JpdGVNYXhCeXRlcyA9IG1heFdyaXRlTWF4Qnl0ZXMpO1xuICAgIHJlYWRNYXhCeXRlcyAhPT0gbnVsbCAmJiByZWFkTWF4Qnl0ZXMgIT09IHZvaWQgMCA/IHJlYWRNYXhCeXRlcyA6IChyZWFkTWF4Qnl0ZXMgPSBtYXhSZWFkTWF4Qnl0ZXMpO1xuICAgIGNvbXByZXNzTWluQnl0ZXMgIT09IG51bGwgJiYgY29tcHJlc3NNaW5CeXRlcyAhPT0gdm9pZCAwID8gY29tcHJlc3NNaW5CeXRlcyA6IChjb21wcmVzc01pbkJ5dGVzID0gZGVmYXVsdENvbXByZXNzTWluQnl0ZXMpO1xuICAgIGlmICh3cml0ZU1heEJ5dGVzIDwgMSB8fCB3cml0ZU1heEJ5dGVzID4gbWF4V3JpdGVNYXhCeXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGB3cml0ZU1heEJ5dGVzICR7d3JpdGVNYXhCeXRlc30gbXVzdCBiZSA+PSAxIGFuZCA8PSAke21heFdyaXRlTWF4Qnl0ZXN9YCwgQ29kZS5JbnRlcm5hbCk7XG4gICAgfVxuICAgIGlmIChyZWFkTWF4Qnl0ZXMgPCAxIHx8IHJlYWRNYXhCeXRlcyA+IG1heFJlYWRNYXhCeXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGByZWFkTWF4Qnl0ZXMgJHtyZWFkTWF4Qnl0ZXN9IG11c3QgYmUgPj0gMSBhbmQgPD0gJHttYXhSZWFkTWF4Qnl0ZXN9YCwgQ29kZS5JbnRlcm5hbCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlYWRNYXhCeXRlcyxcbiAgICAgICAgd3JpdGVNYXhCeXRlcyxcbiAgICAgICAgY29tcHJlc3NNaW5CeXRlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBSYWlzZSBhbiBlcnJvciBSZXNvdXJjZUV4aGF1c3RlZCBpZiBtb3JlIHRoYW4gd3JpdGVNYXhCeXRlIGFyZSB3cml0dGVuLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0V3JpdGVNYXhCeXRlcyh3cml0ZU1heEJ5dGVzLCBieXRlc1dyaXR0ZW4pIHtcbiAgICBpZiAoYnl0ZXNXcml0dGVuID4gd3JpdGVNYXhCeXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKGBtZXNzYWdlIHNpemUgJHtieXRlc1dyaXR0ZW59IGlzIGxhcmdlciB0aGFuIGNvbmZpZ3VyZWQgd3JpdGVNYXhCeXRlcyAke3dyaXRlTWF4Qnl0ZXN9YCwgQ29kZS5SZXNvdXJjZUV4aGF1c3RlZCk7XG4gICAgfVxufVxuLyoqXG4gKiBSYWlzZSBhbiBlcnJvciBSZXNvdXJjZUV4aGF1c3RlZCBpZiBtb3JlIHRoYW4gcmVhZE1heEJ5dGVzIGFyZSByZWFkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UmVhZE1heEJ5dGVzKHJlYWRNYXhCeXRlcywgYnl0ZXNSZWFkLCB0b3RhbFNpemVLbm93biA9IGZhbHNlKSB7XG4gICAgaWYgKGJ5dGVzUmVhZCA+IHJlYWRNYXhCeXRlcykge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGBtZXNzYWdlIHNpemUgaXMgbGFyZ2VyIHRoYW4gY29uZmlndXJlZCByZWFkTWF4Qnl0ZXMgJHtyZWFkTWF4Qnl0ZXN9YDtcbiAgICAgICAgaWYgKHRvdGFsU2l6ZUtub3duKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYG1lc3NhZ2Ugc2l6ZSAke2J5dGVzUmVhZH0gaXMgbGFyZ2VyIHRoYW4gY29uZmlndXJlZCByZWFkTWF4Qnl0ZXMgJHtyZWFkTWF4Qnl0ZXN9YDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdEVycm9yKG1lc3NhZ2UsIENvZGUuUmVzb3VyY2VFeGhhdXN0ZWQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/normalize.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/normalize.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   normalizeIterable: () => (/* binding */ normalizeIterable)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n *  Takes a partial protobuf messages of the\n *  specified message type as input, and returns full instances.\n */\nfunction normalize(type, message) {\n    return message instanceof type\n        ? message\n        : new type(message);\n}\n/**\n * Takes an AsyncIterable of partial protobuf messages of the\n * specified message type as input, and yields full instances.\n */\nfunction normalizeIterable(messageType, input) {\n    function transform(result) {\n        if (result.done === true) {\n            return result;\n        }\n        return {\n            done: result.done,\n            value: normalize(messageType, result.value),\n        };\n    }\n    return {\n        [Symbol.asyncIterator]() {\n            const it = input[Symbol.asyncIterator]();\n            const res = {\n                next: () => it.next().then(transform),\n            };\n            if (it.throw !== undefined) {\n                res.throw = (e) => it.throw(e).then(transform); // eslint-disable-line @typescript-eslint/no-non-null-assertion\n            }\n            if (it.return !== undefined) {\n                res.return = (v) => it.return(v).then(transform); // eslint-disable-line @typescript-eslint/no-non-null-assertion\n            }\n            return res;\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvbm9ybWFsaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXG5vcm1hbGl6ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbi8qKlxuICogIFRha2VzIGEgcGFydGlhbCBwcm90b2J1ZiBtZXNzYWdlcyBvZiB0aGVcbiAqICBzcGVjaWZpZWQgbWVzc2FnZSB0eXBlIGFzIGlucHV0LCBhbmQgcmV0dXJucyBmdWxsIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZSh0eXBlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UgaW5zdGFuY2VvZiB0eXBlXG4gICAgICAgID8gbWVzc2FnZVxuICAgICAgICA6IG5ldyB0eXBlKG1lc3NhZ2UpO1xufVxuLyoqXG4gKiBUYWtlcyBhbiBBc3luY0l0ZXJhYmxlIG9mIHBhcnRpYWwgcHJvdG9idWYgbWVzc2FnZXMgb2YgdGhlXG4gKiBzcGVjaWZpZWQgbWVzc2FnZSB0eXBlIGFzIGlucHV0LCBhbmQgeWllbGRzIGZ1bGwgaW5zdGFuY2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSXRlcmFibGUobWVzc2FnZVR5cGUsIGlucHV0KSB7XG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IHJlc3VsdC5kb25lLFxuICAgICAgICAgICAgdmFsdWU6IG5vcm1hbGl6ZShtZXNzYWdlVHlwZSwgcmVzdWx0LnZhbHVlKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4gaXQubmV4dCgpLnRoZW4odHJhbnNmb3JtKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaXQudGhyb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlcy50aHJvdyA9IChlKSA9PiBpdC50aHJvdyhlKS50aGVuKHRyYW5zZm9ybSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0LnJldHVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnJldHVybiA9ICh2KSA9PiBpdC5yZXR1cm4odikudGhlbih0cmFuc2Zvcm0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/normalize.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js":
/*!************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runStreamingCall: () => (/* binding */ runStreamingCall),\n/* harmony export */   runUnaryCall: () => (/* binding */ runUnaryCall)\n/* harmony export */ });\n/* harmony import */ var _interceptor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interceptor.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/interceptor.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _signals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signals.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js\");\n/* harmony import */ var _normalize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalize.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/normalize.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n/**\n * Runs a unary method with the given interceptors. Note that this function\n * is only used when implementing a Transport.\n */\nfunction runUnaryCall(opt) {\n    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_0__.applyInterceptors)(opt.next, opt.interceptors);\n    const [signal, abort, done] = setupSignal(opt);\n    const req = Object.assign(Object.assign({}, opt.req), { message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_1__.normalize)(opt.req.method.I, opt.req.message), signal });\n    return next(req).then((res) => {\n        done();\n        return res;\n    }, abort);\n}\n/**\n * Runs a server-streaming method with the given interceptors. Note that this\n * function is only used when implementing a Transport.\n */\nfunction runStreamingCall(opt) {\n    const next = (0,_interceptor_js__WEBPACK_IMPORTED_MODULE_0__.applyInterceptors)(opt.next, opt.interceptors);\n    const [signal, abort, done] = setupSignal(opt);\n    const req = Object.assign(Object.assign({}, opt.req), { message: (0,_normalize_js__WEBPACK_IMPORTED_MODULE_1__.normalizeIterable)(opt.req.method.I, opt.req.message), signal });\n    let doneCalled = false;\n    // Call return on the request iterable to indicate\n    // that we will no longer consume it and it should\n    // cleanup any allocated resources.\n    signal.addEventListener(\"abort\", function () {\n        var _a, _b;\n        const it = opt.req.message[Symbol.asyncIterator]();\n        // If the signal is aborted due to an error, we want to throw\n        // the error to the request iterator.\n        if (!doneCalled) {\n            (_a = it.throw) === null || _a === void 0 ? void 0 : _a.call(it, this.reason).catch(() => {\n                // throw returns a promise, which we don't care about.\n                //\n                // Uncaught promises are thrown at sometime/somewhere by the event loop,\n                // this is to ensure error is caught and ignored.\n            });\n        }\n        (_b = it.return) === null || _b === void 0 ? void 0 : _b.call(it).catch(() => {\n            // return returns a promise, which we don't care about.\n            //\n            // Uncaught promises are thrown at sometime/somewhere by the event loop,\n            // this is to ensure error is caught and ignored.\n        });\n    });\n    return next(req).then((res) => {\n        return Object.assign(Object.assign({}, res), { message: {\n                [Symbol.asyncIterator]() {\n                    const it = res.message[Symbol.asyncIterator]();\n                    return {\n                        next() {\n                            return it.next().then((r) => {\n                                if (r.done == true) {\n                                    doneCalled = true;\n                                    done();\n                                }\n                                return r;\n                            }, abort);\n                        },\n                        // We deliberately omit throw/return.\n                    };\n                },\n            } });\n    }, abort);\n}\n/**\n * Create an AbortSignal for Transport implementations. The signal is available\n * in UnaryRequest and StreamingRequest, and is triggered when the call is\n * aborted (via a timeout or explicit cancellation), errored (e.g. when reading\n * an error from the server from the wire), or finished successfully.\n *\n * Transport implementations can pass the signal to HTTP clients to ensure that\n * there are no unused connections leak.\n *\n * Returns a tuple:\n * [0]: The signal, which is also aborted if the optional deadline is reached.\n * [1]: Function to call if the Transport encountered an error.\n * [2]: Function to call if the Transport finished without an error.\n */\nfunction setupSignal(opt) {\n    const { signal, cleanup } = (0,_signals_js__WEBPACK_IMPORTED_MODULE_2__.createDeadlineSignal)(opt.timeoutMs);\n    const controller = (0,_signals_js__WEBPACK_IMPORTED_MODULE_2__.createLinkedAbortController)(opt.signal, signal);\n    return [\n        controller.signal,\n        function abort(reason) {\n            // We peek at the deadline signal because fetch() will throw an error on\n            // abort that discards the signal reason.\n            const e = _connect_error_js__WEBPACK_IMPORTED_MODULE_3__.ConnectError.from(signal.aborted ? (0,_signals_js__WEBPACK_IMPORTED_MODULE_2__.getAbortSignalReason)(signal) : reason);\n            controller.abort(e);\n            cleanup();\n            return Promise.reject(e);\n        },\n        function done() {\n            cleanup();\n            controller.abort();\n        },\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvcnVuLWNhbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0Q7QUFDSDtBQUNxRDtBQUMxQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUJBQWlCLGtFQUFpQjtBQUNsQztBQUNBLDhDQUE4QyxjQUFjLFNBQVMsd0RBQVMsNkNBQTZDO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxpQkFBaUIsa0VBQWlCO0FBQ2xDO0FBQ0EsOENBQThDLGNBQWMsU0FBUyxnRUFBaUIsNkNBQTZDO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLFVBQVU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0JBQWtCLEVBQUUsaUVBQW9CO0FBQ3BELHVCQUF1Qix3RUFBMkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyREFBWSx1QkFBdUIsaUVBQW9CO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sXFxydW4tY2FsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgYXBwbHlJbnRlcmNlcHRvcnMgfSBmcm9tIFwiLi4vaW50ZXJjZXB0b3IuanNcIjtcbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVEZWFkbGluZVNpZ25hbCwgY3JlYXRlTGlua2VkQWJvcnRDb250cm9sbGVyLCBnZXRBYm9ydFNpZ25hbFJlYXNvbiwgfSBmcm9tIFwiLi9zaWduYWxzLmpzXCI7XG5pbXBvcnQgeyBub3JtYWxpemUsIG5vcm1hbGl6ZUl0ZXJhYmxlIH0gZnJvbSBcIi4vbm9ybWFsaXplLmpzXCI7XG4vKipcbiAqIFJ1bnMgYSB1bmFyeSBtZXRob2Qgd2l0aCB0aGUgZ2l2ZW4gaW50ZXJjZXB0b3JzLiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvblxuICogaXMgb25seSB1c2VkIHdoZW4gaW1wbGVtZW50aW5nIGEgVHJhbnNwb3J0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuVW5hcnlDYWxsKG9wdCkge1xuICAgIGNvbnN0IG5leHQgPSBhcHBseUludGVyY2VwdG9ycyhvcHQubmV4dCwgb3B0LmludGVyY2VwdG9ycyk7XG4gICAgY29uc3QgW3NpZ25hbCwgYWJvcnQsIGRvbmVdID0gc2V0dXBTaWduYWwob3B0KTtcbiAgICBjb25zdCByZXEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdC5yZXEpLCB7IG1lc3NhZ2U6IG5vcm1hbGl6ZShvcHQucmVxLm1ldGhvZC5JLCBvcHQucmVxLm1lc3NhZ2UpLCBzaWduYWwgfSk7XG4gICAgcmV0dXJuIG5leHQocmVxKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIGFib3J0KTtcbn1cbi8qKlxuICogUnVucyBhIHNlcnZlci1zdHJlYW1pbmcgbWV0aG9kIHdpdGggdGhlIGdpdmVuIGludGVyY2VwdG9ycy4gTm90ZSB0aGF0IHRoaXNcbiAqIGZ1bmN0aW9uIGlzIG9ubHkgdXNlZCB3aGVuIGltcGxlbWVudGluZyBhIFRyYW5zcG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1blN0cmVhbWluZ0NhbGwob3B0KSB7XG4gICAgY29uc3QgbmV4dCA9IGFwcGx5SW50ZXJjZXB0b3JzKG9wdC5uZXh0LCBvcHQuaW50ZXJjZXB0b3JzKTtcbiAgICBjb25zdCBbc2lnbmFsLCBhYm9ydCwgZG9uZV0gPSBzZXR1cFNpZ25hbChvcHQpO1xuICAgIGNvbnN0IHJlcSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0LnJlcSksIHsgbWVzc2FnZTogbm9ybWFsaXplSXRlcmFibGUob3B0LnJlcS5tZXRob2QuSSwgb3B0LnJlcS5tZXNzYWdlKSwgc2lnbmFsIH0pO1xuICAgIGxldCBkb25lQ2FsbGVkID0gZmFsc2U7XG4gICAgLy8gQ2FsbCByZXR1cm4gb24gdGhlIHJlcXVlc3QgaXRlcmFibGUgdG8gaW5kaWNhdGVcbiAgICAvLyB0aGF0IHdlIHdpbGwgbm8gbG9uZ2VyIGNvbnN1bWUgaXQgYW5kIGl0IHNob3VsZFxuICAgIC8vIGNsZWFudXAgYW55IGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGl0ID0gb3B0LnJlcS5tZXNzYWdlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAvLyBJZiB0aGUgc2lnbmFsIGlzIGFib3J0ZWQgZHVlIHRvIGFuIGVycm9yLCB3ZSB3YW50IHRvIHRocm93XG4gICAgICAgIC8vIHRoZSBlcnJvciB0byB0aGUgcmVxdWVzdCBpdGVyYXRvci5cbiAgICAgICAgaWYgKCFkb25lQ2FsbGVkKSB7XG4gICAgICAgICAgICAoX2EgPSBpdC50aHJvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaXQsIHRoaXMucmVhc29uKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgcmV0dXJucyBhIHByb21pc2UsIHdoaWNoIHdlIGRvbid0IGNhcmUgYWJvdXQuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBVbmNhdWdodCBwcm9taXNlcyBhcmUgdGhyb3duIGF0IHNvbWV0aW1lL3NvbWV3aGVyZSBieSB0aGUgZXZlbnQgbG9vcCxcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGVuc3VyZSBlcnJvciBpcyBjYXVnaHQgYW5kIGlnbm9yZWQuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAoX2IgPSBpdC5yZXR1cm4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGl0KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyByZXR1cm4gcmV0dXJucyBhIHByb21pc2UsIHdoaWNoIHdlIGRvbid0IGNhcmUgYWJvdXQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVW5jYXVnaHQgcHJvbWlzZXMgYXJlIHRocm93biBhdCBzb21ldGltZS9zb21ld2hlcmUgYnkgdGhlIGV2ZW50IGxvb3AsXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGVuc3VyZSBlcnJvciBpcyBjYXVnaHQgYW5kIGlnbm9yZWQuXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXh0KHJlcSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcyksIHsgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ID0gcmVzLm1lc3NhZ2VbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdC5uZXh0KCkudGhlbigocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5kb25lID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGFib3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkZWxpYmVyYXRlbHkgb21pdCB0aHJvdy9yZXR1cm4uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfSwgYWJvcnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gQWJvcnRTaWduYWwgZm9yIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbnMuIFRoZSBzaWduYWwgaXMgYXZhaWxhYmxlXG4gKiBpbiBVbmFyeVJlcXVlc3QgYW5kIFN0cmVhbWluZ1JlcXVlc3QsIGFuZCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgY2FsbCBpc1xuICogYWJvcnRlZCAodmlhIGEgdGltZW91dCBvciBleHBsaWNpdCBjYW5jZWxsYXRpb24pLCBlcnJvcmVkIChlLmcuIHdoZW4gcmVhZGluZ1xuICogYW4gZXJyb3IgZnJvbSB0aGUgc2VydmVyIGZyb20gdGhlIHdpcmUpLCBvciBmaW5pc2hlZCBzdWNjZXNzZnVsbHkuXG4gKlxuICogVHJhbnNwb3J0IGltcGxlbWVudGF0aW9ucyBjYW4gcGFzcyB0aGUgc2lnbmFsIHRvIEhUVFAgY2xpZW50cyB0byBlbnN1cmUgdGhhdFxuICogdGhlcmUgYXJlIG5vIHVudXNlZCBjb25uZWN0aW9ucyBsZWFrLlxuICpcbiAqIFJldHVybnMgYSB0dXBsZTpcbiAqIFswXTogVGhlIHNpZ25hbCwgd2hpY2ggaXMgYWxzbyBhYm9ydGVkIGlmIHRoZSBvcHRpb25hbCBkZWFkbGluZSBpcyByZWFjaGVkLlxuICogWzFdOiBGdW5jdGlvbiB0byBjYWxsIGlmIHRoZSBUcmFuc3BvcnQgZW5jb3VudGVyZWQgYW4gZXJyb3IuXG4gKiBbMl06IEZ1bmN0aW9uIHRvIGNhbGwgaWYgdGhlIFRyYW5zcG9ydCBmaW5pc2hlZCB3aXRob3V0IGFuIGVycm9yLlxuICovXG5mdW5jdGlvbiBzZXR1cFNpZ25hbChvcHQpIHtcbiAgICBjb25zdCB7IHNpZ25hbCwgY2xlYW51cCB9ID0gY3JlYXRlRGVhZGxpbmVTaWduYWwob3B0LnRpbWVvdXRNcyk7XG4gICAgY29uc3QgY29udHJvbGxlciA9IGNyZWF0ZUxpbmtlZEFib3J0Q29udHJvbGxlcihvcHQuc2lnbmFsLCBzaWduYWwpO1xuICAgIHJldHVybiBbXG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBmdW5jdGlvbiBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgICAgIC8vIFdlIHBlZWsgYXQgdGhlIGRlYWRsaW5lIHNpZ25hbCBiZWNhdXNlIGZldGNoKCkgd2lsbCB0aHJvdyBhbiBlcnJvciBvblxuICAgICAgICAgICAgLy8gYWJvcnQgdGhhdCBkaXNjYXJkcyB0aGUgc2lnbmFsIHJlYXNvbi5cbiAgICAgICAgICAgIGNvbnN0IGUgPSBDb25uZWN0RXJyb3IuZnJvbShzaWduYWwuYWJvcnRlZCA/IGdldEFib3J0U2lnbmFsUmVhc29uKHNpZ25hbCkgOiByZWFzb24pO1xuICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydChlKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSxcbiAgICBdO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/run-call.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBinarySerialization: () => (/* binding */ createBinarySerialization),\n/* harmony export */   createClientMethodSerializers: () => (/* binding */ createClientMethodSerializers),\n/* harmony export */   createJsonSerialization: () => (/* binding */ createJsonSerialization),\n/* harmony export */   createMethodSerializationLookup: () => (/* binding */ createMethodSerializationLookup),\n/* harmony export */   getJsonOptions: () => (/* binding */ getJsonOptions),\n/* harmony export */   limitSerialization: () => (/* binding */ limitSerialization)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _limit_io_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./limit-io.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Sets default JSON serialization options for connect-es.\n *\n * With standard protobuf JSON serialization, unknown JSON fields are\n * rejected by default. In connect-es, unknown JSON fields are ignored\n * by default.\n */\nfunction getJsonOptions(options) {\n    var _a;\n    const o = Object.assign({}, options);\n    (_a = o.ignoreUnknownFields) !== null && _a !== void 0 ? _a : (o.ignoreUnknownFields = true);\n    return o;\n}\n/**\n * Create an object that provides convenient access to request and response\n * message serialization for a given method.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createMethodSerializationLookup(method, binaryOptions, jsonOptions, limitOptions) {\n    const inputBinary = limitSerialization(createBinarySerialization(method.I, binaryOptions), limitOptions);\n    const inputJson = limitSerialization(createJsonSerialization(method.I, jsonOptions), limitOptions);\n    const outputBinary = limitSerialization(createBinarySerialization(method.O, binaryOptions), limitOptions);\n    const outputJson = limitSerialization(createJsonSerialization(method.O, jsonOptions), limitOptions);\n    return {\n        getI(useBinaryFormat) {\n            return useBinaryFormat ? inputBinary : inputJson;\n        },\n        getO(useBinaryFormat) {\n            return useBinaryFormat ? outputBinary : outputJson;\n        },\n    };\n}\n/**\n * Returns functions to normalize and serialize the input message\n * of an RPC, and to parse the output message of an RPC.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createClientMethodSerializers(method, useBinaryFormat, jsonOptions, binaryOptions) {\n    const input = useBinaryFormat\n        ? createBinarySerialization(method.I, binaryOptions)\n        : createJsonSerialization(method.I, jsonOptions);\n    const output = useBinaryFormat\n        ? createBinarySerialization(method.O, binaryOptions)\n        : createJsonSerialization(method.O, jsonOptions);\n    return { parse: output.parse, serialize: input.serialize };\n}\n/**\n * Apply I/O limits to a Serialization object, returning a new object.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction limitSerialization(serialization, limitOptions) {\n    return {\n        serialize(data) {\n            const bytes = serialization.serialize(data);\n            (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_0__.assertWriteMaxBytes)(limitOptions.writeMaxBytes, bytes.byteLength);\n            return bytes;\n        },\n        parse(data) {\n            (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_0__.assertReadMaxBytes)(limitOptions.readMaxBytes, data.byteLength, true);\n            return serialization.parse(data);\n        },\n    };\n}\n/**\n * Creates a Serialization object for serializing the given protobuf message\n * with the protobuf binary format.\n */\nfunction createBinarySerialization(messageType, options) {\n    return {\n        parse(data) {\n            try {\n                return messageType.fromBinary(data, options);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`parse binary: ${m}`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n            }\n        },\n        serialize(data) {\n            try {\n                return data.toBinary(options);\n            }\n            catch (e) {\n                const m = e instanceof Error ? e.message : String(e);\n                throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(`serialize binary: ${m}`, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n            }\n        },\n    };\n}\n/**\n * Creates a Serialization object for serializing the given protobuf message\n * with the protobuf canonical JSON encoding.\n *\n * By default, unknown fields are ignored.\n */\nfunction createJsonSerialization(messageType, options) {\n    var _a, _b;\n    const textEncoder = (_a = options === null || options === void 0 ? void 0 : options.textEncoder) !== null && _a !== void 0 ? _a : new TextEncoder();\n    const textDecoder = (_b = options === null || options === void 0 ? void 0 : options.textDecoder) !== null && _b !== void 0 ? _b : new TextDecoder();\n    const o = getJsonOptions(options);\n    return {\n        parse(data) {\n            try {\n                const json = textDecoder.decode(data);\n                return messageType.fromJsonString(json, o);\n            }\n            catch (e) {\n                throw _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError.from(e, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.InvalidArgument);\n            }\n        },\n        serialize(data) {\n            try {\n                const json = data.toJsonString(o);\n                return textEncoder.encode(json);\n            }\n            catch (e) {\n                throw _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError.from(e, _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n            }\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvc2VyaWFsaXphdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNtRDtBQUNqQjtBQUNzQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQW1CO0FBQy9CO0FBQ0EsU0FBUztBQUNUO0FBQ0EsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBWSxrQkFBa0IsRUFBRSxHQUFHLDBDQUFJO0FBQ2pFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBWSxzQkFBc0IsRUFBRSxHQUFHLDBDQUFJO0FBQ3JFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVksU0FBUywwQ0FBSTtBQUMvQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQVksU0FBUywwQ0FBSTtBQUMvQztBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJDOlxcZ2l0aHViX2Nsb25lXFxqcDE5ODhjaGlsbFxcbmV4dGpzLXJlYWN0LXRlbXBsYXRlXFxteS1hcHBcXG5vZGVfbW9kdWxlc1xcQGNvbm5lY3RycGNcXGNvbm5lY3RcXGRpc3RcXGVzbVxccHJvdG9jb2xcXHNlcmlhbGl6YXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBUaGUgQ29ubmVjdCBBdXRob3JzXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbmltcG9ydCB7IENvbm5lY3RFcnJvciB9IGZyb20gXCIuLi9jb25uZWN0LWVycm9yLmpzXCI7XG5pbXBvcnQgeyBDb2RlIH0gZnJvbSBcIi4uL2NvZGUuanNcIjtcbmltcG9ydCB7IGFzc2VydFJlYWRNYXhCeXRlcywgYXNzZXJ0V3JpdGVNYXhCeXRlcyB9IGZyb20gXCIuL2xpbWl0LWlvLmpzXCI7XG4vKipcbiAqIFNldHMgZGVmYXVsdCBKU09OIHNlcmlhbGl6YXRpb24gb3B0aW9ucyBmb3IgY29ubmVjdC1lcy5cbiAqXG4gKiBXaXRoIHN0YW5kYXJkIHByb3RvYnVmIEpTT04gc2VyaWFsaXphdGlvbiwgdW5rbm93biBKU09OIGZpZWxkcyBhcmVcbiAqIHJlamVjdGVkIGJ5IGRlZmF1bHQuIEluIGNvbm5lY3QtZXMsIHVua25vd24gSlNPTiBmaWVsZHMgYXJlIGlnbm9yZWRcbiAqIGJ5IGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKc29uT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG8gPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAoX2EgPSBvLmlnbm9yZVVua25vd25GaWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChvLmlnbm9yZVVua25vd25GaWVsZHMgPSB0cnVlKTtcbiAgICByZXR1cm4gbztcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGNvbnZlbmllbnQgYWNjZXNzIHRvIHJlcXVlc3QgYW5kIHJlc3BvbnNlXG4gKiBtZXNzYWdlIHNlcmlhbGl6YXRpb24gZm9yIGEgZ2l2ZW4gbWV0aG9kLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWV0aG9kU2VyaWFsaXphdGlvbkxvb2t1cChtZXRob2QsIGJpbmFyeU9wdGlvbnMsIGpzb25PcHRpb25zLCBsaW1pdE9wdGlvbnMpIHtcbiAgICBjb25zdCBpbnB1dEJpbmFyeSA9IGxpbWl0U2VyaWFsaXphdGlvbihjcmVhdGVCaW5hcnlTZXJpYWxpemF0aW9uKG1ldGhvZC5JLCBiaW5hcnlPcHRpb25zKSwgbGltaXRPcHRpb25zKTtcbiAgICBjb25zdCBpbnB1dEpzb24gPSBsaW1pdFNlcmlhbGl6YXRpb24oY3JlYXRlSnNvblNlcmlhbGl6YXRpb24obWV0aG9kLkksIGpzb25PcHRpb25zKSwgbGltaXRPcHRpb25zKTtcbiAgICBjb25zdCBvdXRwdXRCaW5hcnkgPSBsaW1pdFNlcmlhbGl6YXRpb24oY3JlYXRlQmluYXJ5U2VyaWFsaXphdGlvbihtZXRob2QuTywgYmluYXJ5T3B0aW9ucyksIGxpbWl0T3B0aW9ucyk7XG4gICAgY29uc3Qgb3V0cHV0SnNvbiA9IGxpbWl0U2VyaWFsaXphdGlvbihjcmVhdGVKc29uU2VyaWFsaXphdGlvbihtZXRob2QuTywganNvbk9wdGlvbnMpLCBsaW1pdE9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEkodXNlQmluYXJ5Rm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlQmluYXJ5Rm9ybWF0ID8gaW5wdXRCaW5hcnkgOiBpbnB1dEpzb247XG4gICAgICAgIH0sXG4gICAgICAgIGdldE8odXNlQmluYXJ5Rm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlQmluYXJ5Rm9ybWF0ID8gb3V0cHV0QmluYXJ5IDogb3V0cHV0SnNvbjtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIGZ1bmN0aW9ucyB0byBub3JtYWxpemUgYW5kIHNlcmlhbGl6ZSB0aGUgaW5wdXQgbWVzc2FnZVxuICogb2YgYW4gUlBDLCBhbmQgdG8gcGFyc2UgdGhlIG91dHB1dCBtZXNzYWdlIG9mIGFuIFJQQy5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudE1ldGhvZFNlcmlhbGl6ZXJzKG1ldGhvZCwgdXNlQmluYXJ5Rm9ybWF0LCBqc29uT3B0aW9ucywgYmluYXJ5T3B0aW9ucykge1xuICAgIGNvbnN0IGlucHV0ID0gdXNlQmluYXJ5Rm9ybWF0XG4gICAgICAgID8gY3JlYXRlQmluYXJ5U2VyaWFsaXphdGlvbihtZXRob2QuSSwgYmluYXJ5T3B0aW9ucylcbiAgICAgICAgOiBjcmVhdGVKc29uU2VyaWFsaXphdGlvbihtZXRob2QuSSwganNvbk9wdGlvbnMpO1xuICAgIGNvbnN0IG91dHB1dCA9IHVzZUJpbmFyeUZvcm1hdFxuICAgICAgICA/IGNyZWF0ZUJpbmFyeVNlcmlhbGl6YXRpb24obWV0aG9kLk8sIGJpbmFyeU9wdGlvbnMpXG4gICAgICAgIDogY3JlYXRlSnNvblNlcmlhbGl6YXRpb24obWV0aG9kLk8sIGpzb25PcHRpb25zKTtcbiAgICByZXR1cm4geyBwYXJzZTogb3V0cHV0LnBhcnNlLCBzZXJpYWxpemU6IGlucHV0LnNlcmlhbGl6ZSB9O1xufVxuLyoqXG4gKiBBcHBseSBJL08gbGltaXRzIHRvIGEgU2VyaWFsaXphdGlvbiBvYmplY3QsIHJldHVybmluZyBhIG5ldyBvYmplY3QuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW1pdFNlcmlhbGl6YXRpb24oc2VyaWFsaXphdGlvbiwgbGltaXRPcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gc2VyaWFsaXphdGlvbi5zZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICBhc3NlcnRXcml0ZU1heEJ5dGVzKGxpbWl0T3B0aW9ucy53cml0ZU1heEJ5dGVzLCBieXRlcy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBieXRlcztcbiAgICAgICAgfSxcbiAgICAgICAgcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgYXNzZXJ0UmVhZE1heEJ5dGVzKGxpbWl0T3B0aW9ucy5yZWFkTWF4Qnl0ZXMsIGRhdGEuYnl0ZUxlbmd0aCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXphdGlvbi5wYXJzZShkYXRhKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgU2VyaWFsaXphdGlvbiBvYmplY3QgZm9yIHNlcmlhbGl6aW5nIHRoZSBnaXZlbiBwcm90b2J1ZiBtZXNzYWdlXG4gKiB3aXRoIHRoZSBwcm90b2J1ZiBiaW5hcnkgZm9ybWF0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmluYXJ5U2VyaWFsaXphdGlvbihtZXNzYWdlVHlwZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VUeXBlLmZyb21CaW5hcnkoZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihgcGFyc2UgYmluYXJ5OiAke219YCwgQ29kZS5JbnRlcm5hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnRvQmluYXJ5KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoYHNlcmlhbGl6ZSBiaW5hcnk6ICR7bX1gLCBDb2RlLkludGVybmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgU2VyaWFsaXphdGlvbiBvYmplY3QgZm9yIHNlcmlhbGl6aW5nIHRoZSBnaXZlbiBwcm90b2J1ZiBtZXNzYWdlXG4gKiB3aXRoIHRoZSBwcm90b2J1ZiBjYW5vbmljYWwgSlNPTiBlbmNvZGluZy5cbiAqXG4gKiBCeSBkZWZhdWx0LCB1bmtub3duIGZpZWxkcyBhcmUgaWdub3JlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUpzb25TZXJpYWxpemF0aW9uKG1lc3NhZ2VUeXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB0ZXh0RW5jb2RlciA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50ZXh0RW5jb2RlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgY29uc3QgdGV4dERlY29kZXIgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGV4dERlY29kZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIGNvbnN0IG8gPSBnZXRKc29uT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJzZShkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSB0ZXh0RGVjb2Rlci5kZWNvZGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VUeXBlLmZyb21Kc29uU3RyaW5nKGpzb24sIG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBDb25uZWN0RXJyb3IuZnJvbShlLCBDb2RlLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBkYXRhLnRvSnNvblN0cmluZyhvKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dEVuY29kZXIuZW5jb2RlKGpzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBDb25uZWN0RXJyb3IuZnJvbShlLCBDb2RlLkludGVybmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/serialization.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeadlineSignal: () => (/* binding */ createDeadlineSignal),\n/* harmony export */   createLinkedAbortController: () => (/* binding */ createLinkedAbortController),\n/* harmony export */   getAbortSignalReason: () => (/* binding */ getAbortSignalReason)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n/**\n * Create an AbortController that is automatically aborted if one of the given\n * signals is aborted.\n *\n * For convenience, the linked AbortSignals can be undefined.\n *\n * If the controller or any of the signals is aborted, all event listeners are\n * removed.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createLinkedAbortController(...signals) {\n    const controller = new AbortController();\n    const sa = signals.filter((s) => s !== undefined).concat(controller.signal);\n    for (const signal of sa) {\n        if (signal.aborted) {\n            onAbort.apply(signal);\n            break;\n        }\n        signal.addEventListener(\"abort\", onAbort);\n    }\n    function onAbort() {\n        if (!controller.signal.aborted) {\n            controller.abort(getAbortSignalReason(this));\n        }\n        for (const signal of sa) {\n            signal.removeEventListener(\"abort\", onAbort);\n        }\n    }\n    return controller;\n}\n/**\n * Create a deadline signal. The returned object contains an AbortSignal, but\n * also a cleanup function to stop the timer, which must be called once the\n * calling code is no longer interested in the signal.\n *\n * Ideally, we would simply use AbortSignal.timeout(), but it is not widely\n * available yet.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createDeadlineSignal(timeoutMs) {\n    const controller = new AbortController();\n    const listener = () => {\n        controller.abort(new _connect_error_js__WEBPACK_IMPORTED_MODULE_0__.ConnectError(\"the operation timed out\", _code_js__WEBPACK_IMPORTED_MODULE_1__.Code.DeadlineExceeded));\n    };\n    let timeoutId;\n    if (timeoutMs !== undefined) {\n        if (timeoutMs <= 0)\n            listener();\n        else\n            timeoutId = setTimeout(listener, timeoutMs);\n    }\n    return {\n        signal: controller.signal,\n        cleanup: () => clearTimeout(timeoutId),\n    };\n}\n/**\n * Returns the reason why an AbortSignal was aborted. Returns undefined if the\n * signal has not been aborted.\n *\n * The property AbortSignal.reason is not widely available. This function\n * returns an AbortError if the signal is aborted, but reason is undefined.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction getAbortSignalReason(signal) {\n    if (!signal.aborted) {\n        return undefined;\n    }\n    if (signal.reason !== undefined) {\n        return signal.reason;\n    }\n    // AbortSignal.reason is available in Node.js v16, v18, and later,\n    // and in all browsers since early 2022.\n    const e = new Error(\"This operation was aborted\");\n    e.name = \"AbortError\";\n    return e;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvc2lnbmFscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ21EO0FBQ2pCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw2QkFBNkIsMkRBQVksNEJBQTRCLDBDQUFJO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbFxcc2lnbmFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuLyoqXG4gKiBDcmVhdGUgYW4gQWJvcnRDb250cm9sbGVyIHRoYXQgaXMgYXV0b21hdGljYWxseSBhYm9ydGVkIGlmIG9uZSBvZiB0aGUgZ2l2ZW5cbiAqIHNpZ25hbHMgaXMgYWJvcnRlZC5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHRoZSBsaW5rZWQgQWJvcnRTaWduYWxzIGNhbiBiZSB1bmRlZmluZWQuXG4gKlxuICogSWYgdGhlIGNvbnRyb2xsZXIgb3IgYW55IG9mIHRoZSBzaWduYWxzIGlzIGFib3J0ZWQsIGFsbCBldmVudCBsaXN0ZW5lcnMgYXJlXG4gKiByZW1vdmVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkQWJvcnRDb250cm9sbGVyKC4uLnNpZ25hbHMpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHNhID0gc2lnbmFscy5maWx0ZXIoKHMpID0+IHMgIT09IHVuZGVmaW5lZCkuY29uY2F0KGNvbnRyb2xsZXIuc2lnbmFsKTtcbiAgICBmb3IgKGNvbnN0IHNpZ25hbCBvZiBzYSkge1xuICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIG9uQWJvcnQuYXBwbHkoc2lnbmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQWJvcnQoKSB7XG4gICAgICAgIGlmICghY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydChnZXRBYm9ydFNpZ25hbFJlYXNvbih0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBzaWduYWwgb2Ygc2EpIHtcbiAgICAgICAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xsZXI7XG59XG4vKipcbiAqIENyZWF0ZSBhIGRlYWRsaW5lIHNpZ25hbC4gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyBhbiBBYm9ydFNpZ25hbCwgYnV0XG4gKiBhbHNvIGEgY2xlYW51cCBmdW5jdGlvbiB0byBzdG9wIHRoZSB0aW1lciwgd2hpY2ggbXVzdCBiZSBjYWxsZWQgb25jZSB0aGVcbiAqIGNhbGxpbmcgY29kZSBpcyBubyBsb25nZXIgaW50ZXJlc3RlZCBpbiB0aGUgc2lnbmFsLlxuICpcbiAqIElkZWFsbHksIHdlIHdvdWxkIHNpbXBseSB1c2UgQWJvcnRTaWduYWwudGltZW91dCgpLCBidXQgaXQgaXMgbm90IHdpZGVseVxuICogYXZhaWxhYmxlIHlldC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlYWRsaW5lU2lnbmFsKHRpbWVvdXRNcykge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQobmV3IENvbm5lY3RFcnJvcihcInRoZSBvcGVyYXRpb24gdGltZWQgb3V0XCIsIENvZGUuRGVhZGxpbmVFeGNlZWRlZCkpO1xuICAgIH07XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICBpZiAodGltZW91dE1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXRNcyA8PSAwKVxuICAgICAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChsaXN0ZW5lciwgdGltZW91dE1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgY2xlYW51cDogKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCksXG4gICAgfTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgcmVhc29uIHdoeSBhbiBBYm9ydFNpZ25hbCB3YXMgYWJvcnRlZC4gUmV0dXJucyB1bmRlZmluZWQgaWYgdGhlXG4gKiBzaWduYWwgaGFzIG5vdCBiZWVuIGFib3J0ZWQuXG4gKlxuICogVGhlIHByb3BlcnR5IEFib3J0U2lnbmFsLnJlYXNvbiBpcyBub3Qgd2lkZWx5IGF2YWlsYWJsZS4gVGhpcyBmdW5jdGlvblxuICogcmV0dXJucyBhbiBBYm9ydEVycm9yIGlmIHRoZSBzaWduYWwgaXMgYWJvcnRlZCwgYnV0IHJlYXNvbiBpcyB1bmRlZmluZWQuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBYm9ydFNpZ25hbFJlYXNvbihzaWduYWwpIHtcbiAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzaWduYWwucmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNpZ25hbC5yZWFzb247XG4gICAgfVxuICAgIC8vIEFib3J0U2lnbmFsLnJlYXNvbiBpcyBhdmFpbGFibGUgaW4gTm9kZS5qcyB2MTYsIHYxOCwgYW5kIGxhdGVyLFxuICAgIC8vIGFuZCBpbiBhbGwgYnJvd3NlcnMgc2luY2UgZWFybHkgMjAyMi5cbiAgICBjb25zdCBlID0gbmV3IEVycm9yKFwiVGhpcyBvcGVyYXRpb24gd2FzIGFib3J0ZWRcIik7XG4gICAgZS5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgcmV0dXJuIGU7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/signals.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUniversalMethodHandler: () => (/* binding */ createUniversalMethodHandler),\n/* harmony export */   createUniversalServiceHandlers: () => (/* binding */ createUniversalServiceHandlers),\n/* harmony export */   negotiateProtocol: () => (/* binding */ negotiateProtocol),\n/* harmony export */   validateUniversalHandlerOptions: () => (/* binding */ validateUniversalHandlerOptions)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(middleware)/./node_modules/@bufbuild/protobuf/dist/esm/service-type.js\");\n/* harmony import */ var _universal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./universal.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\");\n/* harmony import */ var _content_type_matcher_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./content-type-matcher.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/content-type-matcher.js\");\n/* harmony import */ var _limit_io_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./limit-io.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/limit-io.js\");\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n/**\n * Asserts that the options are within sane limits, and returns default values\n * where no value is provided.\n *\n * Note that this function does not set default values for `acceptCompression`.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction validateUniversalHandlerOptions(opt) {\n    var _a, _b, _c;\n    opt !== null && opt !== void 0 ? opt : (opt = {});\n    const acceptCompression = opt.acceptCompression\n        ? [...opt.acceptCompression]\n        : [];\n    const requireConnectProtocolHeader = (_a = opt.requireConnectProtocolHeader) !== null && _a !== void 0 ? _a : false;\n    const maxTimeoutMs = (_b = opt.maxTimeoutMs) !== null && _b !== void 0 ? _b : Number.MAX_SAFE_INTEGER;\n    return Object.assign(Object.assign({ acceptCompression }, (0,_limit_io_js__WEBPACK_IMPORTED_MODULE_0__.validateReadWriteMaxBytes)(opt.readMaxBytes, opt.writeMaxBytes, opt.compressMinBytes)), { jsonOptions: opt.jsonOptions, binaryOptions: opt.binaryOptions, maxTimeoutMs, shutdownSignal: opt.shutdownSignal, requireConnectProtocolHeader, interceptors: (_c = opt.interceptors) !== null && _c !== void 0 ? _c : [] });\n}\n/**\n * For the given service implementation, return a universal handler for each\n * RPC. The handler serves the given protocols.\n *\n * At least one protocol is required.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createUniversalServiceHandlers(spec, protocols) {\n    return Object.entries(spec.methods).map(([, implSpec]) => createUniversalMethodHandler(implSpec, protocols));\n}\n/**\n * Return a universal handler for the given RPC implementation.\n * The handler serves the given protocols.\n *\n * At least one protocol is required.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction createUniversalMethodHandler(spec, protocols) {\n    return negotiateProtocol(protocols.map((f) => f(spec)));\n}\n/**\n * Create a universal handler that negotiates the protocol.\n *\n * This functions takes one or more handlers - all for the same RPC, but for\n * different protocols - and returns a single handler that looks at the\n * Content-Type header and the HTTP verb of the incoming request to select\n * the appropriate protocol-specific handler.\n *\n * Raises an error if no protocol handlers were provided, or if they do not\n * handle exactly the same RPC.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction negotiateProtocol(protocolHandlers) {\n    if (protocolHandlers.length == 0) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(\"at least one protocol is required\", _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n    }\n    const service = protocolHandlers[0].service;\n    const method = protocolHandlers[0].method;\n    const requestPath = protocolHandlers[0].requestPath;\n    if (protocolHandlers.some((h) => h.service !== service || h.method !== method)) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(\"cannot negotiate protocol for different RPCs\", _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n    }\n    if (protocolHandlers.some((h) => h.requestPath !== requestPath)) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_1__.ConnectError(\"cannot negotiate protocol for different requestPaths\", _code_js__WEBPACK_IMPORTED_MODULE_2__.Code.Internal);\n    }\n    async function protocolNegotiatingHandler(request) {\n        var _a;\n        if (method.kind == _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.MethodKind.BiDiStreaming &&\n            request.httpVersion.startsWith(\"1.\")) {\n            return Object.assign(Object.assign({}, _universal_js__WEBPACK_IMPORTED_MODULE_4__.uResponseVersionNotSupported), { \n                // Clients coded to expect full-duplex connections may hang if they've\n                // mistakenly negotiated HTTP/1.1. To unblock them, we must close the\n                // underlying TCP connection.\n                header: new Headers({ Connection: \"close\" }) });\n        }\n        const contentType = (_a = request.header.get(\"Content-Type\")) !== null && _a !== void 0 ? _a : \"\";\n        const matchingMethod = protocolHandlers.filter((h) => h.allowedMethods.includes(request.method));\n        if (matchingMethod.length == 0) {\n            return _universal_js__WEBPACK_IMPORTED_MODULE_4__.uResponseMethodNotAllowed;\n        }\n        // If Content-Type is unset but only one handler matches, use it.\n        if (matchingMethod.length == 1 && contentType === \"\") {\n            const onlyMatch = matchingMethod[0];\n            return onlyMatch(request);\n        }\n        const matchingContentTypes = matchingMethod.filter((h) => h.supportedContentType(contentType));\n        if (matchingContentTypes.length == 0) {\n            return _universal_js__WEBPACK_IMPORTED_MODULE_4__.uResponseUnsupportedMediaType;\n        }\n        const firstMatch = matchingContentTypes[0];\n        return firstMatch(request);\n    }\n    return Object.assign(protocolNegotiatingHandler, {\n        service,\n        method,\n        requestPath,\n        supportedContentType: (0,_content_type_matcher_js__WEBPACK_IMPORTED_MODULE_5__.contentTypeMatcher)(...protocolHandlers.map((h) => h.supportedContentType)),\n        protocolNames: protocolHandlers\n            .flatMap((h) => h.protocolNames)\n            .filter((value, index, array) => array.indexOf(value) === index),\n        allowedMethods: protocolHandlers\n            .flatMap((h) => h.allowedMethods)\n            .filter((value, index, array) => array.indexOf(value) === index),\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvdW5pdmVyc2FsLWhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dEO0FBQ3lFO0FBQzFEO0FBQ0w7QUFDUDtBQUNqQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1CQUFtQixFQUFFLHVFQUF5QixnRUFBZ0UsMk5BQTJOO0FBQ2xYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxrQkFBa0IsMkRBQVksc0NBQXNDLDBDQUFJO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQVksaURBQWlELDBDQUFJO0FBQ25GO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQVkseURBQXlELDBDQUFJO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwREFBVTtBQUNyQztBQUNBLGlEQUFpRCxFQUFFLHVFQUE0QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCLEdBQUc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0VBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0VBQTZCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNEVBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHByb3RvY29sXFx1bml2ZXJzYWwtaGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgTWV0aG9kS2luZCB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7IHVSZXNwb25zZU1ldGhvZE5vdEFsbG93ZWQsIHVSZXNwb25zZVVuc3VwcG9ydGVkTWVkaWFUeXBlLCB1UmVzcG9uc2VWZXJzaW9uTm90U3VwcG9ydGVkLCB9IGZyb20gXCIuL3VuaXZlcnNhbC5qc1wiO1xuaW1wb3J0IHsgY29udGVudFR5cGVNYXRjaGVyIH0gZnJvbSBcIi4vY29udGVudC10eXBlLW1hdGNoZXIuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlUmVhZFdyaXRlTWF4Qnl0ZXMgfSBmcm9tIFwiLi9saW1pdC1pby5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4uL2Nvbm5lY3QtZXJyb3IuanNcIjtcbmltcG9ydCB7IENvZGUgfSBmcm9tIFwiLi4vY29kZS5qc1wiO1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIG9wdGlvbnMgYXJlIHdpdGhpbiBzYW5lIGxpbWl0cywgYW5kIHJldHVybnMgZGVmYXVsdCB2YWx1ZXNcbiAqIHdoZXJlIG5vIHZhbHVlIGlzIHByb3ZpZGVkLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IHNldCBkZWZhdWx0IHZhbHVlcyBmb3IgYGFjY2VwdENvbXByZXNzaW9uYC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMob3B0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgb3B0ICE9PSBudWxsICYmIG9wdCAhPT0gdm9pZCAwID8gb3B0IDogKG9wdCA9IHt9KTtcbiAgICBjb25zdCBhY2NlcHRDb21wcmVzc2lvbiA9IG9wdC5hY2NlcHRDb21wcmVzc2lvblxuICAgICAgICA/IFsuLi5vcHQuYWNjZXB0Q29tcHJlc3Npb25dXG4gICAgICAgIDogW107XG4gICAgY29uc3QgcmVxdWlyZUNvbm5lY3RQcm90b2NvbEhlYWRlciA9IChfYSA9IG9wdC5yZXF1aXJlQ29ubmVjdFByb3RvY29sSGVhZGVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICBjb25zdCBtYXhUaW1lb3V0TXMgPSAoX2IgPSBvcHQubWF4VGltZW91dE1zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgYWNjZXB0Q29tcHJlc3Npb24gfSwgdmFsaWRhdGVSZWFkV3JpdGVNYXhCeXRlcyhvcHQucmVhZE1heEJ5dGVzLCBvcHQud3JpdGVNYXhCeXRlcywgb3B0LmNvbXByZXNzTWluQnl0ZXMpKSwgeyBqc29uT3B0aW9uczogb3B0Lmpzb25PcHRpb25zLCBiaW5hcnlPcHRpb25zOiBvcHQuYmluYXJ5T3B0aW9ucywgbWF4VGltZW91dE1zLCBzaHV0ZG93blNpZ25hbDogb3B0LnNodXRkb3duU2lnbmFsLCByZXF1aXJlQ29ubmVjdFByb3RvY29sSGVhZGVyLCBpbnRlcmNlcHRvcnM6IChfYyA9IG9wdC5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdIH0pO1xufVxuLyoqXG4gKiBGb3IgdGhlIGdpdmVuIHNlcnZpY2UgaW1wbGVtZW50YXRpb24sIHJldHVybiBhIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBlYWNoXG4gKiBSUEMuIFRoZSBoYW5kbGVyIHNlcnZlcyB0aGUgZ2l2ZW4gcHJvdG9jb2xzLlxuICpcbiAqIEF0IGxlYXN0IG9uZSBwcm90b2NvbCBpcyByZXF1aXJlZC5cbiAqXG4gKiBAcHJpdmF0ZSBJbnRlcm5hbCBjb2RlLCBkb2VzIG5vdCBmb2xsb3cgc2VtYW50aWMgdmVyc2lvbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuaXZlcnNhbFNlcnZpY2VIYW5kbGVycyhzcGVjLCBwcm90b2NvbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc3BlYy5tZXRob2RzKS5tYXAoKFssIGltcGxTcGVjXSkgPT4gY3JlYXRlVW5pdmVyc2FsTWV0aG9kSGFuZGxlcihpbXBsU3BlYywgcHJvdG9jb2xzKSk7XG59XG4vKipcbiAqIFJldHVybiBhIHVuaXZlcnNhbCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gUlBDIGltcGxlbWVudGF0aW9uLlxuICogVGhlIGhhbmRsZXIgc2VydmVzIHRoZSBnaXZlbiBwcm90b2NvbHMuXG4gKlxuICogQXQgbGVhc3Qgb25lIHByb3RvY29sIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5pdmVyc2FsTWV0aG9kSGFuZGxlcihzcGVjLCBwcm90b2NvbHMpIHtcbiAgICByZXR1cm4gbmVnb3RpYXRlUHJvdG9jb2wocHJvdG9jb2xzLm1hcCgoZikgPT4gZihzcGVjKSkpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSB1bml2ZXJzYWwgaGFuZGxlciB0aGF0IG5lZ290aWF0ZXMgdGhlIHByb3RvY29sLlxuICpcbiAqIFRoaXMgZnVuY3Rpb25zIHRha2VzIG9uZSBvciBtb3JlIGhhbmRsZXJzIC0gYWxsIGZvciB0aGUgc2FtZSBSUEMsIGJ1dCBmb3JcbiAqIGRpZmZlcmVudCBwcm90b2NvbHMgLSBhbmQgcmV0dXJucyBhIHNpbmdsZSBoYW5kbGVyIHRoYXQgbG9va3MgYXQgdGhlXG4gKiBDb250ZW50LVR5cGUgaGVhZGVyIGFuZCB0aGUgSFRUUCB2ZXJiIG9mIHRoZSBpbmNvbWluZyByZXF1ZXN0IHRvIHNlbGVjdFxuICogdGhlIGFwcHJvcHJpYXRlIHByb3RvY29sLXNwZWNpZmljIGhhbmRsZXIuXG4gKlxuICogUmFpc2VzIGFuIGVycm9yIGlmIG5vIHByb3RvY29sIGhhbmRsZXJzIHdlcmUgcHJvdmlkZWQsIG9yIGlmIHRoZXkgZG8gbm90XG4gKiBoYW5kbGUgZXhhY3RseSB0aGUgc2FtZSBSUEMuXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWdvdGlhdGVQcm90b2NvbChwcm90b2NvbEhhbmRsZXJzKSB7XG4gICAgaWYgKHByb3RvY29sSGFuZGxlcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcImF0IGxlYXN0IG9uZSBwcm90b2NvbCBpcyByZXF1aXJlZFwiLCBDb2RlLkludGVybmFsKTtcbiAgICB9XG4gICAgY29uc3Qgc2VydmljZSA9IHByb3RvY29sSGFuZGxlcnNbMF0uc2VydmljZTtcbiAgICBjb25zdCBtZXRob2QgPSBwcm90b2NvbEhhbmRsZXJzWzBdLm1ldGhvZDtcbiAgICBjb25zdCByZXF1ZXN0UGF0aCA9IHByb3RvY29sSGFuZGxlcnNbMF0ucmVxdWVzdFBhdGg7XG4gICAgaWYgKHByb3RvY29sSGFuZGxlcnMuc29tZSgoaCkgPT4gaC5zZXJ2aWNlICE9PSBzZXJ2aWNlIHx8IGgubWV0aG9kICE9PSBtZXRob2QpKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJjYW5ub3QgbmVnb3RpYXRlIHByb3RvY29sIGZvciBkaWZmZXJlbnQgUlBDc1wiLCBDb2RlLkludGVybmFsKTtcbiAgICB9XG4gICAgaWYgKHByb3RvY29sSGFuZGxlcnMuc29tZSgoaCkgPT4gaC5yZXF1ZXN0UGF0aCAhPT0gcmVxdWVzdFBhdGgpKSB7XG4gICAgICAgIHRocm93IG5ldyBDb25uZWN0RXJyb3IoXCJjYW5ub3QgbmVnb3RpYXRlIHByb3RvY29sIGZvciBkaWZmZXJlbnQgcmVxdWVzdFBhdGhzXCIsIENvZGUuSW50ZXJuYWwpO1xuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBwcm90b2NvbE5lZ290aWF0aW5nSGFuZGxlcihyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG1ldGhvZC5raW5kID09IE1ldGhvZEtpbmQuQmlEaVN0cmVhbWluZyAmJlxuICAgICAgICAgICAgcmVxdWVzdC5odHRwVmVyc2lvbi5zdGFydHNXaXRoKFwiMS5cIikpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVSZXNwb25zZVZlcnNpb25Ob3RTdXBwb3J0ZWQpLCB7IFxuICAgICAgICAgICAgICAgIC8vIENsaWVudHMgY29kZWQgdG8gZXhwZWN0IGZ1bGwtZHVwbGV4IGNvbm5lY3Rpb25zIG1heSBoYW5nIGlmIHRoZXkndmVcbiAgICAgICAgICAgICAgICAvLyBtaXN0YWtlbmx5IG5lZ290aWF0ZWQgSFRUUC8xLjEuIFRvIHVuYmxvY2sgdGhlbSwgd2UgbXVzdCBjbG9zZSB0aGVcbiAgICAgICAgICAgICAgICAvLyB1bmRlcmx5aW5nIFRDUCBjb25uZWN0aW9uLlxuICAgICAgICAgICAgICAgIGhlYWRlcjogbmV3IEhlYWRlcnMoeyBDb25uZWN0aW9uOiBcImNsb3NlXCIgfSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSAoX2EgPSByZXF1ZXN0LmhlYWRlci5nZXQoXCJDb250ZW50LVR5cGVcIikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiXCI7XG4gICAgICAgIGNvbnN0IG1hdGNoaW5nTWV0aG9kID0gcHJvdG9jb2xIYW5kbGVycy5maWx0ZXIoKGgpID0+IGguYWxsb3dlZE1ldGhvZHMuaW5jbHVkZXMocmVxdWVzdC5tZXRob2QpKTtcbiAgICAgICAgaWYgKG1hdGNoaW5nTWV0aG9kLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdVJlc3BvbnNlTWV0aG9kTm90QWxsb3dlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBDb250ZW50LVR5cGUgaXMgdW5zZXQgYnV0IG9ubHkgb25lIGhhbmRsZXIgbWF0Y2hlcywgdXNlIGl0LlxuICAgICAgICBpZiAobWF0Y2hpbmdNZXRob2QubGVuZ3RoID09IDEgJiYgY29udGVudFR5cGUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ubHlNYXRjaCA9IG1hdGNoaW5nTWV0aG9kWzBdO1xuICAgICAgICAgICAgcmV0dXJuIG9ubHlNYXRjaChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXRjaGluZ0NvbnRlbnRUeXBlcyA9IG1hdGNoaW5nTWV0aG9kLmZpbHRlcigoaCkgPT4gaC5zdXBwb3J0ZWRDb250ZW50VHlwZShjb250ZW50VHlwZSkpO1xuICAgICAgICBpZiAobWF0Y2hpbmdDb250ZW50VHlwZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1UmVzcG9uc2VVbnN1cHBvcnRlZE1lZGlhVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdE1hdGNoID0gbWF0Y2hpbmdDb250ZW50VHlwZXNbMF07XG4gICAgICAgIHJldHVybiBmaXJzdE1hdGNoKHJlcXVlc3QpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90b2NvbE5lZ290aWF0aW5nSGFuZGxlciwge1xuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHJlcXVlc3RQYXRoLFxuICAgICAgICBzdXBwb3J0ZWRDb250ZW50VHlwZTogY29udGVudFR5cGVNYXRjaGVyKC4uLnByb3RvY29sSGFuZGxlcnMubWFwKChoKSA9PiBoLnN1cHBvcnRlZENvbnRlbnRUeXBlKSksXG4gICAgICAgIHByb3RvY29sTmFtZXM6IHByb3RvY29sSGFuZGxlcnNcbiAgICAgICAgICAgIC5mbGF0TWFwKChoKSA9PiBoLnByb3RvY29sTmFtZXMpXG4gICAgICAgICAgICAuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiBhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXgpLFxuICAgICAgICBhbGxvd2VkTWV0aG9kczogcHJvdG9jb2xIYW5kbGVyc1xuICAgICAgICAgICAgLmZsYXRNYXAoKGgpID0+IGguYWxsb3dlZE1ldGhvZHMpXG4gICAgICAgICAgICAuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiBhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXgpLFxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertByteStreamRequest: () => (/* binding */ assertByteStreamRequest),\n/* harmony export */   uResponseMethodNotAllowed: () => (/* binding */ uResponseMethodNotAllowed),\n/* harmony export */   uResponseNotFound: () => (/* binding */ uResponseNotFound),\n/* harmony export */   uResponseOk: () => (/* binding */ uResponseOk),\n/* harmony export */   uResponseUnsupportedMediaType: () => (/* binding */ uResponseUnsupportedMediaType),\n/* harmony export */   uResponseVersionNotSupported: () => (/* binding */ uResponseVersionNotSupported)\n/* harmony export */ });\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Assert that the given UniversalServerRequest has a byte stream body, not\n * a JSON value.\n *\n * We accept a JSON object or a byte stream in server requests.\n * In practice, only Connect unary handlers will receive a parse\n * JSON object. Other call-sites can use this assertion to narrow\n * the union type. A failure in such a call-sites indicates that\n * the contract between a server framework and the connect-node \\\n * handler is broken.\n *\n * @private Internal code, does not follow semantic versioning.\n */\nfunction assertByteStreamRequest(req) {\n    if (typeof req.body == \"object\" &&\n        req.body !== null &&\n        Symbol.asyncIterator in req.body) {\n        return;\n    }\n    throw new Error(\"byte stream required, but received JSON\");\n}\n/**\n * HTTP 200 OK\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst uResponseOk = {\n    status: 200,\n};\n/**\n * HTTP 404 Not Found\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst uResponseNotFound = {\n    status: 404,\n};\n/**\n * HTTP 415 Unsupported Media Type\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst uResponseUnsupportedMediaType = {\n    status: 415,\n};\n/**\n * HTTP 405 Method Not Allowed\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst uResponseMethodNotAllowed = {\n    status: 405,\n};\n/**\n * HTTP 505 Version Not Supported\n *\n * @private Internal code, does not follow semantic versioning.\n */\nconst uResponseVersionNotSupported = {\n    status: 505,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcHJvdG9jb2wvdW5pdmVyc2FsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxnaXRodWJfY2xvbmVcXGpwMTk4OGNoaWxsXFxuZXh0anMtcmVhY3QtdGVtcGxhdGVcXG15LWFwcFxcbm9kZV9tb2R1bGVzXFxAY29ubmVjdHJwY1xcY29ubmVjdFxcZGlzdFxcZXNtXFxwcm90b2NvbFxcdW5pdmVyc2FsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQgVGhlIENvbm5lY3QgQXV0aG9yc1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSBnaXZlbiBVbml2ZXJzYWxTZXJ2ZXJSZXF1ZXN0IGhhcyBhIGJ5dGUgc3RyZWFtIGJvZHksIG5vdFxuICogYSBKU09OIHZhbHVlLlxuICpcbiAqIFdlIGFjY2VwdCBhIEpTT04gb2JqZWN0IG9yIGEgYnl0ZSBzdHJlYW0gaW4gc2VydmVyIHJlcXVlc3RzLlxuICogSW4gcHJhY3RpY2UsIG9ubHkgQ29ubmVjdCB1bmFyeSBoYW5kbGVycyB3aWxsIHJlY2VpdmUgYSBwYXJzZVxuICogSlNPTiBvYmplY3QuIE90aGVyIGNhbGwtc2l0ZXMgY2FuIHVzZSB0aGlzIGFzc2VydGlvbiB0byBuYXJyb3dcbiAqIHRoZSB1bmlvbiB0eXBlLiBBIGZhaWx1cmUgaW4gc3VjaCBhIGNhbGwtc2l0ZXMgaW5kaWNhdGVzIHRoYXRcbiAqIHRoZSBjb250cmFjdCBiZXR3ZWVuIGEgc2VydmVyIGZyYW1ld29yayBhbmQgdGhlIGNvbm5lY3Qtbm9kZSBcXFxuICogaGFuZGxlciBpcyBicm9rZW4uXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRCeXRlU3RyZWFtUmVxdWVzdChyZXEpIHtcbiAgICBpZiAodHlwZW9mIHJlcS5ib2R5ID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgcmVxLmJvZHkgIT09IG51bGwgJiZcbiAgICAgICAgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVxLmJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJieXRlIHN0cmVhbSByZXF1aXJlZCwgYnV0IHJlY2VpdmVkIEpTT05cIik7XG59XG4vKipcbiAqIEhUVFAgMjAwIE9LXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCB1UmVzcG9uc2VPayA9IHtcbiAgICBzdGF0dXM6IDIwMCxcbn07XG4vKipcbiAqIEhUVFAgNDA0IE5vdCBGb3VuZFxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgdVJlc3BvbnNlTm90Rm91bmQgPSB7XG4gICAgc3RhdHVzOiA0MDQsXG59O1xuLyoqXG4gKiBIVFRQIDQxNSBVbnN1cHBvcnRlZCBNZWRpYSBUeXBlXG4gKlxuICogQHByaXZhdGUgSW50ZXJuYWwgY29kZSwgZG9lcyBub3QgZm9sbG93IHNlbWFudGljIHZlcnNpb25pbmcuXG4gKi9cbmV4cG9ydCBjb25zdCB1UmVzcG9uc2VVbnN1cHBvcnRlZE1lZGlhVHlwZSA9IHtcbiAgICBzdGF0dXM6IDQxNSxcbn07XG4vKipcbiAqIEhUVFAgNDA1IE1ldGhvZCBOb3QgQWxsb3dlZFxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgdVJlc3BvbnNlTWV0aG9kTm90QWxsb3dlZCA9IHtcbiAgICBzdGF0dXM6IDQwNSxcbn07XG4vKipcbiAqIEhUVFAgNTA1IFZlcnNpb24gTm90IFN1cHBvcnRlZFxuICpcbiAqIEBwcml2YXRlIEludGVybmFsIGNvZGUsIGRvZXMgbm90IGZvbGxvdyBzZW1hbnRpYyB2ZXJzaW9uaW5nLlxuICovXG5leHBvcnQgY29uc3QgdVJlc3BvbnNlVmVyc2lvbk5vdFN1cHBvcnRlZCA9IHtcbiAgICBzdGF0dXM6IDUwNSxcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/@connectrpc/connect/dist/esm/router.js":
/*!*************************************************************!*\
  !*** ./node_modules/@connectrpc/connect/dist/esm/router.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConnectRouter: () => (/* binding */ createConnectRouter)\n/* harmony export */ });\n/* harmony import */ var _connect_error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./connect-error.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/connect-error.js\");\n/* harmony import */ var _code_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./code.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/code.js\");\n/* harmony import */ var _implementation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./implementation.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/implementation.js\");\n/* harmony import */ var _protocol_grpc_web_handler_factory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./protocol-grpc-web/handler-factory.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc-web/handler-factory.js\");\n/* harmony import */ var _protocol_grpc_handler_factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./protocol-grpc/handler-factory.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-grpc/handler-factory.js\");\n/* harmony import */ var _protocol_connect_handler_factory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./protocol-connect/handler-factory.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol-connect/handler-factory.js\");\n/* harmony import */ var _protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol/universal-handler.js */ \"(middleware)/./node_modules/@connectrpc/connect/dist/esm/protocol/universal-handler.js\");\n// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n/**\n * Create a new ConnectRouter.\n */\nfunction createConnectRouter(routerOptions) {\n    const base = whichProtocols(routerOptions);\n    const handlers = [];\n    return {\n        handlers,\n        service(service, implementation, options) {\n            const { protocols } = whichProtocols(options, base);\n            handlers.push(...(0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.createUniversalServiceHandlers)((0,_implementation_js__WEBPACK_IMPORTED_MODULE_1__.createServiceImplSpec)(service, implementation), protocols));\n            return this;\n        },\n        rpc(serviceOrMethod, methodOrImpl, implementationOrOptions, options) {\n            let service;\n            let method;\n            let impl;\n            let opt;\n            if (\"typeName\" in serviceOrMethod) {\n                service = serviceOrMethod;\n                method = methodOrImpl;\n                impl = implementationOrOptions;\n                opt = options;\n            }\n            else {\n                service = Object.assign(Object.assign({}, serviceOrMethod.service), { methods: {} });\n                method = serviceOrMethod;\n                impl = methodOrImpl;\n                opt = implementationOrOptions;\n            }\n            const { protocols } = whichProtocols(opt, base);\n            handlers.push((0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.createUniversalMethodHandler)((0,_implementation_js__WEBPACK_IMPORTED_MODULE_1__.createMethodImplSpec)(service, method, impl), protocols));\n            return this;\n        },\n    };\n}\nfunction whichProtocols(options, base) {\n    if (base && !options) {\n        return base;\n    }\n    const opt = base\n        ? Object.assign(Object.assign({}, (0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.validateUniversalHandlerOptions)(base.options)), options) : Object.assign(Object.assign({}, options), (0,_protocol_universal_handler_js__WEBPACK_IMPORTED_MODULE_0__.validateUniversalHandlerOptions)(options !== null && options !== void 0 ? options : {}));\n    const protocols = [];\n    if ((options === null || options === void 0 ? void 0 : options.grpc) !== false) {\n        protocols.push((0,_protocol_grpc_handler_factory_js__WEBPACK_IMPORTED_MODULE_2__.createHandlerFactory)(opt));\n    }\n    if ((options === null || options === void 0 ? void 0 : options.grpcWeb) !== false) {\n        protocols.push((0,_protocol_grpc_web_handler_factory_js__WEBPACK_IMPORTED_MODULE_3__.createHandlerFactory)(opt));\n    }\n    if ((options === null || options === void 0 ? void 0 : options.connect) !== false) {\n        protocols.push((0,_protocol_connect_handler_factory_js__WEBPACK_IMPORTED_MODULE_4__.createHandlerFactory)(opt));\n    }\n    if (protocols.length === 0) {\n        throw new _connect_error_js__WEBPACK_IMPORTED_MODULE_5__.ConnectError(\"cannot create handler, all protocols are disabled\", _code_js__WEBPACK_IMPORTED_MODULE_6__.Code.InvalidArgument);\n    }\n    return {\n        options: opt,\n        protocols,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL0Bjb25uZWN0cnBjL2Nvbm5lY3QvZGlzdC9lc20vcm91dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0Q7QUFDakI7QUFDa0Q7QUFDb0I7QUFDUDtBQUNNO0FBQzJDO0FBQ2pKO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDLDZCQUE2Qiw4RkFBOEIsQ0FBQyx5RUFBcUI7QUFDakY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDhCQUE4QixhQUFhO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEMsMEJBQTBCLDRGQUE0QixDQUFDLHdFQUFvQjtBQUMzRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFLCtGQUErQiwwREFBMEQsWUFBWSwrRkFBK0Isc0RBQXNEO0FBQ3BPO0FBQ0E7QUFDQSx1QkFBdUIsdUZBQWtCO0FBQ3pDO0FBQ0E7QUFDQSx1QkFBdUIsMkZBQXFCO0FBQzVDO0FBQ0E7QUFDQSx1QkFBdUIsMEZBQXFCO0FBQzVDO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQVksc0RBQXNELDBDQUFJO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXGdpdGh1Yl9jbG9uZVxcanAxOTg4Y2hpbGxcXG5leHRqcy1yZWFjdC10ZW1wbGF0ZVxcbXktYXBwXFxub2RlX21vZHVsZXNcXEBjb25uZWN0cnBjXFxjb25uZWN0XFxkaXN0XFxlc21cXHJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDI0IFRoZSBDb25uZWN0IEF1dGhvcnNcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IHsgQ29ubmVjdEVycm9yIH0gZnJvbSBcIi4vY29ubmVjdC1lcnJvci5qc1wiO1xuaW1wb3J0IHsgQ29kZSB9IGZyb20gXCIuL2NvZGUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU1ldGhvZEltcGxTcGVjLCBjcmVhdGVTZXJ2aWNlSW1wbFNwZWMsIH0gZnJvbSBcIi4vaW1wbGVtZW50YXRpb24uanNcIjtcbmltcG9ydCB7IGNyZWF0ZUhhbmRsZXJGYWN0b3J5IGFzIGhhbmRsZXJGYWN0b3J5R3JwY1dlYiB9IGZyb20gXCIuL3Byb3RvY29sLWdycGMtd2ViL2hhbmRsZXItZmFjdG9yeS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFuZGxlckZhY3RvcnkgYXMgaGFuZGxlckZhY3RvcnlHcnBjIH0gZnJvbSBcIi4vcHJvdG9jb2wtZ3JwYy9oYW5kbGVyLWZhY3RvcnkuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUhhbmRsZXJGYWN0b3J5IGFzIGhhbmRsZXJGYWN0b3J5Q29ubmVjdCB9IGZyb20gXCIuL3Byb3RvY29sLWNvbm5lY3QvaGFuZGxlci1mYWN0b3J5LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVVbml2ZXJzYWxNZXRob2RIYW5kbGVyLCBjcmVhdGVVbml2ZXJzYWxTZXJ2aWNlSGFuZGxlcnMsIHZhbGlkYXRlVW5pdmVyc2FsSGFuZGxlck9wdGlvbnMsIH0gZnJvbSBcIi4vcHJvdG9jb2wvdW5pdmVyc2FsLWhhbmRsZXIuanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IENvbm5lY3RSb3V0ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25uZWN0Um91dGVyKHJvdXRlck9wdGlvbnMpIHtcbiAgICBjb25zdCBiYXNlID0gd2hpY2hQcm90b2NvbHMocm91dGVyT3B0aW9ucyk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBoYW5kbGVycyxcbiAgICAgICAgc2VydmljZShzZXJ2aWNlLCBpbXBsZW1lbnRhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgeyBwcm90b2NvbHMgfSA9IHdoaWNoUHJvdG9jb2xzKG9wdGlvbnMsIGJhc2UpO1xuICAgICAgICAgICAgaGFuZGxlcnMucHVzaCguLi5jcmVhdGVVbml2ZXJzYWxTZXJ2aWNlSGFuZGxlcnMoY3JlYXRlU2VydmljZUltcGxTcGVjKHNlcnZpY2UsIGltcGxlbWVudGF0aW9uKSwgcHJvdG9jb2xzKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgcnBjKHNlcnZpY2VPck1ldGhvZCwgbWV0aG9kT3JJbXBsLCBpbXBsZW1lbnRhdGlvbk9yT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IHNlcnZpY2U7XG4gICAgICAgICAgICBsZXQgbWV0aG9kO1xuICAgICAgICAgICAgbGV0IGltcGw7XG4gICAgICAgICAgICBsZXQgb3B0O1xuICAgICAgICAgICAgaWYgKFwidHlwZU5hbWVcIiBpbiBzZXJ2aWNlT3JNZXRob2QpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlID0gc2VydmljZU9yTWV0aG9kO1xuICAgICAgICAgICAgICAgIG1ldGhvZCA9IG1ldGhvZE9ySW1wbDtcbiAgICAgICAgICAgICAgICBpbXBsID0gaW1wbGVtZW50YXRpb25Pck9wdGlvbnM7XG4gICAgICAgICAgICAgICAgb3B0ID0gb3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNlcnZpY2VPck1ldGhvZC5zZXJ2aWNlKSwgeyBtZXRob2RzOiB7fSB9KTtcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBzZXJ2aWNlT3JNZXRob2Q7XG4gICAgICAgICAgICAgICAgaW1wbCA9IG1ldGhvZE9ySW1wbDtcbiAgICAgICAgICAgICAgICBvcHQgPSBpbXBsZW1lbnRhdGlvbk9yT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgcHJvdG9jb2xzIH0gPSB3aGljaFByb3RvY29scyhvcHQsIGJhc2UpO1xuICAgICAgICAgICAgaGFuZGxlcnMucHVzaChjcmVhdGVVbml2ZXJzYWxNZXRob2RIYW5kbGVyKGNyZWF0ZU1ldGhvZEltcGxTcGVjKHNlcnZpY2UsIG1ldGhvZCwgaW1wbCksIHByb3RvY29scykpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHdoaWNoUHJvdG9jb2xzKG9wdGlvbnMsIGJhc2UpIHtcbiAgICBpZiAoYmFzZSAmJiAhb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG4gICAgY29uc3Qgb3B0ID0gYmFzZVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdmFsaWRhdGVVbml2ZXJzYWxIYW5kbGVyT3B0aW9ucyhiYXNlLm9wdGlvbnMpKSwgb3B0aW9ucykgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB2YWxpZGF0ZVVuaXZlcnNhbEhhbmRsZXJPcHRpb25zKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9KSk7XG4gICAgY29uc3QgcHJvdG9jb2xzID0gW107XG4gICAgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZ3JwYykgIT09IGZhbHNlKSB7XG4gICAgICAgIHByb3RvY29scy5wdXNoKGhhbmRsZXJGYWN0b3J5R3JwYyhvcHQpKTtcbiAgICB9XG4gICAgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZ3JwY1dlYikgIT09IGZhbHNlKSB7XG4gICAgICAgIHByb3RvY29scy5wdXNoKGhhbmRsZXJGYWN0b3J5R3JwY1dlYihvcHQpKTtcbiAgICB9XG4gICAgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY29ubmVjdCkgIT09IGZhbHNlKSB7XG4gICAgICAgIHByb3RvY29scy5wdXNoKGhhbmRsZXJGYWN0b3J5Q29ubmVjdChvcHQpKTtcbiAgICB9XG4gICAgaWYgKHByb3RvY29scy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3RFcnJvcihcImNhbm5vdCBjcmVhdGUgaGFuZGxlciwgYWxsIHByb3RvY29scyBhcmUgZGlzYWJsZWRcIiwgQ29kZS5JbnZhbGlkQXJndW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiBvcHQsXG4gICAgICAgIHByb3RvY29scyxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/@connectrpc/connect/dist/esm/router.js\n");

/***/ })

};
;